/*! For license information please see 122.5357ff45.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{20057:function(t,e,o){"use strict";o.d(e,"a",(function(){return y}));var n=o(11766),i=o(12754),r=o(12839);function s(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?s(Object(o),!0).forEach((function(e){u(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e,o){return(e=d(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function d(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}();return function(){var o,n=v(t);if(e){var i=v(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return f(this,o)}}function f(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(u,t);var e,o,i,s=h(u);function u(){var t;c(this,u);for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=s.call(this,...o)).containerRef=n.createRef(),t.monaco=void 0,t.editor=void 0,t.subscriptions=void 0,t.ignoreChangeEvent=void 0,t.isUnmounted=void 0,t.async=new r.a(g(t)),t.getMonacoEditorOptions=()=>{var{isReadOnly:e,language:o,themeData:n}=t.props,i=a({},t.props.options);n&&(t.monaco.editor.defineTheme("myTheme",n),i=a(a({},t.props.options),{},{theme:"myTheme"}));var r=a(a({},u.defaultOptions),i);return void 0!==e&&(r.readOnly=e),void 0!==o&&(r.language=o),r},t}return e=u,(o=[{key:"render",value:function(){var t={height:this.props.height||180,width:this.props.width};return n.createElement("div",{className:this.props.className,ref:this.containerRef,style:t,"data-automation-id":this.props.automationId})}},{key:"componentDidMount",value:function(){this.isUnmounted=!1,this.downloadAndCreateMonacoEditor()}},{key:"componentDidUpdate",value:function(t){if(this.editor){var{value:e}=this.props,o=this.editor.getModel();e&&o&&e!==o.getValue()&&(this.ignoreChangeEvent=!0,this.editor.pushUndoStop(),o.pushEditOperations([],[{range:o.getFullModelRange(),text:e}],t=>null),this.editor.pushUndoStop(),this.ignoreChangeEvent=!1),this.editor.updateOptions(this.getMonacoEditorOptions())}}},{key:"componentWillUnmount",value:function(){if(this.editor){var{editorWillUnmount:t}=this.props;t&&t(),this.subscriptions&&(this.subscriptions.forEach(t=>t.dispose()),this.subscriptions=[]),this.editor.dispose(),this.editor=void 0,this.monaco=void 0}this.async.dispose(),this.isUnmounted=!0}},{key:"insertText",value:function(t){this.editor&&this.monaco&&this.editor.executeEdits("monacoEditor",[{range:this.getRange(),text:t,forceMoveMarkers:!0}])}},{key:"replaceText",value:function(t){var e,o=null===(e=this.editor)||void 0===e?void 0:e.getModel();this.editor&&o&&o&&t!==o.getValue()&&o.pushEditOperations([],[{range:o.getFullModelRange(),text:t}],t=>null)}},{key:"focus",value:function(){this.editor&&this.editor.focus()}},{key:"scrollIntoView",value:function(t){this.containerRef.current&&this.containerRef.current.scrollIntoView(t)}},{key:"moveCursor",value:function(t){if(this.monaco&&this.editor){var e=null,o=this.editor.getSelection();(e=o?o.getPosition():this.editor.getPosition())&&(e=e.delta(0,t),this.editor.setPosition(e))}}},{key:"getRange",value:function(){var t,e;if(!this.monaco||!this.editor)return null;var o=null!==(t=this.editor.getPosition())&&void 0!==t?t:new this.monaco.Position(0,0);return null!==(e=this.editor.getSelection())&&void 0!==e?e:this.monaco.Range.fromPositions(o,o)}},{key:"downloadAndCreateMonacoEditor",value:function(){u.LoadModule().then(t=>{this.isUnmounted||(this.monaco=t,this.createMonacoEditor())}).catch(t=>{if(this.props.loggingService.logError("".concat(this.props.dataLoadingFailureTelemetryEventNamePrefix,".downloadAndCreateMonacoEditor"),t),!this.isUnmounted){var{onError:e}=this.props;e&&e(t)}})}},{key:"createMonacoEditor",value:function(){var{editorWillMount:t,editorDidMount:e,value:o,languageConfiguration:n}=this.props;t&&this.monaco&&t(this.monaco);var i=this.getMonacoEditorOptions();n&&this.monaco.languages.setLanguageConfiguration(i.language,this.props.languageConfiguration),this.editor=this.monaco.editor.create(this.containerRef.current,i),this.editor.setValue(null!=o?o:""),this.subscriptions=[this.editor.onDidChangeModelContent(()=>{!this.ignoreChangeEvent&&this.editor&&this.props.onChange&&this.props.onChange(this.editor.getValue())})],this.editor.layout(),e&&this.async.setTimeout(()=>{e()},0)}}])&&l(e.prototype,o),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(n.Component);y.defaultOptions={fontSize:13,folding:!1,language:"json",lineNumbers:"off",theme:Object(i.Y)().isInverted?"vs-dark":"vs",minimap:{enabled:!1},scrollBeyondLastLine:!1},y.LoadModule=()=>Promise.all([o.e(213),o.e(133)]).then(o.t.bind(null,32152,7))}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/122.5357ff45.chunk.js.map