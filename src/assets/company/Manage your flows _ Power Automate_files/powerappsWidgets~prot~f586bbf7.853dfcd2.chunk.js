/*! For license information please see powerappsWidgets~prot~f586bbf7.853dfcd2.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{21931:function(e,t,r){"use strict";r.d(t,"a",(function(){return E})),r.d(t,"b",(function(){return A}));var o=r(16810),i=r(17911),n=r(14899),a=r(13240),p=r(21932),c=r(16806),s=r(11806),u=r(13223),l=(r(13236),r(11766)),d=r(13237),g=r(15998);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,v(o.key),o)}}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,o=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=["modulePath","moduleEntityId","submodulePath","submoduleEntityId"],P="build",O="explore";function j(e,t){var r=[];for(var o of w){var i=e[o]||t[o]||void 0;if("modulePath"===o&&i===O&&(i=P),!i)break;r.push(i)}return 0===r.length&&r.push(O),r.join("/")}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(S,e);var t,r,v,b=y(S);function S(){var e;h(this,S);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=b.call(this,...r)).noopNextNavigation=!1,e.powerAppsWidgetKey=Object(u.a)(),e.onReady=()=>Object(p.b)(e.props),e.onLoadingError=t=>Object(p.a)(e.props,t),e.onNavigationOccurred=t=>{var r="ModelsPage"===t.data.targetPage?Object(i.d)(e.props.routeCrafter):"PromptsPage"===t.data.targetPage?Object(i.e)(e.props.routeCrafter):"DocumentAutomationPage"===t.data.targetPage?Object(i.a)(e.props.routeCrafter):"MonitorActivityPage"===t.data.targetPage?Object(g.d)(e.props.routeCrafter):Object(i.c)(e.props.routeCrafter),{pathname:o,search:n,hash:a}=e.props.location;"".concat(o).concat(n).concat(a)!==r&&(e.noopNextNavigation=!0,e.props.navigationService.navigate(r))},e.onSetAppSideBarVisibility=(t,r)=>{var o,i=!(null!==(o=null==t?void 0:t.data)&&void 0!==o&&!o);e.props.sessionStore.setAppSideBarVisibility(i),r()},e.onPremiumRequiredDialogDismiss=()=>{e.props.navigationService.navigate(Object(n.a)(e.props.routeCrafter,"home"))},e}return t=S,(r=[{key:"componentDidMount",value:function(){this.props.policyService.shouldShowUpgradeToProDialog&&(this.props.telemetryService.tagEvent(a.c.BillingDialogShown,{dialogType:c.b.upgradeToPro}),Object(o.a)(this.props.surfaceStore,this.props.clientResources,this.props.appSettings,this.onPremiumRequiredDialogDismiss))}},{key:"shouldComponentUpdate",value:function(e){var{pathname:t,search:r}=this.props.location,{pathname:o,search:i}=e.location;return"".concat(t).concat(r)!=="".concat(o).concat(i)&&(this.noopNextNavigation?this.noopNextNavigation=!1:this.powerAppsWidgetKey=Object(u.a)()),!0}},{key:"render",value:function(){return this.props.policyService.shouldShowUpgradeToProDialog?null:l.createElement(d.a,{key:this.powerAppsWidgetKey,widgetType:PowerAppsSDK.WidgetTypes.AIBuilderWidget,widgetConfig:{container:"powerapps-aiBuilder",environmentName:this.props.environmentStore.currentEnvironmentName,builderModulePath:j(this.props.match.params,Object(s.c)(this.props.location.search)),queryParameter:this.props.location.search,hash:this.props.location.hash},onReady:this.onReady,onError:this.onLoadingError,listeners:[{methodName:PowerAppsSDK.WidgetEvents.AIBuilderWidget.setAppSideBarVisibility,callback:this.onSetAppSideBarVisibility},{methodName:PowerAppsSDK.WidgetEvents.Common.navigationOccurred,callback:this.onNavigationOccurred}],appSettings:this.props.appSettings,clientResources:this.props.clientResources,featureFlags:this.props.featureFlags,loggingService:this.props.loggingService,telemetryService:this.props.telemetryService,tokenService:this.props.tokenService,widgetUtilService:this.props.widgetUtilService})}}])&&f(t.prototype,r),v&&f(t,v),Object.defineProperty(t,"prototype",{writable:!1}),S}(l.Component);function A(e,t,r){return l.createElement(d.a,{widgetType:PowerAppsSDK.WidgetTypes.AIBuilderWidget,widgetConfig:{container:"powerapps-aiBuilder",environmentName:t.environmentStore.currentEnvironmentName,builderModulePath:e},onError:r.onError,listeners:[{methodName:"AIBUILDER_DISMISS",callback:r.onDismiss},{methodName:"AIBUILDER_PROMPT_CREATED",callback:r.onPromptCreated},{methodName:"AIBUILDER_PROMPT_UPDATED",callback:r.onPromptUpdated}],appSettings:t.appSettings,clientResources:t.clientResources,featureFlags:t.featureFlags,loggingService:t.loggingService,telemetryService:t.telemetryService,tokenService:t.tokenService,widgetUtilService:t.widgetUtilService})}}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/powerappsWidgets~prot~f586bbf7.853dfcd2.chunk.js.map