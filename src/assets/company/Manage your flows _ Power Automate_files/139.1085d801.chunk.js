/*! For license information please see 139.1085d801.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{14343:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}));var r=n(11766),a=n(12754),i=n(12706),o=n(12811),c=n(14344);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=f(e);if(t){var a=f(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){return e.xxLarge="75",e.xLarge="48",e.large="40",e.medium="32",e.small="24",e.xSmall="20",e}({}),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,n,d,m=p(f);function f(){var e;s(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=m.call(this,...n)).palette=Object(a.Y)().palette,e.getClassNames=Object(i.a)(),e}return t=f,(n=[{key:"render",value:function(){var{brandColor:e,className:t,cdnService:n,iconUri:a,iconAriaLabel:i,size:s,dataAutomationId:l}=this.props,d="".concat(s,"px"),u={width:d,height:d},p={backgroundImage:a?"url('".concat(n.getCdnUrl(a),"')"):void 0,backgroundColor:e||this.palette.black,padding:s===b.small||s===b.xSmall?0:4,width:d,height:d},m=this.getClassNames(c.a,this.props),f=Object(o.a)(m.root,t);return r.createElement("div",{className:f,style:u,"data-automation-id":l},r.createElement("div",{role:"img","aria-label":i,className:m.icon,style:p}))}}])&&l(t.prototype,n),d&&l(t,d),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.PureComponent)},14344:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=e=>({root:["fl-ApiIcon",{boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.15)",position:"relative",borderRadius:3}],icon:["fl-ApiIcon-icon",{height:"100%",width:"100%",borderRadius:3,backgroundRepeat:"no-repeat",backgroundOrigin:"content-box",backgroundPosition:"center",backgroundSize:"contain"}]})},20472:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n(11766),a=n(15697),i=n(12706),o=n(12811),c=n(12940),s=n(13272),l=n(20353),d=n(20473),u=n(14347),p=n(12872),m=n(15538),f=n(12728),b=n(14678),y=n(15501),v=["options","customOptions","labelledById","dataAutomationId","calloutDataAutomationId"];function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function E(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=N(e);if(t){var a=N(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=()=>r.createElement("div",{style:{margin:10}},r.createElement(u.a,{shimmerElements:[{type:u.b.circle,height:24},{type:u.b.gap,width:"2%"},{type:u.b.line},{type:u.b.gap,width:"3%"}]})),k=()=>r.createElement("div",{"data-automation-id":b.a.dropdowns.customValueDropdown.shimmer},r.createElement(D,null),r.createElement(D,null),r.createElement(D,null),r.createElement(D,null),r.createElement(D,null)),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(A,e);var t,n,u,E=j(A);function A(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),(t=E.call(this,e)).dropdownRef=r.createRef(),t.dropdownBounds=void 0,t.getClassNames=Object(i.a)(),t.classNames=t.getClassNames(d.a),t.customOptionKeys=new Set,t.listId=Object(f.a)("CustomValueDropdown-List"),t.calloutDefaultMaxHeight=400,t.renderContainer=e=>{var n,a,i;if(!e)return null;var{onDismiss:o,onRenderAddCustomAction:s,hasMoreOptions:l,onShowMoreActionClick:d,isLoading:u,hasMoreMessage:p,onRenderHasMoreMessage:m,calloutDataAutomationId:f}=t.props;t.updateDropdownBounds();var b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calloutMaxHeight:t.evaluateMaxCalloutHeight(null===(n=window)||void 0===n?void 0:n.innerHeight,null===(a=t.dropdownBounds)||void 0===a?void 0:a.height,null===(i=t.props.calloutProps)||void 0===i?void 0:i.minPagePadding),calloutWidth:t.dropdownBounds&&t.dropdownBounds.width,contentEditable:!1,coverTarget:!1,hideOverflow:!1,isBeakVisible:!1,setInitialFocus:!0,target:t.dropdownRef.current&&t.dropdownRef.current._dropDown.current,onDismiss:()=>{t.dropdownRef.current&&t.dropdownRef.current._onDismiss(),o&&o()}},t.props.calloutProps);return r.createElement(c.a,h({className:t.classNames.container,"data-automation-id":f},b),s&&s(t.focusDropdown)||t.renderAddCustomAction(),t.renderCustomOptions(),t.renderHeader(),t.onRenderListContainer(e.options),l&&!u&&(p||m)&&t.renderHasMoreMessage(),l&&!u&&d&&t.renderShowMoreAction())},t.renderAddCustomAction=()=>{var{addCustomItemText:e,hideCustomAdd:n,onClickAddCustomItem:a}=t.props;return!n&&e?r.createElement("div",null,r.createElement(l.a,{className:t.classNames.addAction,iconName:s.a.Add,title:e,onClick:a,text:e,dataAutomationId:b.a.dropdowns.customValueDropdown.addCustomItemButton}),r.createElement("hr",{className:t.classNames.divider})):null},t.renderCustomOptions=()=>{var{customOptions:e,customOptionsHeaderText:n}=t.props;return t.hasCustomOptions()?r.createElement(r.Fragment,null,n&&r.createElement("div",{className:t.classNames.header},r.createElement("span",{className:t.classNames.headerText},n)),t.renderFocusableList(e,!0)):null},t.renderHeader=()=>t.props.onRenderHeader?t.props.onRenderHeader():null,t.onRenderListContainer=e=>{var{isLoading:n,onRenderEmptyResults:a}=t.props;return e&&t.hasOnlyHiddenOrCustomOptions(e)&&!n&&a?a():n?r.createElement(k,null):t.renderFocusableList(e)},t.renderOptionButton=(e,n)=>{var{onRenderListOption:a=t.onRenderOptionWithAutomationId}=t.props;return r.createElement(m.a,{id:"".concat(t.listId).concat(e.key),key:e.key,className:t.classNames.listItem,role:"option","aria-label":e.ariaLabel,disabled:e.disabled,"data-is-focusable":!e.disabled,"aria-selected":e.selected,onClick:n,"data-automation-id":e["data-automation-id"],"data-automation-key":e["data-automation-key"],iconProps:e.iconProps},a(e,t.onRenderOption))},t.onRenderOption=e=>e?r.createElement("div",{className:t.classNames.listItemTextContainer},r.createElement("div",{className:t.classNames.listItemText},e.text),t.props.hideInternalValue?null:r.createElement("div",{className:t.classNames.listItemSubText},e.data&&e.data.description)):null,t.onRenderOptionWithAutomationId=e=>null!=e&&e.dataAutomationId||null!=e&&e.dataAutomationKey?r.createElement("span",{"data-automation-id":null==e?void 0:e.dataAutomationId,"data-automation-key":null==e?void 0:e.dataAutomationKey},t.onRenderOption(e)):t.onRenderOption(e),t.focusDropdown=()=>{t.dropdownRef.current&&t.dropdownRef.current.focus()},t.isCustomOption=e=>!!e&&t.customOptionKeys.has(e.key),t.hasOnlyHiddenOrCustomOptions=e=>e.every(e=>t.isCustomOption(e)||e.hidden),t.hasCustomOptions=()=>{var{customOptions:e}=t.props;return!!e&&!!e.length},t.updateDropdownBounds=()=>{t.dropdownRef.current&&(t.dropdownBounds=t.dropdownRef.current._dropDown.current.getBoundingClientRect())},t}return t=A,(n=[{key:"render",value:function(){var e,t=this.props,{options:n,customOptions:i,labelledById:c,dataAutomationId:s,calloutDataAutomationId:l}=t,d=g(t,v);i&&(this.customOptionKeys.clear(),i.forEach(e=>this.customOptionKeys.add(e.key)));var u=this.hasCustomOptions()?n.concat(i):n,p=u.find(e=>e.selected);return r.createElement(a.a,h({},d,{options:u,className:Object(o.a)(this.classNames.root,this.props.className),componentRef:this.dropdownRef,onRenderContainer:this.renderContainer,"aria-label":c?void 0:null!==(e=d.label)&&void 0!==e?e:d.ariaLabel,"aria-labelledby":c,"aria-owns":this.listId,"aria-activedescendant":p?"".concat(this.listId).concat(p.key):void 0,"data-automation-id":s}))}},{key:"renderHasMoreMessage",value:function(){var{hasMoreMessage:e,onRenderHasMoreMessage:t}=this.props;return r.createElement(r.Fragment,null,r.createElement("hr",{className:this.classNames.divider}),t?t():r.createElement("div",{className:this.classNames.hasMoreMessage},e))}},{key:"renderShowMoreAction",value:function(){var{onShowMoreActionClick:e}=this.props;return r.createElement(l.a,{className:this.classNames.showMoreAction,title:this.props.clientResources.List.ShowMore,onClick:e,text:this.props.clientResources.List.ShowMore,dataAutomationId:b.a.dropdowns.customValueDropdown.showMoreButton})}},{key:"renderFocusableList",value:function(e,t){return e?r.createElement(p.a,{id:this.listId,role:"listbox","aria-labelledby":this.props.labelledById},e.map(e=>{var n=t=>(!1!==this.props.dismissOnSelect&&this.dropdownRef.current&&this.dropdownRef.current._onDismiss(),this.props.onChange?this.props.onChange(t,e):null);return e.hidden||this.isCustomOption(e)&&!t?null:this.props.multiSelect?r.createElement(y.a,{checked:e.selected,onRenderLabel:()=>this.renderOptionButton(e,n),onChange:e=>n(e),className:this.classNames.checkbox}):this.renderOptionButton(e,n)})):null}},{key:"componentDidMount",value:function(){this.updateDropdownBounds()}},{key:"dismissDropdown",value:function(){this.dropdownRef.current&&this.dropdownRef.current._onDismiss()}},{key:"evaluateMaxCalloutHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;if(!e)return this.calloutDefaultMaxHeight;var r=null!=t?t:0,a=null!=n?n:8,i=(e-r)/2-a;return i<=0||i>this.calloutDefaultMaxHeight?this.calloutDefaultMaxHeight:i}}])&&S(t.prototype,n),u&&S(t,u),Object.defineProperty(t,"prototype",{writable:!1}),A}(r.Component)},20473:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12754),a=()=>{var{semanticColors:e,palette:t}=Object(r.Y)();return{root:["fl-CustomValueDropdown",{}],container:["fl-CustomValueDropdown-Container",{}],addAction:["fl-CustomValueDropdown-AddAction",{width:"100%"}],divider:["fl-CustomValueDropdown-Divider",{margin:"0 ".concat(8,"px")}],header:["fl-CustomValueDropdown-Header",{display:"flex",alignItems:"center",padding:"".concat(8,"px ").concat(8,"px 0 ").concat(8,"px")}],headerText:["fl-CustomValueDropdown-Header-Text",{flexGrow:1}],list:["fl-CustomValueDropdown-List",{}],hasMoreMessage:["fl-CustomValueDropdown-HasMoreMessage",{display:"flex",justifyContent:"center",width:"100%",padding:"".concat(8,"px")}],showMoreAction:["fl-CustomValueDropdown-ShowMoreAction",{display:"flex",justifyContent:"center",width:"100%"}],listItem:["fl-CustomDropdownEditor-ListItem",{display:"flex",height:"auto",padding:8,backgroundColor:t.white,width:"100%",color:t.neutralPrimary,selectors:{".ms-Button-flexContainer":{overflow:"hidden",flexGrow:1,textAlign:"left"},"&:focus,&:hover":{cursor:"pointer",backgroundColor:t.neutralLight},"&.is-disabled,&.is-disabled:hover":{cursor:"default",color:e.disabledText,backgroundColor:t.white},[r.m]:{backgroundColor:"Window",".fl-CustomDropdown-ListItem-Text, .fl-CustomDropdown-ListItem-SubText":{color:"inherit"},":focus":{backgroundColor:"Window",outline:"Highlight auto 1px"},":hover":{backgroundColor:"Highlight",".fl-CustomDropdown-ListItem-Text, .fl-CustomDropdown-ListItem-SubText":{color:"inherit"}},forcedColorAdjust:"none"}}}],listItemTextContainer:["fl-CustomDropdown-ListItem-TextContainer",{flexGrow:1,overflow:"hidden",padding:"0 ".concat(8,"px 0 12px"),textAlign:"left"}],listItemText:["fl-CustomDropdown-ListItem-Text",{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],listItemSubText:["fl-CustomDropdown-ListItem-SubText",{color:t.neutralSecondary,fontSize:r.k.small,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textTransform:"lowercase"}],checkbox:{paddingLeft:20,".ms-Checkbox-label":{width:"100%"}}}}},20662:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={LearnMoreAboutCredentials:"https://go.microsoft.com/fwlink/?linkid=2248451",LearnMoreAboutSharingCredentials:"https://go.microsoft.com/fwlink/?linkid=2245453",LearnMoreAboutCredentialMappings:"https://go.microsoft.com/fwlink/?linkid=2283924",LearnMoreAboutCredentialStores:"https://go.microsoft.com/fwlink/?linkid=2300404",LearnMoreAboutSharingMappingCredentials:"https://go.microsoft.com/fwlink/?linkid=2301822"}},20667:function(e,t,n){"use strict";n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return A})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return D}));var r=n(13021),a=n(13275),i=n(12812),o=n(14678),c=n(14337),s=n(11766),l=n.n(s),d=n(15918),u=n(15923),p=n(20668),m=n(20669),f=n(20472),b=n(14346),y=n(13009),v=n(13272),g=n(14901),h=n(20670),C=n(13031),O=n(20665),S=n(20662),E=n(20700),w="create.Credential",j=Object(c.c)(e=>{var{label:t,placeholder:n,selectedCredentialId:a,onChange:i,onMappingLoaded:c,connectionTypes:s,usageTypes:p,required:m,disabled:v,styles:S,routeCrafter:j,environmentStore:k,onError:T,onRenderLabel:L,telemetryScenarioInfo:I}=e,M=Object(d.a)(),{telemetryService:V}=Object(u.a)(),{currentSearchText:R,setCurrentSearchText:x,isCredentialsEnabled:P,credentialListLoadingError:_,refetch:B,isLoadingCredentials:F,options:U,findCredential:G}=Object(E.a)({connectionTypes:s,usageTypes:p,environmentStore:k,telemetryScenarioInfo:I}),q=Object(h.i)({credentialId:P?a:void 0}),K=!!a&&q.isLoading,H=F||K;l.a.useEffect(()=>{P&&a&&q.data?c(q.data):c(void 0)},[q.data,P,a]),l.a.useEffect(()=>{(_||q.error)&&T(Object(C.a)(M.Credentials.CredentialPicker.ErrorMessage,Object(y.db)(_||q.error)),r.a.error)},[_,q.error]);return l.a.createElement(f.a,{label:t,placeholder:n,selectedKey:H?null:a||null,onChange:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((e,t)=>{var n=null==t?void 0:t.key;V.tagEvent(O.b.CredentialPicker_SelectionChanged,{credentialId:n}),i(n,(e=>{var t=G(e);return t?{connectionType:t.connectionType,credentialType:t.type}:void 0})(n))}),options:U,required:m,disabled:v||H,styles:S,clientResources:M,onRenderHeader:()=>l.a.createElement(N,{refetch:B,setCurrentSearchText:x}),isLoading:H,addCustomItemText:M.Credentials.CredentialPicker.NewCredentialButton,onClickAddCustomItem:()=>{V.tagEvent(O.b.CredentialPicker_NewCredentialButton_Clicked),window.open(Object(g.j)(j,{[w]:"true"}),b.b.blank)},onRenderOption:A,onRenderEmptyResults:()=>l.a.createElement(D,{currentSearchText:R}),onRenderLabel:L,dataAutomationId:o.a.dropdowns.credentialsSelectionDropdown.root,calloutDataAutomationId:o.a.dropdowns.credentialsSelectionDropdown.credentialsDropdownOptions.root})}),A=(e,t)=>l.a.createElement(a.a,{horizontal:!0,verticalAlign:"center",horizontalAlign:"center"},l.a.createElement(i.a,{iconName:v.a.CredentialList,styles:{root:{marginRight:8}}}),t?t(e):null==e?void 0:e.text);function N(e){var{refetch:t,setCurrentSearchText:n}=e,r=Object(d.a)();return l.a.createElement(m.a,{onRefreshList:t,setCurrentTextValue:n,placeHolderText:r.RpaEditorPickerHeader.Searchbox.PlaceholderDefault,searchBoxAutomationId:o.a.dropdowns.credentialsSelectionDropdown.credentialsDropdownOptions.searchTextField,buttonAutomationId:o.a.dropdowns.credentialsSelectionDropdown.credentialsDropdownOptions.refreshButton})}function D(e){var{currentSearchText:t}=e,n=Object(d.a)();return l.a.createElement(p.a,{currentSearchText:t,learnMoreLink:S.a.LearnMoreAboutCredentials,strings:{Description:n.Credentials.CredentialPicker.EmptyResults.Description,Title:n.Credentials.CredentialPicker.EmptyResults.Title,LearnMoreAriaLabel:n.Credentials.CredentialsListPage.EmptyState.LearnMoreAriaLabel}})}},20668:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(11766),a=n.n(r),i=n(15918),o=n(14346),c=n(13031),s=n(16873),l=n(12754),d=n(15941),u=n(14678);function p(e){var t,n,{currentSearchText:r,strings:p,learnMoreLink:m}=e,f=Object(i.a)(),b=Object(s.a)(),y=a.a.useMemo(()=>Object(l.db)({emptyResultsContainer:{color:b.palette.neutralSecondary,minHeight:150,overflowY:"auto",padding:20,textAlign:"center"},emptyResultsMessage:{fontSize:l.k.smallPlus,margin:10},emptyResultsTitle:{fontWeight:l.l.semibold}}),[b.palette]);return r?(t=Object(c.a)(f.Designer.Editors.CustomValue.Empty.SearchTitle,r),n=f.Designer.Editors.CustomValue.Empty.SearchMessage):(t=p.Title,n=p.Description),a.a.createElement("div",{className:y.emptyResultsContainer,"data-automation-id":u.a.dropdowns.customValueDropdown.emptyState.root},a.a.createElement("div",{className:y.emptyResultsTitle},t),a.a.createElement("div",{className:y.emptyResultsMessage},r&&n,!r&&a.a.createElement(d.a,{textColor:b.palette.neutralSecondary,overrideLinksColor:!0,interpolatedString:n,linkProps:{ariaLabel:p.LearnMoreAriaLabel,href:m,target:o.b.blank}})))}},20669:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(12754),a=n(12838),i=n(11766),o=n(15918),c=n(12366),s=n(13272),l=n(13259),d=n(14681);function u(e){var{setCurrentTextValue:t,currentSearchText:n,onRefreshList:u,placeHolderText:m,searchBoxAutomationId:f,buttonAutomationId:b}=e,y=Object(o.a)(),v=Object(r.db)(p),[g,h]=i.useState(n||"");i.useEffect(()=>{h(n||"")},[n]);var C=()=>{t(""),h("")},O=Object(a.a)(),S=i.useCallback(O.debounce(e=>{t(e)},c.h.search),[O,t]);return i.createElement("div",{className:v.header},i.createElement(d.a,{placeholder:m,onChange:e=>{S(e),h(e)},onSearch:t,onClear:C,onEscape:C,value:g,required:!1,dataAutomationId:f}),u&&i.createElement(l.a,{title:y.Common.Refresh,iconName:s.a.Refresh,onClick:u,dataAutomationId:b}))}var p={header:["fl-RpaEditorPicker-Header",{display:"flex",margin:10,selectors:{".fl-SearchBox":{flexGrow:1,width:"calc(100% - 32px)"},[r.m]:{".ms-Button":{backgroundColor:"ButtonFace"}}}}]}},20670:function(e,t,n){"use strict";n.d(t,"f",(function(){return B})),n.d(t,"d",(function(){return F})),n.d(t,"b",(function(){return G})),n.d(t,"j",(function(){return q})),n.d(t,"e",(function(){return K})),n.d(t,"a",(function(){return H})),n.d(t,"h",(function(){return z})),n.d(t,"g",(function(){return J})),n.d(t,"i",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"o",(function(){return W})),n.d(t,"p",(function(){return $})),n.d(t,"k",(function(){return Y})),n.d(t,"l",(function(){return Z})),n.d(t,"n",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"c",(function(){return re}));var r=n(14785),a=n(14769),i=n(14767),o=n(11766),c=n(20671),s=n(15921),l=n(15923),d=n(16791),u=n(15925),p=n(13009),m=n(15992),f=n(15425),b=n(15429),y=n(20674),v=n(20675),g=n(20676),h=n(20677),C=n(16744),O=n(15402),S=n(16781),E=n(15959),w=n(16788),j=n(20678),A=n(15937),N=n(16790),D=n(15982),k=n(20687),T=n(20692),L=n(20698),I=n(20699);function M(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){M(i,r,a,o,c,"next",e)}function c(e){M(i,r,a,o,c,"throw",e)}o(void 0)}))}}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={all:()=>["credentials"],collections:()=>[..._.all(),"collections"],details:()=>[..._.all(),"details"],credentialsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return[..._.collections(),"list",e]},credentialItem:e=>[..._.details(),e],mapping:e=>[..._.credentialItem(e),"mapping"],dependencies:e=>[..._.credentialItem(e),"dependencies"],credentialOwners:()=>[..._.collections(),"creators"],credentialOption:e=>[..._.credentialItem(e),"option"]};function B(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(L.d)(),n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a=Object(L.e)(t),{config:i,isInitialLoadingConfig:o}=ne(),c=null===(e=t.connectionTypes)||void 0===e?void 0:e.includes(L.c.NoMatchingCredentialConnectionType);return Object(w.a)({queryKey:_.credentialsList(t),entitySetName:E.v.CredentialEntityMetadata.entitySetName,getFetchXMLQuery:e=>{var{pageParam:t}=e;return Object(T.a)({pageNumber:t},a,i)},transformResult:k.a,loggingOptions:{eventStartName:I.a.GetCredentialsListStart,eventEndName:I.a.GetCredentialsListEnd,eventData:x(x({},r),{},{filterCredentialTypes:null==a?void 0:a.credentialTypes,filterConnectionTypes:null==a?void 0:a.connectionTypes,filterUsageTypes:null==a?void 0:a.usageType,filterIdsCount:null==a?void 0:a.ids.length,filterSearchLength:null==a?void 0:a.search.length})},disabled:n||o||c})}function F(){var e=Object(o.useCallback)(e=>e,[]);return Object(w.a)({queryKey:_.credentialOwners(),entitySetName:E.v.CredentialEntityMetadata.entitySetName,getFetchXMLQuery:e=>{var{pageParam:t}=e;return Object(T.c)({pageNumber:t})},transformResult:e,loggingOptions:{eventStartName:I.a.ListCredentialsOwnersStart,eventEndName:I.a.ListCredentialsOwnersEnd}})}var U={attributeName:"credentialid",entityFullyQualifiedLogicalName:"Microsoft.Dynamics.CRM.credential"};function G(e){return Object(N.b)(U,e)}function q(e,t){var{isError:n}=Object(N.a)(U,e,t);return n}function K(e){var{id:t,disableQuery:n,telemetryScenarioInfo:a}=e,{loggingService:i,xrmEntityHttpClient:o}=Object(l.a)(),{config:c,isInitialLoadingConfig:s}=ne(),d=Object(D.e)(k.d);return Object(r.a)({queryKey:_.credentialItem(t),queryFn:()=>Object(O.b)({loggingService:i,promise:Object(T.g)(o,t,c),eventStartName:I.a.GetCredentialsItemStart,eventEndName:I.a.GetCredentialsItemEnd,eventData:x({id:t},a),getStatus:p.y}),select:d,enabled:!n&&!s})}function H(e){var t,{loggingService:n,xrmEntityHttpClient:r}=Object(l.a)(),o=Object(a.b)(),{isEnabled:s}=Object(c.d)();return Object(i.a)(t=>{var{item:a}=t,i=Object(k.b)(a,!!s);return Object(O.b)({loggingService:n,promise:Object(T.d)(r,i),eventStartName:I.a.CreateCredentialStart,eventEndName:I.a.CreateCredentialEnd,eventData:x({credentialType:i.credentialtype,connnectionType:i.connectiontype,usageType:i.usagetype},e),getStatus:m.i})},{onSuccess:(t=V((function*(e,t){var n,{onSuccess:r}=t;yield o.invalidateQueries({queryKey:_.collections()}),null!=e&&null!==(n=e.data)&&void 0!==n&&n.cyberarkobject&&(yield o.invalidateQueries({queryKey:j.b.allCyberArkStores()})),r()})),function(e,n){return t.apply(this,arguments)})})}function z(e){var t,{loggingService:n,xrmEntityHttpClient:r}=Object(l.a)(),o=Object(a.b)(),{isEnabled:s}=Object(c.d)();return Object(i.a)(t=>{var{credentialId:a,edits:i}=t,o=Object(k.c)(i,!!s);return Object(O.b)({loggingService:n,promise:Object(T.f)(r,a,o),eventStartName:I.a.EditCredentialStart,eventEndName:I.a.EditCredentialEnd,eventData:x({credentialId:a,credentialType:o.credentialtype,connnectionType:o.connectiontype,usageType:o.usagetype},e),getStatus:m.i})},{onSuccess:(t=V((function*(e,t){var{credentialId:n,onSuccess:r}=t;yield o.invalidateQueries({queryKey:_.credentialItem(n)}),yield o.invalidateQueries({queryKey:_.collections()}),r()})),function(e,n){return t.apply(this,arguments)})})}function J(){var e,{loggingService:t,xrmEntityHttpClient:n}=Object(l.a)(),r=Object(a.b)();return Object(i.a)(e=>{var{credentialId:r}=e;return Object(O.b)({loggingService:t,promise:Object(T.e)(n,r),eventStartName:I.a.DeleteCredentialStart,eventEndName:I.a.DeleteCredentialEnd,eventData:{credentialId:r}})},{onSuccess:(e=V((function*(e,t){var{credentialId:n}=t;yield r.invalidateQueries({queryKey:_.credentialItem(n)}),yield r.invalidateQueries({queryKey:_.collections()})})),function(t,n){return e.apply(this,arguments)})})}var Q=e=>{var{credentialId:t}=e,{loggingService:n,xrmEntityHttpClient:a}=Object(l.a)();return Object(r.a)({enabled:!!t,queryKey:t?_.mapping(t):void 0,queryFn:t?()=>Object(O.b)({loggingService:n,promise:Object(T.h)(a,t),eventStartName:I.a.GetCredentialsMappingStart,eventEndName:I.a.GetCredentialsMappingEnd,getStatus:e=>Object(p.cb)(e)===p.c.UnknownEnvironmentVariable?p.e.Warning:Object(p.y)(e),eventData:{credentialId:t}}):void 0,select:T.j})},X=e=>{var{credentialId:t}=e,{loggingService:n,xrmEntityHttpClient:a}=Object(l.a)();return Object(r.a)({queryKey:_.dependencies(t),queryFn:()=>Object(O.b)({loggingService:n,promise:Object(T.i)(a,t),eventStartName:I.a.ListCredentialsDependenciesStart,eventEndName:I.a.ListCredentialsDependenciesEnd,getStatus:p.y,eventData:{credentialId:t}}),select:T.k})};function W(e){var{environmentName:t,hasXrm:n}=e,{loggingService:r,xrmEntityHttpClient:a}=Object(l.a)();return Object(A.a)(b.a.Credentials,{environmentName:t,hasXrm:n},a,r,{eventStartName:I.a.GetCredentialFCBStart,eventEndName:I.a.GetCredentialFCBEnd})}function $(){var e=Object(g.a)(),{featureFlags:t}=Object(l.a)(),n=e||t.enableCyberArkCredential,{isInitialLoading:r,hasMinimumSolutionVersion:a}=Y();return{isInitialLoading:r,hasMinimumSolutionVersion:n&&a}}function Y(){var e,t=Object(h.a)(),{environmentStore:n}=Object(s.a)(),{isInitialLoading:r,hasMinimumSolutionVersion:a}=Object(u.a)(f.a.solutionUniqueName,f.a.cyberArkApplicationMinimumVersion,!(null===(e=n.currentEnvironment)||void 0===e||!e.hasXrmInstance));return{isInitialLoading:r,hasMinimumSolutionVersion:t||a}}function Z(){var e,{environmentStore:t}=Object(s.a)(),{isInitialLoading:n,hasMinimumSolutionVersion:r}=Object(u.a)(f.a.solutionUniqueName,f.a.credentialNetworkUsageTypeMinimumVersion,!(null===(e=t.currentEnvironment)||void 0===e||!e.hasXrmInstance));return{isInitialLoading:n,hasMinimumSolutionVersion:r}}function ee(){var e,{featureFlags:t}=Object(l.a)(),{environmentStore:n}=Object(s.a)(),{isInitialLoading:r,hasMinimumSolutionVersion:a}=Object(u.a)(f.a.solutionUniqueName,f.a.certBasedAuthCredentialMinimumVersion,!(null===(e=n.currentEnvironment)||void 0===e||!e.hasXrmInstance));return{isInitialLoading:r,hasMinimumSolutionVersion:a&&t.enableCertificateBasedAuthenticationCredential&&Object(y.a)()}}function te(){var e,t=Object(v.a)(),{environmentStore:n}=Object(s.a)(),{isInitialLoading:r,hasMinimumSolutionVersion:a}=Object(u.a)(f.a.solutionUniqueName,f.a.akvInMachineMappingCredentialMinimumVersion,!(null===(e=n.currentEnvironment)||void 0===e||!e.hasXrmInstance));return{isInitialLoading:r,hasMinimumSolutionVersion:t&&a}}function ne(){var{featureFlags:e}=Object(l.a)(),{hasMinimumSolutionVersion:t,isInitialLoading:n}=$(),{hasMinimumSolutionVersion:r,isInitialLoading:a}=ee(),{isEnabled:i,isInitialLoading:o}=Object(c.d)(),{isEnabled:s,isInitialLoading:d}=Object(c.b)();return{config:{isCyberArkEnabled:t,isCertBasedAuthEnabled:r,isDesktopFlowCredentialEnabled:i,isManagedSupportEnabled:Object(C.fb)(e),isDefaultCredentialEnabled:s},isInitialLoadingConfig:n||a||o||d}}function re(e,t){var{loggingService:n}=Object(l.a)(),r=Object(d.c)(d.a.Credential),a=Object(S.g)(e.map(e=>function(e,t,n,r){return{queryKey:_.credentialOption(n),queryFn:()=>{var a;return Object(O.b)({loggingService:e,promise:t.getAsync(Object(T.b)(n)),eventStartName:I.a.GetCredentialOptionStart,eventEndName:I.a.GetCredentialOptionEnd,eventData:x(x({},null==r?void 0:r.telemetryScenarioInfo),{},{credentialId:n}),getStatus:null!==(a=null==r?void 0:r.getStatusOverride)&&void 0!==a?a:p.y})}}}(n,r,e,t)));return Object(S.b)(a)}},20671:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return f}));var r=n(15921),a=n(15923),i=n(15925),o=n(15425),c=n(20672),s=n(20673),l=n(20670),d=n(16744);function u(e){var t,n=!0===(null===(t=e.environmentClaim)||void 0===t?void 0:t.hasXrmInstance),{hasMinimumSolutionVersion:r,isInitialLoading:a}=Object(i.a)(o.a.solutionUniqueName,o.a.credentialsMinVersion,n),{data:c,isInitialLoading:s}=Object(l.o)({environmentName:e.currentEnvironmentName,hasXrm:n});return{isEnabled:!!n&&!!r&&!!c,isInitialLoading:a||s}}function p(){var e,{featureFlags:t}=Object(a.a)(),{environmentStore:n}=Object(r.a)(),c=Object(d.o)(t),{isInitialLoading:s,hasMinimumSolutionVersion:l}=Object(i.a)(o.a.solutionUniqueName,o.a.credentialAppTypeMinimumVersion,!(null===(e=n.currentEnvironment)||void 0===e||!e.hasXrmInstance));return{isEnabled:c&&l,isInitialLoading:s}}function m(){var e,{featureFlags:t}=Object(a.a)(),{environmentStore:n}=Object(r.a)(),{isInitialLoading:s,hasMinimumSolutionVersion:l}=Object(i.a)(o.a.solutionUniqueName,o.a.credentialMachineMappingTypeMinimumVersion,!(null===(e=n.currentEnvironment)||void 0===e||!e.hasXrmInstance));return{isEnabled:t.enableCredentialMappingType&&Object(c.b)()&&l,isInitialLoading:s}}function f(){var e,t,{environmentStore:n}=Object(r.a)(),a=null!==(e=Object(s.c)())&&void 0!==e?e:"9.9.9.9",{isInitialLoading:c,hasMinimumSolutionVersion:l}=Object(i.a)(o.a.solutionUniqueName,a,!(null===(t=n.currentEnvironment)||void 0===t||!t.hasXrmInstance));return{isEnabled:Object(s.b)()&&l,isInitialLoading:c}}},20672:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(11809),a=n(11896),i=Object(a.a)({teamName:r.a.PowerAutomateClientTeam,owners:["pdaniels"],description:"Enable new credential mapping panel",ecsURL:"https://ecs.skype.com/PowerAutomate/PowerAutomateClientTeam/configurations/1477336",createdOn:"11/21/2024",fallback:{enableCredentialMappingType:!1,credentialMappingPreviewTag:!0}}),{getFeatureValue:o}=Object(a.b)(i,"enableCredentialMappingType"),{getFeatureValue:c}=Object(a.b)(i,"credentialMappingPreviewTag")},20673:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(11809),a=n(11896),i=Object(a.a)({teamName:r.a.PowerAutomateClientTeam,owners:["pdaniels"],description:"Enable user credential mapping panel",ecsURL:"https://ecs.skype.com/PowerAutomate/PowerAutomateClientTeam/configurations/1480215",createdOn:"11/26/2024",fallback:{enableUserCredentialMappingType:!1,minimumSolutionVersionForCredentialMapping:null,credentialUserMappingPreviewTag:!0}}),{getFeatureValue:o}=Object(a.b)(i,"enableUserCredentialMappingType"),{getFeatureValue:c}=Object(a.b)(i,"credentialUserMappingPreviewTag"),{getFeatureValue:s}=Object(a.b)(i,"minimumSolutionVersionForCredentialMapping")},20674:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11809),a=n(11896),i=Object(a.a)({teamName:r.a.PowerAutomateClientTeam,owners:["pdaniels"],description:"Enables Certificate Based Authentication Credential",ecsURL:"https://ecs.skype.com/PowerAutomate/PowerAutomateClientTeam/configurations/1451067",createdOn:"10/09/2024",fallback:{enableCertificateBasedAuthenticationCredential:!1}}),{getFeatureValue:o}=Object(a.b)(i,"enableCertificateBasedAuthenticationCredential")},20675:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(11809),a=n(11896),i=Object(a.a)({teamName:r.a.PowerAutomateClientTeam,owners:["frehrh"],description:"Enable the addition of AKV credentials when creating/ editing a machine mapping credential",ecsURL:"https://ecs.skype.com/PowerAutomate/PowerAutomateClientTeam/configurations/1540803",createdOn:"01/21/2025",fallback:{enableAKVCredentialsInMachineMapping:!1}}),{getFeatureValue:o}=Object(a.b)(i,"enableAKVCredentialsInMachineMapping")},20676:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11808),a=()=>!!Object(r.a)().enableCyberArkApplication.getConfig().enableCyberArkApplication},20677:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11808),a=()=>!!Object(r.a)().enableCyberArkApplicationSolutionCheckBypass.getConfig().enableCyberArkApplicationSolutionCheckBypass},20678:function(e,t,n){"use strict";n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return k})),n.d(t,"i",(function(){return I})),n.d(t,"a",(function(){return M})),n.d(t,"g",(function(){return V})),n.d(t,"f",(function(){return R})),n.d(t,"e",(function(){return x})),n.d(t,"j",(function(){return _})),n.d(t,"h",(function(){return B}));var r=n(14769),a=n(14767),i=n(20686),o=n(14785),c=n(12324),s=n(15923),l=n(13009),d=n(15992),u=n(20679),p=n(15402),m=n(13078),f=n(15959),b=n(20670),y=n(16788),v=n(20680),g=n(20683),h=n(20684),C=n(20685);function O(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){O(i,r,a,o,c,"next",e)}function c(e){O(i,r,a,o,c,"throw",e)}o(void 0)}))}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=[u.b.String],N=[u.b.Secret],D=[u.b.JSON],k={all:()=>["environmentVariables"],types:e=>[...k.all(),"types",e],definitions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return[...k.types((null==e?void 0:e.types)||[]),"definitions",{ids:(null==e?void 0:e.ids)||[],search:(null==e?void 0:e.search)||""}]},allCyberArkStores:()=>[...k.all(),"types","CyberArk"],cyberArkStores:e=>[...k.allCyberArkStores(),e],recentCyberArkStores:()=>[...k.all(),"types","recentCyberArkStores"]},T={createEnvironmentVariable:["CreateEnvironmentVariable"]};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=Object(h.a)(t);return Object(y.a)(w({queryKey:k.definitions(i),entitySetName:f.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,getFetchXMLQuery:e=>{var{pageParam:t}=e;return Object(g.b)({pageNumber:t},i,a)},transformResult:e,loggingOptions:{eventStartName:C.a.GetEnvironmentVariableDefinitionListStart,eventEndName:C.a.GetEnvironmentVariableDefinitionListEnd,eventData:w({filterTypesCount:null==i?void 0:i.types.length,filterIdsCount:null==i?void 0:i.ids.length,filterSearchLength:null==i?void 0:i.search.length},r)}},n))}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return L(e=>Object(v.g)(e,r),e,t,n,r)}var M=function(e){return e.CyberArkStore="CyberArkStore",e}({});function V(e){return P(v.e,A,{eventStartName:C.a.CreateTextEnvironmentVariableStart,eventEndName:C.a.CreateTextEnvironmentVariableEnd,eventData:w({},e)})}function R(e){return P(v.d,N,{eventStartName:C.a.CreateSecretEnvironmentVariableStart,eventEndName:C.a.CreateSecretEnvironmentVariableEnd,eventData:w({},e)})}function x(e,t){var n=Object(r.b)();return P(v.c,D,{eventStartName:C.a.CreateObjectEnvironmentVariableStart,eventEndName:C.a.CreateObjectEnvironmentVariableEnd,eventData:w({},t)},function(){var t=S((function*(t){e===M.CyberArkStore&&(!function(e){try{var t=new m.a,n=t.getObject("cyberArkRecentStoreKey")||[];t.saveObject("cyberArkRecentStoreKey",[e,...n])}catch(r){}}({cyberArkStoreId:t.environmentvariabledefinitionid,displayName:t.displayname,displayDescription:t.description}),yield n.invalidateQueries({queryKey:k.recentCyberArkStores()}))}));return function(e){return t.apply(this,arguments)}}())}function P(e,t,n,i){var o,{loggingService:c,xrmEntityHttpClient:l}=Object(s.a)(),d=Object(r.b)();return Object(a.a)(t=>{var r=e(t);return Object(p.b)(w(w({},n),{},{loggingService:c,promise:Object(g.c)(l,r),getStatus:U}))},{mutationKey:T.createEnvironmentVariable,onSuccess:(o=S((function*(e,n){var{data:r}=e,{onSuccess:a}=n,o=Object(h.a)({types:t});yield d.invalidateQueries({queryKey:k.types((null==o?void 0:o.types)||[])}),null==a||a(r),yield null==i?void 0:i(r)})),function(e,t){return o.apply(this,arguments)}),onError:(e,t)=>{var{onError:n}=t;return null==n?void 0:n(e)}})}function _(){return Object(i.a)({mutationKey:T.createEnvironmentVariable})}function B(){var{search:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isLoading:t,data:n,fetchNextPage:r,hasNextPage:a,refetch:i,error:o}=F({search:e}),{isLoading:s,data:l}=G(),d=(null==e?void 0:e.trim().toLocaleLowerCase())||"",p=d&&l?l.filter(e=>e.displayName.toLocaleLowerCase().includes(d)):l||[],m=p.map(e=>e.cyberArkStoreId),f=p.concat(Object(c.flatten)((null==n?void 0:n.pages)||[]).filter(e=>!m.includes(e.cyberArkStoreId))).map(e=>({key:e.cyberArkStoreId,text:e.displayName,data:{variableType:u.b.JSON}})).sort((e,t)=>e.text.localeCompare(t.text));return{isLoading:t||s,data:f,fetchNextPage:r,hasNextPage:a,refetch:i,error:o}}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isInitialLoading:t,hasMinimumSolutionVersion:n}=Object(b.p)(),r={search:e.search||""},a=Object(y.a)({queryKey:k.cyberArkStores(r),entitySetName:f.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,getFetchXMLQuery:e=>{var{pageParam:t}=e;return Object(g.a)({pageNumber:t,filters:r})},transformResult:v.f,loggingOptions:{eventStartName:C.a.GetCyberArkStoreListStart,eventEndName:C.a.GetCyberArkStoreListEnd},disabled:t||!n});return t||!n?{isLoading:t,data:{pages:[],pageParams:[]},fetchNextPage:()=>{},hasNextPage:!1,refetch:()=>{},error:void 0}:a}var U=e=>{switch(Object(l.cb)(e)){case l.c.invalidSchemaNameErrorCode:case l.c.couldNotVerifyKeyvaultAccessErrorCode:case l.c.duplicateSchemaNameErrorCode:case l.c.MissingUserPermissionsOnEVSecretVariable:case l.c.KeyVaultAccessBlockedByFirewallRestrictions:return l.e.Warning;default:return Object(d.i)(e)}};function G(){return Object(o.a)({queryKey:k.recentCyberArkStores(),queryFn:()=>function(){try{return(new m.a).getObject("cyberArkRecentStoreKey")||[]}catch(e){return[]}}()})}},20679:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=function(e){return e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=3]="Boolean",e[e.JSON=4]="JSON",e[e.DataSource=5]="DataSource",e[e.Secret=6]="Secret",e}({}),a=function(e){return e[e.Unknown=3735928559]="Unknown",e}({}),i=function(e){return e[e.AzureKeyVault=1]="AzureKeyVault",e[e.MicrosoftDataverse=2]="MicrosoftDataverse",e}({}),o=function(e){return e[e.Unknown=3735928559]="Unknown",e}({})},20680:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(20679),a=n(20681);function i(e,t){var n,a,i={environmentVariableDefinitionId:e.environmentvariabledefinitionid,ownerId:e.ownerId,ownerFullName:e.ownerFullName,createdOn:e.createdOn,createdBy:e.createdBy,createdByFullName:e.createdByFullName,displayName:e.displayName,displayDescription:e.displayDescription,solutionId:e.solutionId,schemaName:e.schemaName,variableType:(n=e.variableType,null!==(a=c[n])&&void 0!==a?a:r.d.Unknown),secretStoreType:d(e.secretStoreType)};return t&&(i.defaultValue=e.defaultValue),i}function o(e){return{cyberArkStoreId:e.storeId,displayName:e.storeDisplayName,displayDescription:e.storeDescription}}var c={[a.e.String]:r.b.String,[a.e.Number]:r.b.Number,[a.e.Boolean]:r.b.Boolean,[a.e.JSON]:r.b.JSON,[a.e.DataSource]:r.b.DataSource,[a.e.Secret]:r.b.Secret};function s(e){for(var[t,n]of Object.entries(c))if(n===e)return+t;return a.e.String}var l={[a.d.AzureKeyVault]:r.a.AzureKeyVault,[a.d.MicrosoftDataverse]:r.a.MicrosoftDataverse};function d(e){if(null!=e){var t=l[e];return t||r.c.Unknown}}function u(e){var{displayName:t,schemaName:n,description:r,defaultValue:a}=e;return{displayname:t,schemaname:n,description:r,defaultvalue:a,type:1e8}}function p(e){var{displayName:t,schemaName:n,description:r,subscriptionId:a,resourceGroup:i,vault:o,secret:c}=e;return{displayname:t,schemaname:n,description:r,type:100000005,secretstore:0,defaultvalue:"/subscriptions/".concat(encodeURIComponent(a),"/resourceGroups/").concat(encodeURIComponent(i),"/providers/Microsoft.KeyVault/vaults/").concat(encodeURIComponent(o),"/secrets/").concat(encodeURIComponent(c))}}function m(e){var{displayName:t,schemaName:n,description:r,defaultValue:a}=e;return{displayname:t,schemaname:n,description:r,type:100000003,defaultvalue:a}}},20681:function(e,t,n){"use strict";var r=n(20682);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e}))},20682:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(15953),a=function(e){return e[e.String=1e8]="String",e[e.Number=100000001]="Number",e[e.Boolean=100000002]="Boolean",e[e.JSON=100000003]="JSON",e[e.DataSource=100000004]="DataSource",e[e.Secret=100000005]="Secret",e}({}),i=function(e){return e[e.AzureKeyVault=0]="AzureKeyVault",e[e.MicrosoftDataverse=1]="MicrosoftDataverse",e}({}),o={entityName:r.z.logicalName,to:"ownerid",from:"systemuserid"},c={entityName:r.z.logicalName,to:"createdby",from:"systemuserid"},s={entityName:r.d.logicalName,to:"environmentvariabledefinitionid",from:"cyberarksafe"}},20683:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var r=n(15400),a=n(15959),i=n(20681),o=n(15962),c=n(15966),s=n(15969);function l(e,t,n){var l,d,u=[{name:"environmentvariabledefinitionid"},{name:"createdon",alias:"createdOn"},{name:"displayname",alias:"displayName"},{name:"description",alias:"displayDescription"},{name:"solutionid",alias:"solutionId"},{name:"schemaname",alias:"schemaName"},{name:"type",alias:"variableType"},{name:"secretstore",alias:"secretStoreType"},{name:"ownerid",alias:"ownerId"},{name:"createdby",alias:"createdBy"}];return n&&u.push({name:"defaultvalue",alias:"defaultValue"}),new o.a(a.v.EnvironmentVariableDefinitionEntityMetadata.logicalName,{version:"1.0",mapping:"logical",count:null!==(l=e.itemsPerPage)&&void 0!==l?l:s.b,page:null!==(d=e.pageNumber)&&void 0!==d?d:s.a}).select(...u).expand({entityLink:i.c,selects:[{name:"fullname",alias:"ownerFullName"}]}).expand({entityLink:i.b,selects:[{name:"fullname",alias:"createdByFullName"}]}).conditionally(()=>t,(e,t)=>{var{ids:n,types:a,search:i}=t;return e.where({type:"and",conditions:[n.length&&{attribute:"environmentvariabledefinitionid",operator:"in",values:n},a.length&&{attribute:"type",operator:"in",values:a.map(e=>e.toString())},i.length&&{type:"or",isQuickFindField:!0,conditions:[Object(c.c)("displayname",i),Object(c.c)("description",i)]}].filter(r.a)})}).orderBy({attribute:"displayname"}).build()}function d(e,t){return e.createRecord(a.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,t,void 0,!0)}function u(e){var t,n;return new o.a(a.v.EnvironmentVariableDefinitionEntityMetadata.logicalName,{version:"1.0",mapping:"logical",distinct:!0,count:null!==(t=e.itemsPerPage)&&void 0!==t?t:s.b,page:null!==(n=e.pageNumber)&&void 0!==n?n:s.a}).where({type:"and",conditions:[{attribute:"type",operator:"eq",value:i.e.JSON.toString()}]}).select({name:"environmentvariabledefinitionid",alias:"storeId"},{name:"displayname",alias:"storeDisplayName"},{name:"description",alias:"storeDescription"}).orderBy({attribute:"displayname"}).expand({entityLink:i.a,where:{type:"and",conditions:[{attribute:"cyberarksafe",operator:"not-null"}]},linkType:"inner"}).conditionally(()=>e.filters,(e,t)=>{var{search:n}=t;return e.where({type:"and",conditions:[(null==n?void 0:n.length)&&{type:"or",isQuickFindField:!0,conditions:[Object(c.c)("displayname",n),Object(c.c)("description",n)]}].filter(r.a)})}).build()}},20684:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20680);function a(e){var t={search:"",ids:[],types:[]};if(Object.entries(i).forEach(n=>{var[r,a]=n;t[r]=a(e)}),function(e){return Object.values(o).some(t=>t(e))}(t))return t}var i={search:e=>{var t,n;return null!==(t=null==e||null===(n=e.search)||void 0===n?void 0:n.trim())&&void 0!==t?t:""},ids:e=>null!=e&&e.ids?e.ids.slice().sort():[],types:e=>null!=e&&e.types?e.types.map(e=>Object(r.b)(e)).sort():[]},o={search:e=>!!e.search,ids:e=>e.ids.length>0,types:e=>e.types.length>0}},20685:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={GetEnvironmentVariableDefinitionListStart:"DAL_DATAVERSE_FetchEnvironmentVariableDefinitionList_START",GetEnvironmentVariableDefinitionListEnd:"DAL_DATAVERSE_FetchEnvironmentVariableDefinitionList_END",GetCyberArkStoreListStart:"DAL_DATAVERSE_FetchCyberArkStoreList_START",GetCyberArkStoreListEnd:"DAL_DATAVERSE_FetchCyberArkStoreList_END",CreateTextEnvironmentVariableStart:"DAL_DATAVERSE_CreateTextEnvironmentVariable_START",CreateTextEnvironmentVariableEnd:"DAL_DATAVERSE_CreateTextEnvironmentVariable_END",CreateSecretEnvironmentVariableStart:"DAL_DATAVERSE_CreateSecretEnvironmentVariable_START",CreateSecretEnvironmentVariableEnd:"DAL_DATAVERSE_CreateSecretEnvironmentVariable_END",CreateObjectEnvironmentVariableStart:"DAL_DATAVERSE_CreateObjectEnvironmentVariable_START",CreateObjectEnvironmentVariableEnd:"DAL_DATAVERSE_CreateObjectEnvironmentVariable_END"}},20687:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return O}));var r=n(20688),a=n(12324),i=n(20689),o=n(17875),c=n(13051),s=n(15959),l=n(20690),d=n(20680);function u(e){return{id:e.credentialid,usage:E(null==e?void 0:e.usageType),displayName:e.displayName,description:e.displayDescription||void 0,createdDate:new Date(e.createdOn),createdBy:{fullname:e.createdByUserFullName,azureactivedirectoryobjectid:e.createdByUserAzureOID||null,systemuserid:e.createdByUserId,internalemailaddress:e.createdByUserEmail,isdisabled:!!e.createdByUserIsDisabled,islicensed:!!e.createdByUserIsLicensed,applicationid:e.createdByUserApplicationId||void 0},credentialType:h(e),secretStores:p(e),type:e.credentialType,connectionType:e.connectionType,isManaged:e.ismanaged,isCustomizable:e.iscustomizable,solutionId:e.solutionid}}function p(e){var t=[e.usernameSecretStore,e.passwordSecretStore,e.cyberarksafeSecretStore,e.cyberarkobjectSecretStore,e.cyberarkusernameSecretStore,e.certificateStore].map(d.a);return Object(a.uniq)(Object(a.compact)(t))}function m(e){var t,n,r,a,i,o,c;return{id:e.credentialid,displayName:e.name,description:e.description||void 0,createdDate:new Date(e.createdon),createdBy:{fullname:e.createdby.fullname,azureactivedirectoryobjectid:e.createdby.azureactivedirectoryobjectid,systemuserid:e.createdby.systemuserid,internalemailaddress:e.createdby.internalemailaddress,isdisabled:!!e.createdby.isdisabled,islicensed:!!e.createdby.islicensed,applicationid:e.createdby.applicationid||void 0},data:f({usageType:e.usagetype,credentialType:e.credentialtype,connectionType:e.connectiontype,credentialsList:e.credentials,usernameEnvironmentVariableId:null===(t=e.username)||void 0===t?void 0:t.environmentvariabledefinitionid,passwordEnvironmentVariableId:null===(n=e.password)||void 0===n?void 0:n.environmentvariabledefinitionid,cyberarkobject:null===(r=e.cyberarkobject)||void 0===r?void 0:r.environmentvariabledefinitionid,cyberarksafe:null===(a=e.cyberarksafe)||void 0===a?void 0:a.environmentvariabledefinitionid,cyberarkusername:null===(i=e.cyberarkusername)||void 0===i?void 0:i.environmentvariabledefinitionid,certificateEnvironmentVariableId:null===(o=e.certificate)||void 0===o?void 0:o.environmentvariabledefinitionid,defaultCredentialId:null===(c=e.defaultcredential)||void 0===c?void 0:c.credentialid,groupmapping:e.groupmapping,credentials:e.credentials}),isManaged:e.ismanaged,isCustomizable:e.iscustomizable,solutionId:e.solutionid}}function f(e){var t=E(null==e?void 0:e.usageType);if(e.connectionType===l.a.UsernamePassword&&e.credentialType===l.b.SingleCredential)return{usage:t,type:i.a.SingleLogin,value:{username:e.usernameEnvironmentVariableId||void 0,password:e.passwordEnvironmentVariableId||void 0}};if(e.connectionType===l.a.UsernamePassword&&e.credentialType===l.b.ListOfCredentials){var n=e.credentialsList?JSON.parse(e.credentialsList):[];if(n&&Array.isArray(n)&&n.every(e=>"string"==typeof e))return{usage:t,type:i.a.ListOfCredentials,value:{credentials:n}}}return e.connectionType===l.a.CyberArkIdentity&&e.credentialType===l.b.SingleCredential?{usage:t,type:i.a.CyberArkCredential,value:{cyberarkobject:e.cyberarkobject||void 0,cyberarksafe:e.cyberarksafe||void 0,cyberarkusername:e.cyberarkusername||void 0}}:e.connectionType===l.a.CertificateBasedAuthentication&&e.credentialType===l.b.SingleCredential?{usage:t,type:i.a.CertBasedAuthenticationCredential,value:{username:e.usernameEnvironmentVariableId||void 0,certificate:e.certificateEnvironmentVariableId||void 0}}:e.connectionType===l.a.MachineMapping&&e.credentialType===l.b.ListOfCredentials?{usage:t,type:i.a.CredentialMachineMapping,value:{defaultCredentialId:e.defaultCredentialId||"",mappings:b(e.groupmapping).map(e=>({targetId:e.machine,credentialIds:e.credentials}))}}:e.connectionType===l.a.UserMapping?{usage:t,type:i.a.CredentialUserMapping,value:{defaultCredentialId:e.defaultCredentialId||"",mappings:y(e.credentials).map(e=>({user:e.user,credential:e.credential}))}}:{usage:t,type:i.b.Unknown}}function b(e){if(!e)return[];try{var t=JSON.parse(e);return n=t,Object(c.h)(n,{mappings:Object(c.b)(v)})?t.mappings:[]}catch(r){return[]}var n}function y(e){if(!e)return[];try{var t=JSON.parse(e);return n=t,Object(c.h)(n,{mappings:Object(c.b)(g)})?t.mappings:[]}catch(r){return[]}var n}var v=e=>Object(c.h)(e,{machine:c.k,credentials:Object(c.b)(c.k)}),g=e=>Object(c.h)(e,{user:c.k,credential:c.k});function h(e){return e.connectionType===l.a.UsernamePassword&&e.credentialType===l.b.SingleCredential?i.a.SingleLogin:e.connectionType===l.a.UsernamePassword&&e.credentialType===l.b.ListOfCredentials?i.a.ListOfCredentials:e.connectionType===l.a.CyberArkIdentity&&e.credentialType===l.b.SingleCredential?i.a.CyberArkCredential:e.connectionType===l.a.CertificateBasedAuthentication&&e.credentialType===l.b.SingleCredential?i.a.CertBasedAuthenticationCredential:e.connectionType===l.a.MachineMapping&&e.credentialType===l.b.ListOfCredentials?i.a.CredentialMachineMapping:e.connectionType===l.a.UserMapping&&e.credentialType===l.b.ListOfCredentials?i.a.CredentialUserMapping:i.b.Unknown}function C(e,t){return S(e,t)}function O(e,t){var n=S(e,t);return delete n.connectiontype,delete n.credentialtype,delete n.usagetype,n}function S(e,t){var n={};if(e.displayName&&(n.name=e.displayName),e.description&&(n.description=e.description),e.data){if(t)switch(e.data.usage){case r.b.DesktopFlowAndConnection:n.usagetype=[l.c.DesktopScript,l.c.Connection].join(", ");break;case r.b.DesktopFlow:n.usagetype=l.c.DesktopScript;break;case r.b.Network:n.usagetype=l.c.Network;break;case r.b.Connection:default:n.usagetype=l.c.Connection}switch(e.data.type){case i.a.SingleLogin:n.credentialtype=l.b.SingleCredential,n.connectiontype=l.a.UsernamePassword,Object.assign(n,Object(o.c)(l.q,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.username||null)),Object.assign(n,Object(o.c)(l.p,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.password||null));break;case i.a.ListOfCredentials:n.credentialtype=l.b.ListOfCredentials,n.connectiontype=l.a.UsernamePassword,n.credentials=JSON.stringify(e.data.value.credentials),Object.assign(n,Object(o.c)(l.q,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,null)),Object.assign(n,Object(o.c)(l.p,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,null));break;case i.a.CyberArkCredential:n.credentialtype=l.b.SingleCredential,n.connectiontype=l.a.CyberArkIdentity,Object.assign(n,Object(o.c)(l.n,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.cyberarksafe||null)),Object.assign(n,Object(o.c)(l.m,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.cyberarkobject||null)),Object.assign(n,Object(o.c)(l.o,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.cyberarkusername||null));break;case i.a.CertBasedAuthenticationCredential:n.credentialtype=l.b.SingleCredential,n.connectiontype=l.a.CertificateBasedAuthentication,Object.assign(n,Object(o.c)(l.q,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.username||null)),Object.assign(n,Object(o.c)(l.l,s.v.EnvironmentVariableDefinitionEntityMetadata.entitySetName,e.data.value.certificate||null));break;case i.a.CredentialMachineMapping:n.credentialtype=l.b.ListOfCredentials,n.connectiontype=l.a.MachineMapping,Object.assign(n,Object(o.c)(l.k,s.v.CredentialEntityMetadata.entitySetName,e.data.value.defaultCredentialId||null)),n.groupmapping=JSON.stringify({mappings:e.data.value.mappings.map(e=>({machine:e.targetId,credentials:e.credentialIds}))});break;case i.a.CredentialUserMapping:n.credentialtype=l.b.ListOfCredentials,n.connectiontype=l.a.UserMapping,Object.assign(n,Object(o.c)(l.k,s.v.CredentialEntityMetadata.entitySetName,e.data.value.defaultCredentialId||null)),n.credentials=JSON.stringify({mappings:e.data.value.mappings.map(e=>({username:e.user,credential:e.credential}))});break;default:var a=e.data;throw new Error("Unexpected data type ".concat(a&&JSON.stringify(a)))}}return n}var E=e=>{if(!e)return r.b.Connection;var t=e.includes(l.c.Connection),n=e.includes(l.c.DesktopScript),a=e.includes(l.c.Network);return t&&n?r.b.DesktopFlowAndConnection:t?r.b.Connection:n?r.b.DesktopFlow:a?r.b.Network:r.b.Connection}},20688:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e){return e.SingleLogin="Login",e.ListOfCredentials="List",e.CyberArkCredential="CyberArk",e.CertBasedAuthenticationCredential="CertBasedAuthenticationCredential",e.CredentialMachineMapping="MachineMapping",e.CredentialUserMapping="UserMapping",e}({}),a=function(e){return e.DesktopFlow="DesktopFlow",e.Connection="Connection",e.DesktopFlowAndConnection="DesktopFlowAndConnection",e.Network="Network",e.None="None",e}({})},20689:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(20688);n.d(t,"a",(function(){return r.a}));var a=function(e){return e[e.Unknown=3735928559]="Unknown",e}({})},20690:function(e,t,n){"use strict";var r=n(20691);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.e})),n.d(t,"f",(function(){return r.f})),n.d(t,"g",(function(){return r.g})),n.d(t,"h",(function(){return r.h})),n.d(t,"i",(function(){return r.i})),n.d(t,"j",(function(){return r.j})),n.d(t,"k",(function(){return r.k})),n.d(t,"l",(function(){return r.l})),n.d(t,"m",(function(){return r.m})),n.d(t,"n",(function(){return r.n})),n.d(t,"o",(function(){return r.o})),n.d(t,"p",(function(){return r.p})),n.d(t,"q",(function(){return r.q}))},20691:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"o",(function(){return g})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return C}));var r=n(15953),a=function(e){return e[e.SingleCredential=1]="SingleCredential",e[e.ListOfCredentials=2]="ListOfCredentials",e}({}),i=function(e){return e[e.UsernamePassword=1]="UsernamePassword",e[e.UsernamePasswordList=2]="UsernamePasswordList",e[e.UsernamePasswordListWithGroupMapping=3]="UsernamePasswordListWithGroupMapping",e[e.CyberArkIdentity=4]="CyberArkIdentity",e[e.CertificateBasedAuthentication=5]="CertificateBasedAuthentication",e[e.MachineMapping=6]="MachineMapping",e[e.UserMapping=7]="UserMapping",e}({}),o=function(e){return e.Connection="280920000",e.DesktopScript="280920001",e.Network="280920002",e}({}),c=(r.z.logicalName,{entityName:r.z.logicalName,to:"createdby",from:"systemuserid"}),s={entityName:r.f.logicalName,to:"username",from:"environmentvariabledefinitionid"},l={entityName:r.f.logicalName,to:"password",from:"environmentvariabledefinitionid"},d={entityName:r.f.logicalName,to:"cyberarksafe",from:"environmentvariabledefinitionid"},u={entityName:r.f.logicalName,to:"cyberarkobject",from:"environmentvariabledefinitionid"},p={entityName:r.f.logicalName,to:"cyberarkusername",from:"environmentvariabledefinitionid"},m={entityName:r.f.logicalName,to:"certificate",from:"environmentvariabledefinitionid"},f=(r.d.logicalName,"username"),b="password",y="cyberarksafe",v="cyberarkobject",g="cyberarkusername",h="certificate",C="defaultcredential"},20692:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return E})),n.d(t,"b",(function(){return A}));var r=n(12324),a=n(15395),i=n(15400),o=n(15959),c=n(20693),s=n(20694),l=n(20690),d=n(15962),u=n(15966),p=n(20695),m=n(15969);function f(e,t,n){var r,a,c=new d.a(o.v.CredentialEntityMetadata.logicalName,{version:"1.0",mapping:"logical",count:null!==(r=e.itemsPerPage)&&void 0!==r?r:m.b,page:null!==(a=e.pageNumber)&&void 0!==a?a:m.a}).select({name:"credentialid"},{name:"name",alias:"displayName"},{name:"description",alias:"displayDescription"},{name:"credentialtype",alias:"credentialType"},{name:"connectiontype",alias:"connectionType"},{name:"createdon",alias:"createdOn"},{name:"ownerid",alias:"ownerId"}).expand({entityLink:l.j,selects:[{name:"systemuserid",alias:"createdByUserId"},{name:"fullname",alias:"createdByUserFullName"},{name:"islicensed",alias:"createdByUserIsLicensed"},{name:"isdisabled",alias:"createdByUserIsDisabled"},{name:"azureactivedirectoryobjectid",alias:"createdByUserAzureOID"},{name:"internalemailaddress",alias:"createdByUserEmail"},{name:"applicationid",alias:"createdByUserApplicationId"}]}).expand({entityLink:l.i,selects:[{name:"secretstore",alias:"usernameSecretStore"}],linkType:"outer"}).expand({entityLink:l.h,selects:[{name:"secretstore",alias:"passwordSecretStore"}],linkType:"outer"}).conditionally(()=>t,(e,t)=>{var{ids:r,createdByIds:a,credentialTypes:o,connectionTypes:c,search:s,orderBys:l,usageType:d}=t;return e.where({type:"and",conditions:[r.length&&{attribute:"credentialid",operator:"in",values:r},a.length&&{attribute:"createdby",operator:"in",values:a},o.length&&{attribute:"credentialtype",operator:"in",values:o.map(e=>e.toString())},c.length&&{attribute:"connectiontype",operator:"in",values:c.map(e=>e.toString())},s.length&&{type:"or",isQuickFindField:!0,conditions:[Object(u.c)("name",s),Object(u.c)("description",s)]},n.isDesktopFlowCredentialEnabled&&d.length&&N(d)].filter(i.a)}).orderBy(...l.map(e=>({attribute:e[0],descending:e[1]})))});return n.isCyberArkEnabled&&c.expand({entityLink:l.f,selects:[{name:"secretstore",alias:"cyberarksafeSecretStore"}],linkType:"outer"}).expand({entityLink:l.e,selects:[{name:"secretstore",alias:"cyberarkobjectSecretStore"}],linkType:"outer"}).expand({entityLink:l.g,selects:[{name:"secretstore",alias:"cyberarkusernameSecretStore"}],linkType:"outer"}),n.isCertBasedAuthEnabled&&c.expand({entityLink:l.d,selects:[{name:"secretstore",alias:"certificateStore"}],linkType:"outer"}),n.isDesktopFlowCredentialEnabled&&c.select({name:"usagetype",alias:"usageType"}),n.isManagedSupportEnabled&&c.select({name:"ismanaged",alias:"ismanaged"},{name:"iscustomizable",alias:"iscustomizable"},{name:"solutionid",alias:"solutionid"}),c.build()}function b(e){var t,n;return new d.a(o.v.CredentialEntityMetadata.logicalName,{version:"1.0",mapping:"logical",distinct:!0,count:null!==(t=e.itemsPerPage)&&void 0!==t?t:m.b,page:null!==(n=e.pageNumber)&&void 0!==n?n:m.a}).expand({entityLink:l.j,selects:p.a,orderBys:[{attribute:"fullname",descending:!1}]}).build()}function y(e,t,n){return e.retrieveRecord(o.v.CredentialEntityMetadata.entitySetName,t,j(n))}function v(e,t){return e.createRecord(o.v.CredentialEntityMetadata.entitySetName,t)}function g(e,t,n){return e.updateRecord(o.v.CredentialEntityMetadata.entitySetName,t,n)}function h(e,t){return e.deleteRecord(o.v.CredentialEntityMetadata.entitySetName,t)}function C(e,t){return e.getCustomActionOnRecord(s.a,"LISTCREDENTIALDEPENDENCIES",o.v.CredentialEntityMetadata.entitySetName,t)}function O(e){var t=e.data.response;try{return JSON.parse(t)}catch(n){return{Credentials:void 0,SingleCredential:void 0}}}function S(e,t){return e.getCustomActionOnRecord(c.a,"GETCREDENTIALMAPPING",o.v.CredentialEntityMetadata.entitySetName,t)}function E(e){var t=e.data.response;return JSON.parse(t)}var w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(",")},j=e=>{var t=["credentialid","name","description","credentialtype","connectiontype","createdon","credentials","username","password","_ownerid_value"],n=[l.q,l.p];e.isCyberArkEnabled&&n.push(l.n,l.m,l.o),e.isCertBasedAuthEnabled&&n.push(l.l),e.isManagedSupportEnabled&&(t=t.concat(["ismanaged","iscustomizable","solutionid"])),e.isDesktopFlowCredentialEnabled&&(t=t.concat(["usagetype"]));var a=[];return e.isDefaultCredentialEnabled&&(a.push(l.k),t=t.concat(["groupmapping"])),{$select:w(...t),$expand:Object(r.concat)(["createdby($select=".concat(w("fullname","azureactivedirectoryobjectid","systemuserid","internalemailaddress","isdisabled","islicensed","applicationid"),")")],n.map(e=>"".concat(e,"($select=").concat(w("environmentvariabledefinitionid"),")")),a.map(e=>"".concat(e,"($select=").concat(w("credentialid"),")"))).join(",")}};function A(e){var t="/credentials(".concat(e,")?$select=name,description");return{key:t,requestType:a.a.GET,path:t}}function N(e){if(e&&0!==e.length){var t={attribute:"usagetype",operator:"contain-values",values:e.map(e=>e.toString())};return e.includes(l.c.Connection)?{type:"or",conditions:[t,{attribute:"usagetype",operator:"null"}]}:t}}},20693:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Microsoft.Dynamics.CRM.GetMapping"},20694:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Microsoft.Dynamics.CRM.ListCredentialDependencies"},20695:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p}));var r=n(15959),a=n(20696),i=n(15962),o=n(15969),c=n(15971),s=[{name:"azureactivedirectoryobjectid",alias:"azureActiveDirectoryObjectId"},{name:"systemuserid",alias:"systemUserId"},{name:"fullname",alias:"fullName"},{name:"isdisabled",alias:"isDisabled"},{name:"islicensed",alias:"isLicensed"},{name:"internalemailaddress",alias:"internalEmailAddress"}],l={$select:s.map(e=>e.name).sort().join(",")},d=(e,t)=>t.retrieveRecord(r.r.entitySetName,e,l),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.c,l=new i.a(r.r.logicalName,{version:"1.0",mapping:"logical",count:s,page:n,distinct:!0}).select({name:"systemuserid",alias:"userId"},{name:"fullname",alias:"fullName"}).where({type:"and",conditions:t?Object(c.a)(t):[]}).orderBy({attribute:"fullname",descending:!1}).expand({entityLink:a.a,linkType:"exists"});return e.retrieveMultipleWithFetchXml(r.r.entitySetName,l.build(),!0)},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.c,l=new i.a(r.r.logicalName,{version:"1.0",mapping:"logical",count:s,page:n,distinct:!0}).select({name:"systemuserid",alias:"userId"},{name:"fullname",alias:"fullName"}).where({type:"and",conditions:t?Object(c.a)(t):[]}).orderBy({attribute:"fullname",descending:!1}).expand({entityLink:a.b,linkType:"exists"});return e.retrieveMultipleWithFetchXml(r.r.entitySetName,l.build(),!0)}},20696:function(e,t,n){"use strict";var r=n(20697);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},20697:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(15953),a={entityName:r.h.logicalName,to:"systemuserid",from:"ownerid"},i={entityName:r.u.logicalName,to:"systemuserid",from:"ownerid"}},20698:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c}));var r=function(e){return e.AzureKeyVault="AzureKeyVault",e.CyberArk="CyberArk",e}({}),a=function(e){return e.Password="Password",e.Certificate="Certificate",e.Mapping="Mapping",e.UserMapping="UserMapping",e}({}),i=function(e){return e[e.NoMatchingCredentialConnectionType=99999]="NoMatchingCredentialConnectionType",e}({});function o(){return{orderBys:[["createdon",!0]],createdOnDateFilters:{}}}function c(e){var t={search:"",ids:[],credentialTypes:[],connectionTypes:[],orderBys:[],createdOnDateFilters:{from:void 0,to:void 0},createdByIds:[],usageType:[]};if(Object.entries(s).forEach(n=>{var[r,a]=n;t[r]=a(e)}),function(e){return Object.values(d).some(t=>t(e))}(t))return t}var s={search:e=>{var t,n;return null!==(t=null==e||null===(n=e.search)||void 0===n?void 0:n.trim())&&void 0!==t?t:""},ids:e=>l(null==e?void 0:e.ids),credentialTypes:e=>l(null==e?void 0:e.credentialTypes),connectionTypes:e=>l(null==e?void 0:e.connectionTypes),createdOnDateFilters:e=>null!=e&&e.createdOnDateFilters?null==e?void 0:e.createdOnDateFilters:{from:void 0,to:void 0},createdByIds:e=>l(null==e?void 0:e.createdByIds),usageType:e=>l(null==e?void 0:e.usageType),orderBys:e=>null!=e&&e.orderBys?null==e?void 0:e.orderBys:[]};function l(e){return e?e.slice().sort():[]}var d={search:e=>!!e.search,ids:e=>e.ids.length>0,credentialTypes:e=>e.credentialTypes.length>0,connectionTypes:e=>e.connectionTypes.length>0,createdOnDateFilters:e=>!!e.createdOnDateFilters.to||!!e.createdOnDateFilters.from,createdByIds:e=>e.createdByIds.length>0,usageType:e=>e.usageType.length>0,orderBys:e=>e.orderBys.length>0}},20699:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={GetCredentialsListStart:"DAL_DATAVERSE_FetchCredentialsList_START",GetCredentialsListEnd:"DAL_DATAVERSE_FetchCredentialsList_END",GetCredentialsItemStart:"DAL_DATAVERSE_FetchCredentialsItem_START",GetCredentialsItemEnd:"DAL_DATAVERSE_FetchCredentialsItem_END",CreateCredentialStart:"DAL_DATAVERSE_PostCredential_START",CreateCredentialEnd:"DAL_DATAVERSE_PostCredential_END",EditCredentialStart:"DAL_DATAVERSE_EditCredential_START",EditCredentialEnd:"DAL_DATAVERSE_EditCredential_END",DeleteCredentialStart:"DAL_DATAVERSE_DeleteCredential_START",DeleteCredentialEnd:"DAL_DATAVERSE_DeleteCredential_END",GetCredentialsMappingStart:"DAL_DATAVERSE_GetCredentialsMapping_START",GetCredentialsMappingEnd:"DAL_DATAVERSE_GetCredentialsMapping_END",GetCredentialFCBStart:"DAL_DATAVERSE_GetCredentialFCB_START",GetCredentialFCBEnd:"DAL_DATAVERSE_GetCredentialFCB_END",ListCredentialsDependenciesStart:"DAL_DATAVERSE_ListCredentialsDependencies_START",ListCredentialsDependenciesEnd:"DAL_DATAVERSE_ListCredentialsDependencies_END",ListCredentialsOwnersStart:"DAL_DATAVERSE_ListCredentialsOwners_START",ListCredentialsOwnersEnd:"DAL_DATAVERSE_ListCredentialsOwners_END",GetCredentialOptionStart:"DAL_DATAVERSE_GetCredentialOptionStart_Start",GetCredentialOptionEnd:"DAL_DATAVERSE_GetCredentialOptionStart_END"}},20700:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(12754),a=n(14678),i=n(13271),o=n(13118),c=n.n(o),s=n(11766),l=n.n(s),d=n(15923),u=n(13272),p=n(14682),m=n(20690),f=n(20670),b=n(20671);function y(e){var t,{connectionTypes:n,usageTypes:r,environmentStore:a,telemetryScenarioInfo:i}=e,{featureFlags:o}=Object(d.a)(),[s,u]=l.a.useState(""),{isEnabled:p,isInitialLoading:y}=Object(b.a)(a),{isInitialLoading:g,error:h,data:C,refetch:O}=Object(f.f)({connectionTypes:n,usageType:null!=r?r:o.enableCredentialUsageTypeFiltering?[m.c.Connection]:void 0,createdOnDateFilters:{},orderBys:[],search:s},!p,i),S=y||g,E=p?c()(null!==(t=null==C?void 0:C.pages)&&void 0!==t?t:[]):[];return{currentSearchText:s,setCurrentSearchText:u,isCredentialsEnabled:p,credentialListLoadingError:h,refetch:O,isLoadingCredentials:S,options:E.map(v),findCredential:e=>E.find(t=>t.id===e)}}function v(e){return{key:e.id,text:e.displayName,data:e,iconProps:{iconName:u.a.LoginCredential,styles:{root:{color:"inherit",height:r.k.size20}}},[p.a]:a.a.dropdowns.credentialsSelectionDropdown.credentialsDropdownOptions.option,[i.j]:e.id}}}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/139.1085d801.chunk.js.map