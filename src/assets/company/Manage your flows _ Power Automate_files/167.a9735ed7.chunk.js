/*! For license information please see 167.a9735ed7.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{21986:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var i=r(12754);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e=>{var t=void 0===e.unsetPaddingCellStyle||e.unsetPaddingCellStyle,r=t?{padding:"0!important"}:{};return{root:{display:"flex",flexDirection:"column",height:"100%",overflow:"auto",".ms-DetailsRow-cell":o({lineHeight:40},t?{paddingTop:1,paddingBottom:1}:{}),".ba-DetailsList-container":{height:"100%"},".ba-DetailsList-container .ms-DetailsRow":{borderTop:0},".fl-DetailsList-empty, .ba-DetailsList-empty, .ba-DetailsList-error":{display:"flex",flexDirection:"column",height:"100%",alignItems:"center",justifyContent:"center"},".ba-EmptyState-PrimaryMessage":{paddingTop:20},"& .fl-ActionMenu .fl-ActionMenu-item":{height:"100%"},"& .fl-ContentWithActionMenuCell .fl-ContentWithActionMenuCell-content":o({fontSize:14,color:Object(i.Y)().palette.neutralPrimary},r),".ms-Button:hover":{textDecoration:"none"}},empty:{".ba-DetailsList-container, .fl-DetailsList-container":{height:"auto"}}}}},22030:function(e,t,r){"use strict";r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return P}));var i=r(12364),n=r(15992),o=r(20991),a=r(22027),s=r(15395),u=r(15396),l=r(16841),c=r(15985),p=r(20708),d=r(17269),f=r(21023),h=r(21025),v=r(22031);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,k(i.key),i)}}function k(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,i=V(e);if(t){var n=V(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(f,e);var t,r,l,c=N(f);function f(e,t,r,i,o,s,l,p){var h;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(h=c.call(this,e,r,i,o,s,l,p)).httpClient=t,h.createVirtualNetwork=(e,t,r,i)=>{var o=h.entityManagerServiceHelper.createEntity(h.store.virtualNetworks,()=>h.httpClient.createVirtualNetwork(e,t,r,i).then(e=>{var t=e&&e.data&&P(e.data,h.loggingService);return t&&h.store.virtualNetworks.collections.forEach(e=>e.invalidateCache()),t}),"createVirtualNetwork",d.b.CreateVirtualNetwork,d.a.TargetList);return Object(u.d)({loggingService:h.loggingService,promise:o,eventName:d.b.CreateVirtualNetworkMSR,sourcePage:d.a.TargetList,getStatus:n.i,eventData:{virtualNetworkType:v.a[v.a.AzureAdJoin],virtualNetworkSupportedScenario:a.c[i||0]}})},h.toVirtualNetworkFrom=e=>w({from:e},P(e,h.loggingService)),h}return t=f,(r=[{key:"browseVirtualNetworks",value:function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=p.b.getVirtualNetworkCollectionType(e,r),o={};return e&&(o.filters=Object.keys(e.filters).filter(t=>void 0!==e.filters[t]).sort().join(",")),null!=e&&null!==(t=e.search)&&void 0!==t&&t.value&&(o.hasSearchValue=!0),this.getCurrentUserId().then(t=>{var a=w(w({},e),{},{currentUserId:t});return this.entityManagerServiceHelper.fetchCollection(this.store.virtualNetworks,n,()=>this.httpClient.browseVirtualNetworks(a,r).then(e=>{var t;return{value:(e&&e.data&&e.data.value||[]).map(this.toVirtualNetworkFrom),nextLink:null===(t=e.data)||void 0===t?void 0:t.nextLink}}),"browseVirtualNetworks",d.b.BrowseVirtualNetworks,d.a.TargetList,i,e=>{e.value.forEach(e=>{this.populateOwnerAndFetchThumbnails(e.from),this.populateVirtualNetworkUse(e)})},void 0,o)})}},{key:"browseVirtualNetworksMore",value:function(e,t){var r=p.b.getVirtualNetworkCollectionType(t);return this.entityManagerServiceHelper.fetchCollection(this.store.virtualNetworks,r,()=>this.httpClient.browseVirtualNetworksMore(e).then(e=>{var t;return{value:(e&&e.data&&e.data.value||[]).map(this.toVirtualNetworkFrom),nextLink:null===(t=e.data)||void 0===t?void 0:t.nextLink}}),"browseVirtualNetworksMore",d.b.BrowseVirtualNetworksMore,d.a.TargetList,!0,e=>{e.value.forEach(e=>{this.populateOwnerAndFetchThumbnails(e.from),this.populateVirtualNetworkUse(e)})},{resetList:!1,setCollectionLoadedIfError:!0})}},{key:"getVirtualNetworkDetails",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.entityManagerServiceHelper.fetchEntity(this.store.virtualNetworks,e,()=>this.httpClient.getVirtualNetworkDetails(e).then(e=>e&&e.data&&this.toVirtualNetworkFrom(e.data)),"getVirtualNetworkDetails",d.b.GetVirtualNetworkDetails,d.a.TargetDetails,t,e=>{this.populateOwnerAndFetchThumbnails(e.from),this.populateVirtualNetworkUse(e)},n.i)}},{key:"editVirtualNetworkDetails",value:function(e,t,r){var i=this.entityManagerServiceHelper.updateEntity(this.store.virtualNetworks,e,()=>this.httpClient.editVirtualNetworkDetails(e,t,r).then(e=>e&&e.data&&P(e.data,this.loggingService)),"editVirtualNetworkDetails",d.b.EditVirtualNetworkDetails,d.a.TargetList).then(()=>{this.store.virtualNetworks.collections.forEach(e=>{e.invalidateCache()})});return Object(u.d)({loggingService:this.loggingService,promise:i,eventName:d.b.EditVirtualNetworkDetailsMSR,sourcePage:d.a.TargetList,getStatus:n.i})}},{key:"deleteVirtualNetwork",value:function(e){var t=this.entityManagerServiceHelper.deleteEntity(this.store.virtualNetworks,e,()=>this.httpClient.deleteVirtualNetwork(e),"deleteVirtualNetwork",d.b.DeleteVirtualNetwork,d.a.TargetList);return Object(u.d)({loggingService:this.loggingService,promise:t,eventName:d.b.DeleteVirtualNetworkMSR,sourcePage:d.a.TargetList,getStatus:n.k})}},{key:"getCurrentUserVirtualNetworkAccessRights",value:function(e){return this.getCurrentUserId().then(t=>this.entityManagerServiceHelper.fetchEntity(this.store.accessRights,e,()=>this.httpClient.retrieveVirtualNetworkPrincipalAccess(t,e).then(t=>t&&t.data&&{targetId:e,value:Object(o.c)(t.data.AccessRights)}),"getCurrentUserVirtualNetworkAccessRights",d.b.RetrieveVirtualNetworkAccessRights,d.a.TargetDetails,!1,void 0,n.i))}},{key:"batchCurrentUserVirtualNetworksAccessRights",value:function(e){return this.getCurrentUserId().then(t=>this.entityManagerServiceHelper.batchFetchEntity(this.store.accessRights,e,e=>this.httpClient.batchVirtualNetworksPrincipalAccess(t,e).then(t=>Object(s.i)(e,t,this.formatAccessRightsBatchResponse)),"batchCurrentUserMachineGroupsAccessRights",d.b.BatchVirtualNetworkAccessRights,d.a.TargetList))}},{key:"populateVirtualNetworkUse",value:function(e){this.store.usingVirtualNetwork.setCollectionLoading(e.name),this.store.usingVirtualNetwork.setCollectionLoaded(e.name,e.usedBy,{replaceDupe:i.a})}}])&&y(t.prototype,r),l&&y(t,l),Object.defineProperty(t,"prototype",{writable:!1}),f}(h.a);function S(e){switch(e){case c.m.AzureAdJoin:return v.a.AzureAdJoin;case c.m.HybridJoin:return v.a.HybridJoin;default:return v.a.AzureAdJoin}}function P(e,t){var r,i,n;return{id:e.flowmachinenetworkid,name:e.flowmachinenetworkid,type:"",xrmOwner:Object(f.b)(e),properties:{displayName:e.name,description:e.description||void 0,type:S(e.type),subnetId:e.subnet,supportedscenario:e.supportedscenario,provisioningState:C(e.provisioningstate),statuserrormessage:D(e.statuserrormessage,t),isManaged:e.ismanaged,isCustomizable:e.iscustomizable,solutionId:e.solutionid,credentialId:(null===(r=e.CredentialId)||void 0===r?void 0:r.credentialid)||void 0,networkMetadata:A(e.networkmetadata,t)},usedBy:[...(null===(i=e.flowmachine_flowmachinenetwork)||void 0===i?void 0:i.map(e=>({type:l.t.Machine,id:e.flowmachineid})))||[],...(null===(n=e.flowmachinegroup_flowmachinenetwork)||void 0===n?void 0:n.map(e=>({type:l.t.MachineGroup,id:e.flowmachinegroupid})))||[]]}}function C(e){if(null!=e)switch(e){case c.k.Created:return l.p.Created;case c.k.Provisioning:return l.p.Provisioning;case c.k.Provisioned:return l.p.Provisioned;case c.k.Error:return l.p.Error;default:return l.p.Unknown}}function D(e,t){if(e){var r={code:l.u.Unknown,message:e};try{var i=JSON.parse(e);return null!=i&&i.code?i:(t.logWarning("XrmVirtualNetworkService.parseVirtualNetworkProvisioningError","Parsed error does not contain an error code.",{error:e}),r)}catch(n){return t.logWarning("XrmVirtualNetworkService.parseVirtualNetworkProvisioningError","Error could not be parsed.",{error:e}),r}}}function A(e,t){if(e)try{var r=JSON.parse(e);return{domainName:r.DomainName,organizationalUnit:r.OrganizationalUnit}}catch(i){return void t.logWarning("XrmVirtualNetworkService.parseVirtualNetworkMetadata","Virtual network metadata could not be parsed.",{cdsNetworkMetadata:e})}}},22031:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var i=function(e){return e.AzureAdJoin="AzureAdJoin",e.HybridJoin="HybridJoin",e}({})}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/167.a9735ed7.chunk.js.map