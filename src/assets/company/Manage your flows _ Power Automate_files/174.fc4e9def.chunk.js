/*! For license information please see 174.fc4e9def.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{22104:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n,i,o=r(11773),a=r(14337),s=r(12706),u=r(12811),l=r(14678),c=r(11766),p=r(16845),d=r(16862),m=r(21986);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var O=Object(a.c)((w((i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(o,e);var t,r,n,i=b(o);function o(){var e;h(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call(this,...r)).getClassNames=Object(s.a)(),e.onLoadMore=t=>{if(e.items&&e.props.detailsListRef&&e.props.detailsListRef.current){var r=e.items.length;r>0&&e.props.detailsListRef.current.focusIndex(r-1)}e.props.onLoadMore&&e.props.onLoadMore(t)},e.onRenderDetailsHeader=(t,r)=>Object(p.c)(t,r,e.props.onRenderDetailsHeader),e}return t=o,(r=[{key:"render",value:function(){var e,{ariaLabelForSelectionColumn:t,ariaLabelForShimmer:r,checkButtonAriaLabel:n,columns:i,description:o,emptyProps:a,errorProps:s,showShimmers:h,selection:f,singleSelectionMode:g,onRenderRow:y,getRowAdditionalAttributes:b,detailsListRef:v,collectionKey:S,hideCheckBoxSelection:w,ariaLabelForGrid:O,automationId:C,selectionPreservedOnEmptyClick:F,dataIsScrollable:j,onShouldVirtualize:P}=this.props,k=this.getClassNames(Object(m.a)(this.props));return null!==(e=a.dataAutomationId)&&void 0!==e||(a.dataAutomationId=l.a.emptyCollectionDetailsList),c.createElement("div",{className:Object(u.a)(k.root,{[k.empty]:this.areListHeadersAndEmptyMessageVisible}),"data-automation-id":C},this.isDescriptionVisible&&o,c.createElement(p.a,{ariaLabelForSelectionColumn:t,ariaLabelForShimmer:r,checkButtonAriaLabel:n,columns:i,emptyProps:a,enableShimmer:h,errorProps:s,getKey:this.getItemKey,items:this.items,onLoadMore:this.onLoadMore,onRenderRow:y,getRowAdditionalAttributes:b,onRenderDetailsHeader:this.onRenderDetailsHeader,selection:f,showLoadMoreButton:this.canLoadMore,singleSelectionMode:g,useShimmeredList:!0,customRenderEmpty:this.areListHeadersAndEmptyMessageVisible?null:void 0,componentRef:v,setKey:S,hideCheckBoxSelection:w,ariaLabelForGrid:O,selectionPreservedOnEmptyClick:F,dataIsScrollable:j,onShouldVirtualize:P}),this.areListHeadersAndEmptyMessageVisible&&c.createElement("div",{className:"fl-DetailsList-empty","data-automation-id":l.a.emptyCollectionDetailsList},c.createElement(d.a,a)))}},{key:"isDescriptionVisible",get:function(){var{collection:e,isInitiallyFiltered:t}=this.props;return!e||e.isCollectionLoading||!!e.error||e.length>0||t}},{key:"items",get:function(){var{collection:e,showShimmers:t,searchFilter:r}=this.props;if(t)return[void 0];if(!e)return[];var n=r?r(e.list||[]):e.list||[];return this.isLoadingMore?n.concat(void 0):n}},{key:"isLoadingMore",get:function(){var{collection:e}=this.props;return e&&e.isLoadingMore}},{key:"canLoadMore",get:function(){var{collection:e,onLoadMore:t}=this.props;return!!e&&e.hasMore&&!e.isLoadingMore&&!!t}},{key:"areListHeadersAndEmptyMessageVisible",get:function(){var{isInitiallyFiltered:e,isHeaderVisibleOnEmpty:t,collection:r}=this.props,n=this.items;return(e||t||!!r&&r.length>0)&&!!r&&!r.isCollectionLoading&&!r.error&&!!n&&0===n.length}},{key:"getItemKey",value:function(e){return e}}])&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(c.Component)).prototype,"isDescriptionVisible",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"isDescriptionVisible"),i.prototype),w(i.prototype,"items",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"items"),i.prototype),w(i.prototype,"isLoadingMore",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"isLoadingMore"),i.prototype),w(i.prototype,"canLoadMore",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"canLoadMore"),i.prototype),w(i.prototype,"areListHeadersAndEmptyMessageVisible",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"areListHeadersAndEmptyMessageVisible"),i.prototype),n=i))||n},22179:function(e,t,r){"use strict";r.d(t,"a",(function(){return Ee}));var n=r(22180),i=r(20903),o=r(22182),a=r(22184),s=r(21009),u=r(22185),l=r(13028),c=r(12339),p=r(12999),d=r(20882),m=r(20918),h=r(15459),f=r(12345),g=r(17281),y=r(20948),b=r(17258),v=r(22186),S=r(15330),w=r(20920),O=r(17150),C=r(15339),F=r(13e3),j=r(13202),P=r(20922),k=r(15332),R=r(17159),M=r(21015),E=r(20904),N=r(20906),I=r(22190),D=r(17901),T=r(22191),x=r(17876),A=r(15460),L=r(13090),B=r(20879),W=r(14378),H=r(22193),Q=r(15383),G=r(14648),U=r(17869),z=r(17169),_=r(20996),V=r(17761),q=r(15417),K=r(15474),X=r(22200),Y=r(20937),$=r(20943),J=r(17213),Z=r(17448),ee=r(13081),te=r(20964),re=r(13087),ne=r(15490),ie=r(17374),oe=r(15493),ae=r(16924),se=r(22209),ue=r(17185),le=r(20978),ce=r(13231),pe=r(22215),de=r(20985),me=r(20988),he=r(15464),fe=r(13148),ge=r(21010),ye=r(22221),be=r(20995),ve=r(21021),Se=r(20990),we=r(22071),Oe=r(22308),Ce=r(22310),Fe=r(15407),je=r(17864),Pe=r(22214),ke=r(15408),Re=r(22323),Me=r(22307);function Ee(e,t,r,Ee,Ne,Ie,De){var Te=Object(B.a)(),xe=d.a,Ae=Object(c.b)(),Le=W.a,Be=n.a,We=H.a,He=L.a,Qe=Q.a,Ge=Fe.a,Ue=G.a,ze=Object(l.a)(),_e=je.a,Ve=U.a,qe=V.a,Ke=f.a,Xe=Object(p.a)(),Ye=X.a,$e=g.a,Je=Y.a,Ze=J.a,et=b.a,tt=$.a,rt=y.a,nt=Ae,it=re.a,ot=ne.a,at=C.a,st=se.a,ut=Pe.a,lt=ue.a,ct=le.a,pt=F.a,dt=j.a,mt=ke.a,ht=ce.a,ft=de.a,gt=P.a,yt=me.a,bt=o.a,vt=pe.a,St=fe.a,wt=ge.a,Ot=M.a,Ct=we.a,Ft=q.a,jt=h.a,Pt=K.a,kt=oe.a,Rt=ae.a,Mt=he.a,Et=k.a,Nt=R.a,It=Z.a,Dt=S.a,Tt=te.a,xt=w.a,At=z.a,Lt=i.a,Bt=ve.a,Wt=be.a,Ht=Se.a,Qt=E.a,Gt=N.a,Ut=Oe.a,zt=m.a,_t=ee.a,Vt=Me.a,qt=ye.a,Kt=_.a,Xt=s.a,Yt=v.a,$t=A.b,Jt=x.a,Zt=Re.a,er=Ce.a,tr=O.a,rr=ie.a,nr=new I.a(Ke,St),ir=T.a,or=D.a,ar=new u.a(Ee),sr=new a.a(A.b,re.a,ar,le.a,()=>Promise.resolve(Ee));return{apiService:Te,apiStore:xe,appSettings:Ae,assetService:Le,azureService:We,azureStore:Be,analyticsService:He,businessAppPlatformService:Qe,businessAppPlatformStore:Ge,cdnService:Ue,clientResources:ze,controlCenterResources:r,consentService:At,connectionStore:_e,connectionService:Ve,dateTimeResources:e,desktopFlowsResources:t,desktopFlowAIHttpClient:or,doNotShowAgainService:qe,environmentCapabilityService:Ft,environmentCapabilityStore:jt,environmentService:Pt,environmentStore:Ke,errorHandlingResources:Ee,featureFlags:Xe,flowsResources:Ie,flowRoleService:Ye,flowRoleStore:$e,flowRunInputsOutputsService:Je,flowRunsService:tt,flowRunsStore:rt,flowService:Ze,flowServiceClientResources:De,flowStore:et,graphService:It,graphStore:Dt,hostCommunicationService:_t,legacyFeatureFlags:nt,licenseManagementService:Tt,licenseManagementStore:xt,loggingService:it,machineManagementStore:Lt,navigationService:ot,neptuneStore:tr,neptuneService:rr,planService:kt,planStore:at,policyService:Rt,remediationService:st,remediationStore:ut,routeCrafter:lt,rpaLocalService:ct,rpaScreenshotService:sr,rpaScreenshotStore:ar,sessionStore:pt,sharedComponentResources:Ne,surfaceStore:dt,safeLocalStorage:mt,telemetryService:ht,uiFlowRunService:ft,uiFlowRunsStore:gt,uiFlowService:yt,uiFlowQueueStore:bt,uiFlowRunQueueService:vt,userDetailsService:Mt,userFeaturesStore:Nt,powerPlatformAdvisorHttpClient:ir,userDetailsStore:Et,urlCrafter:nr,widgetUtilService:St,winAutomationService:wt,winAutomationStore:Ot,xrmIdentityService:Wt,xrmIdentityStore:Qt,xrmMachineManagementService:Bt,xrmSharingService:Ht,xrmSharingStore:Gt,xrmUserService:Ct,xrmVirtualNetworkService:Ut,desktopFlowStore:zt,desktopFlowActivityStore:Vt,xrmDesktopFlowActivityService:qt,xrmEntityHttpClient:$t,ppapiHttpClient:Jt,desktopFlowModuleStore:Xt,desktopFlowModuleService:Kt,flowUsageStore:Yt,workQueueStore:Zt,workQueueService:er}}},22180:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(22181).a)},22181:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n,i,o,a=r(11773),s=r(12347),u=r(15985);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function d(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=function(e){return e.HMGResourceList="HMGImageList",e.RPABoxResourceList="RPABoxImageList",e.HMGAndRPABoxResourceList="HMGAndRPABoxImageList",e}({}),h=(i=d((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"azureVmImageVersions",i,this),l(this,"azureVirtualNetworks",o,this),Object(a.runInAction)(()=>{this.azureVmImageVersions=new s.a({getKey:e=>e.id}),this.azureVirtualNetworks=new s.a({getKey:e=>e.id})})}var t,r,n;return t=e,(r=[{key:"getResourceCollectionTypeForScenario",value:function(e){switch(e){case u.l.HostedMachineGroup:return m.HMGResourceList;case u.l.RpaBox:return m.RPABoxResourceList;case u.l.HostedMachineGroupAndRpaBox:return m.HMGAndRPABoxResourceList;default:return e}}},{key:"getImageCollectionForScenario",value:function(e){return this.azureVmImageVersions.getCollection(this.getResourceCollectionTypeForScenario(e))}},{key:"getVirtualNetworkCollectionForScenario",value:function(e){return this.azureVirtualNetworks.getCollection(this.getResourceCollectionTypeForScenario(e))}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()).prototype,"azureVmImageVersions",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(n.prototype,"azureVirtualNetworks",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)},22182:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(22183).b)},22183:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return h}));var n,i,o,a,s=r(11773),u=r(12347);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function d(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=function(e){return e.RunQueuesList="RunQueueList",e}({}),h=(i=d((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"queues",i,this),l(this,"queuedRuns",o,this),l(this,"compactQueues",a,this),this.isUsedInMultipleEnvironments=void 0,this.isUsedInMultipleEnvironments=s.observable.map(),Object(s.runInAction)(()=>{this.queues=new u.a({getKey:e=>e.targetId}),this.queuedRuns=new u.a({getKey:e=>e.uiFlowRun.flowSessionId}),this.compactQueues=new u.a({getKey:e=>e.targetId})})}var t,r,n;return t=e,(r=[{key:"setUsedInMultipleEnvironments",value:function(e,t){this.isUsedInMultipleEnvironments.set(e,t)}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()).prototype,"queues",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(n.prototype,"queuedRuns",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(n.prototype,"compactQueues",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(n.prototype,"setUsedInMultipleEnvironments",[s.action],Object.getOwnPropertyDescriptor(n.prototype,"setUsedInMultipleEnvironments"),n.prototype),n)},22184:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(13009),i=r(15992),o=r(15427),a=r(13085),s=r(15388),u=r(15523),l=r(15419);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var d=function(){function e(t,r,n,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.xrmEntityHttpClient=t,this.loggingService=r,this.rpaScreenshotStore=n,this.rpaLocalService=i,this.getErrorHandlingResources=o,this.localServiceCorrelationId=void 0,this.entityManagerServiceHelper=void 0,this.localServiceCorrelationId=Object(u.a)(),this.entityManagerServiceHelper=new s.a(r)}var t,r,p;return t=e,(r=[{key:"isLocalScreenshot",value:function(e){return this.rpaScreenshotStore.recordingScreenshotsCache.has(e)}},{key:"fetchScreenShotAsync",value:function(e){return this.entityManagerServiceHelper.fetchEntity(this.rpaScreenshotStore.screenshotData,e,()=>this.loadScreenshotAsync(e).then(t=>({recordingId:e,mimeType:t.mimeType,data:t.data})),"fetchScreenShotAsync",l.b.FetchDesktopFlowActionScreenshot,l.a.DesktopFlowRunActionsDetails,void 0,void 0,i.i)}},{key:"loadScreenshotAsync",value:function(e){var t=this.isLocalScreenshot(e),r={isLocal:t,localServiceCorrelationId:this.localServiceCorrelationId},n=this.loggingService.profileStart(a.a.rpaScreenshotLoadStart,r);return(t?this.loadLocalScreenshotAsync(e):this.loadScreenshotFromCdsAsync(e)).then(e=>(this.loggingService.profileEndWithSuccess(n,a.a.rpaScreenshotLoadEnd,r),e),e=>{throw this.loggingService.profileEnd(n,a.a.rpaScreenshotLoadEnd,Object(i.i)(e),e,r),e})}},{key:"loadLocalScreenshotAsync",value:function(e){var t=this.rpaScreenshotStore.recordingScreenshotsCache.get(e);return t?t.data?Promise.resolve(t):this.loadLocalScreenshotWithSkipToken(t.recordingId,e).catch(e=>{throw t.data&&delete t.data,e}):this.getErrorHandlingResources().then(t=>Promise.reject(new n.a(n.c.rpaScreenshotValueMissing,t.RpaScreenshotService.Error.ScreenshotValueMissing,null,{screenshotId:e})))}},{key:"loadLocalScreenshotWithSkipToken",value:function(e,t,r){return this.rpaLocalService.getRecordingActionReferencedBinary(e,t,this.localServiceCorrelationId,r).then(r=>{if(!r.value)return this.throwClientWarning(e=>e.RpaScreenshotService.Error.ScreenshotDataMissing);if(this.rpaScreenshotStore.appendDataToCachedScreenshot(t,r.value),r.skipToken)return this.loadLocalScreenshotWithSkipToken(e,t,r.skipToken);var n=this.rpaScreenshotStore.recordingScreenshotsCache.get(t);return n&&n.data?n:this.throwClientWarning(e=>e.RpaScreenshotService.Error.ScreenshotDataMissingFromCache)})}},{key:"loadScreenshotFromCdsAsync",value:function(e){var t=this.xrmEntityHttpClient.retrieveRecordFile(o.p,e,"data").then(e=>e.ok&&e.data?e.data.value?e.data.value:this.throwClientWarning(e=>e.RpaScreenshotService.Error.CDS.ScreenshotDataValueMissing):this.throwClientWarning(e=>e.RpaScreenshotService.Error.CDS.ScreenshotDataMissing)),r=this.xrmEntityHttpClient.retrieveRecord(o.p,e).then(e=>e.ok&&e.data?e.data.mimetype?e.data.mimetype:this.throwClientWarning(e=>e.RpaScreenshotService.Error.CDS.ScreenshotMimetypeMissing):this.throwClientWarning(e=>e.RpaScreenshotService.Error.CDS.ScreenshotEntityMissing));return Promise.all([t,r]).then(e=>{var[t,r]=e;return{data:t,mimeType:r}})}},{key:"throwClientWarning",value:function(e){return this.getErrorHandlingResources().then(t=>{throw new n.b(n.c.rpaScreenshotFetchingError,e(t))})}}])&&c(t.prototype,r),p&&c(t,p),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22185:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n,i,o=r(11773),a=r(12347),s=r(13009);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c,p,d,m,h,f,g=(n=function(){function e(t){var r,n,s,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorHandlingResources=t,this.recordingScreenshotsCache=void 0,r=this,n="screenshotData",u=this,(s=i)&&Object.defineProperty(r,n,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(u):void 0}),this.recordingScreenshotsCache=new Map,Object(o.runInAction)(()=>{this.screenshotData=new a.a({getKey:e=>e.recordingId})})}var t,r,n;return t=e,(r=[{key:"appendDataToCachedScreenshot",value:function(e,t){var r=this.recordingScreenshotsCache.get(e);if(!r||!r.recordingId)throw new s.a(s.c.rpaUnknownScreenshotId,this.errorHandlingResources.RpaWizard.Errors.UnknownScreenshotId);r.data=r.data?r.data+t:t}},{key:"clearScreenshotCache",value:function(){this.recordingScreenshotsCache.clear()}}])&&u(t.prototype,r),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),c=n.prototype,p="screenshotData",d=[o.observable],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},f={},Object.keys(m).forEach((function(e){f[e]=m[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=d.slice().reverse().reduce((function(e,t){return t(c,p,e)||e}),f),h&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(h):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(c,p,f),f=null),i=f,n)},22190:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(12375);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.environmentStore=t,this.widgetUtilService=r}var t,r,o;return t=e,(r=[{key:"isWidgetPage",get:function(){return this.widgetUtilService.isWidgetPage()}},{key:"locale",get:function(){return Object(n.a)()}},{key:"environmentName",get:function(){return this.environmentStore.currentEnvironmentName}}])&&i(t.prototype,r),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22191:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(12999),i=r(13192),o=r(13087),a=r(13e3),s=r(13077),u=r(13198),l=r(13206),c=r(22192),p=r(12339),d=new c.a(Object(n.a)(),new i.HttpClient,o.a,a.a,Object(p.b)(),s.a,u.a,l.a)},22192:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(14694),i=r(11795),o=r(12246),a=r(14692),s=r(13215),u=r(14689);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var p=function(){function e(t,r,l,c,p,d,m,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureFlags=t,this.httpClient=r,this.loggingService=l,this.sessionStore=c,this.appSettings=p,this.tokenService=d,this.userContextChangeMonitoringService=m,this.userContextStore=h,this.ppapiDiscovery=void 0,this.tokenGetters=void 0;var{region:f}=Object(i.h)(),g=u.c.get(n.b[f]);this.ppapiDiscovery=g&&new a.a(g),this.tokenGetters=this.initializeTokenGetters(),[Object(s.f)(this.loggingService,()=>this.sessionStore.sessionId),Object(s.d)(o.d),Object(s.j)(this.featureFlags.enableB2BLogin,this.userContextStore,this.userContextChangeMonitoringService,this.loggingService),Object(s.i)(l,c)].forEach(e=>this.httpClient.addRequestInterceptor(e)),this.httpClient.addResponseInterceptor(Object(s.g)(this.loggingService,this.sessionStore),Object(s.e)(this.loggingService,this.sessionStore))}var t,r,c;return t=e,(r=[{key:"getPPAPIBaseEndpoint",value:function(e,t){return this.ppapiDiscovery||this.loggingService.logError("PowerPlatformAdvisorHttpClient",new Error("PPAPI Discovery is not defined")),this.ppapiDiscovery&&t?this.ppapiDiscovery.getEnvironmentEndpoint(t):""}},{key:"get",value:function(e,t){return this.httpClient.get({url:e,headers:null==t?void 0:t.headers,eventName:this.getTelemetryEventName("GET"),responseType:null==t?void 0:t.responseType}).then(e=>({data:e.data,status:e.status,statusText:e.statusText,headers:e.headers}))}},{key:"post",value:function(e,t,r){return this.httpClient.post({url:e,data:t,headers:null==r?void 0:r.headers,eventName:this.getTelemetryEventName("POST")}).then(e=>({data:e.data,status:e.status,statusText:e.statusText,headers:e.headers}))}},{key:"put",value:function(e,t,r){return this.httpClient.put({url:e,data:t,headers:null==r?void 0:r.headers,eventName:this.getTelemetryEventName("PUT")}).then(e=>({data:e.data,status:e.status,statusText:e.statusText,headers:e.headers}))}},{key:"patch",value:function(e,t,r){return this.httpClient.patch({url:e,data:t,headers:null==r?void 0:r.headers,eventName:this.getTelemetryEventName("PATCH")}).then(e=>({data:e.data,status:e.status,statusText:e.statusText,headers:e.headers}))}},{key:"delete",value:function(e,t){return this.httpClient.delete({url:e,headers:null==t?void 0:t.headers,eventName:this.getTelemetryEventName("DELETE")}).then(e=>({data:e.data,status:e.status,statusText:e.statusText,headers:e.headers}))}},{key:"getTelemetryEventName",value:function(e){return"POWERPLATFORMADVISOR:".concat(e)}},{key:"initializeTokenGetters",value:function(){if(this.ppapiDiscovery){var e=this.ppapiDiscovery.getTokenAudience();return{getAccessTokenPPAPI:()=>this.tokenService.getAccessToken(e),getAccessTokenGraph:()=>this.tokenService.getAccessToken(this.appSettings.microsoftGraphResource)}}this.loggingService.logError("PowerPlatformAdvisorHttpClient",new Error("PPAPI Discovery is not defined"))}}])&&l(t.prototype,r),c&&l(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22193:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(22180),i=r(22194),o=r(12339),a=r(12999),s=r(15459),u=r(12345),l=r(17899),c=r(22198),p=r(17448),d=r(13087),m=new i.a(l.a,c.a,n.a,d.a,u.a,s.a,Object(o.b)(),Object(a.a)(),p.a)},22194:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return b}));var n=r(12362),i=r.n(n),o=r(15985),a=r(12364),s=r(13009),u=r(22195),l=r(15455),c=r(13146),p=r(13085),d=r(22196),m=r(22197);function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var g=function(e){return e.Reader="acdd72a7-3385-48ef-bd42-f606fba81ae7",e.NetworkContributor="4d97b98b-1d4f-4787-a291-c67834d212e7",e}({}),y=function(e){return e[e.HMG=0]="HMG",e[e.RpaBox=1]="RpaBox",e}({}),b=function(){function e(t,r,n,o,h,f,b,w,O){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.azureResourceGraphClient=t,this.azureResourceManagementClient=r,this.azureStore=n,this.loggingService=o,this.environmentStore=h,this.environmentCapabilityStore=f,this.appSettings=b,this.featureFlags=w,this.graphService=O,this.runFirstPending=Object(c.a)(),this.runFirstPendingVirtualNetworks=Object(c.a)(),this.loadVirtualNetworks=e=>{var t=this.loggingService.profileStart(p.a.azureGraphResourceVirtualNetworksLoadStart),r=this.azureStore.getResourceCollectionTypeForScenario(e),n=S(e);return this.runFirstPendingVirtualNetworks({key:"getVirtualNetworks",action:()=>(this.azureStore.azureVirtualNetworks.setCollectionLoading(r),Object(m.b)(n,this.environmentStore,this.environmentCapabilityStore,this.loggingService,this.featureFlags,this.appSettings).then(this.azureResourceGraphClient.getResources))}).then(e=>this.filterCompatibleVirtualNetworks(e,n)).then(e=>{var n=[];return e.forEach(e=>{n.push({id:e.id,name:e.networkName,subnets:[]})}),this.azureStore.azureVirtualNetworks.setCollectionLoaded(r,n,{resetList:!0,replaceDupe:a.a}),this.loggingService.profileEndWithSuccess(t,p.a.azureGraphResourceVirtualNetworksLoadEnd,{azureNbVirtualNetworks:null==n?void 0:n.length}),Promise.resolve()}).catch(e=>{throw this.loggingService.profileEnd(t,p.a.azureGraphResourceVirtualNetworksLoadEnd,Object(s.y)(e),e),this.azureStore.azureVirtualNetworks.setCollectionError(r,e),e})},this.loadAndPopulateSubnets=(e,t)=>{var r=this.loggingService.profileStart(p.a.azureGraphResourceSubnetsLoadStart),n=S(t);return this.runFirstPendingVirtualNetworks({key:"getSubnets",action:()=>Object(m.a)(e).then(this.azureResourceGraphClient.getResources)}).then(e=>this.filterCompatibleVirtualNetworks(e,n)).then(t=>{if(0!==t.length){var n={id:e,name:t[0].networkName,subnets:[]};t.forEach(e=>{var t={id:e.subnetId,name:e.subnetName};n.subnets.push(t)}),Object(a.b)(this.azureStore.azureVirtualNetworks.entities,n),this.loggingService.profileEndWithSuccess(r,p.a.azureGraphResourceSubnetsLoadEnd,{azureNbTotalSubnet:t.length})}return Promise.resolve()}).catch(e=>{throw this.loggingService.profileEnd(r,p.a.azureGraphResourceSubnetsLoadEnd,Object(s.y)(e),e),e})},this.loadImageVersions=e=>{var t=this.loggingService.profileStart(p.a.azureGraphResourceVmImageVersionsLoadStart),r=this.azureStore.getResourceCollectionTypeForScenario(e),n=S(e),i=Object(d.a)(n,this.featureFlags,this.environmentStore,this.appSettings,this.loggingService);return this.runFirstPending({key:"getImageVersions",action:()=>(this.azureStore.azureVmImageVersions.setCollectionLoading(r),this.azureResourceGraphClient.getResources(i))}).then(e=>this.filterCompatibleImageVersions(e,n)).then(e=>{var n=[];e.forEach(e=>{var t,r,i,o=new RegExp("/providers/Microsoft.Compute/galleries/([^/]+)/images/([^/]+)/versions/([^/]+)").exec(e.id)||[];4===o.length&&(t=o[1],r=o[2],i=o[3]);var a=e.subscriptionId;if(!(t&&r&&i&&a))throw this.loggingService.logWarning(p.a.azureGraphResourceVmImageVersionsLoad,"Could not parse VM image version id"),new Error("The azure resource id (".concat(e.id,") is malformed"));if(this.featureFlags.enableStoringAzureImageIdInDataverse)n.push({id:e.id,subscriptionId:a,galleryName:t,imageName:r,version:i});else{var s="".concat(a,"-").concat(t.toUpperCase());n.push({id:"/sharedGalleries/".concat(s,"/images/").concat(r,"/versions/").concat(i),subscriptionId:a,galleryName:t,imageName:r,version:i})}}),this.azureStore.azureVmImageVersions.setCollectionLoaded(r,n,{resetList:!0,replaceDupe:a.a}),this.loggingService.profileEndWithSuccess(t,p.a.azureGraphResourceVmImageVersionsLoadEnd,{azureVmImagesNumber:e.length})}).catch(e=>{throw this.loggingService.profileEnd(t,p.a.azureGraphResourceVmImageVersionsLoadEnd,Object(s.y)(e),e),this.azureStore.azureVmImageVersions.setCollectionError(r,e),e})},this.loadGalleries=e=>{var t=e.map(e=>({httpMethod:"GET",url:"".concat(this.appSettings.azureResourceManagementUri).concat(e,"?api-version=2022-01-03&$expand=sharingProfile/groups")}));return Object(l.g)({loggingService:this.loggingService,eventStartName:p.a.azureResourceManagementLoadGalleriesStart,eventEndName:p.a.azureResourceManagementLoadGalleriesEnd,promise:this.azureResourceManagementClient.batchRequests(t)})},this.filterCompatibleImageVersions=(e,t)=>{if(!(e&&e.data&&e.data.data))return Promise.resolve([]);var r=Promise.resolve(e.data.data);return this.featureFlags.enableHMGImagesSharedFiltering&&t.includes(y.HMG)&&(r=r.then(this.filterGalleriesSharedWithMicrosoft)),this.featureFlags.enableRPABoxImagesSharedFiltering&&t.includes(y.RpaBox)&&(r=r.then(e=>this.graphService.getObjectIdFromApplicationId(this.appSettings.windows365AppId).then(t=>this.filterSubscriptionsSharedWith(e,t)))),r},this.filterSubscriptionsSharedWith=(e,t)=>{var r=i()(e.map(e=>e.subscriptionId));return 0===r.length?Promise.resolve([]):this.loadRolesOnSubscriptions(t,r).then(t=>{var r=t.data.responses.reduce((e,t)=>{var r,n,i=null===(r=t.content)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.find(e=>{var t,r=null===(t=e.properties)||void 0===t?void 0:t.roleDefinitionId;return r&&r.indexOf(g.Reader)>-1});return i&&e.add((n=i.properties.scope).substring(n.indexOf("/subscriptions/")+"/subscriptions/".length)),e},new Set);return e.filter(e=>r.has(e.subscriptionId))})},this.filterCompatibleVirtualNetworks=(e,t)=>e&&e.data&&e.data.data?t.includes(y.RpaBox)&&this.featureFlags.enableVNetFiltering?this.graphService.getObjectIdFromApplicationId("".concat(this.appSettings.windows365AppId)).then(t=>this.filterSubscriptionsSharedWith(e.data.data,t).then(e=>this.filterResourceGroupsWithRole(e,g.NetworkContributor,t))):Promise.resolve(e.data.data):Promise.resolve([]),this.getPathFromResource=e=>"".concat(e.subscriptionId,"/resourceGroups/").concat(e.resourceGroup),this.filterResourceGroupsWithRole=(e,t,r)=>{if(0===e.length)return Promise.resolve([]);var n=i()(e.map(this.getPathFromResource));return this.getRolesOnResourceGroups(r,n).then(r=>{var i=function(e,t,r){return t.responses.reduce((t,n,i)=>{var o,a;return null===(o=n.content)||void 0===o||null===(o=o.value)||void 0===o||o.forEach(t=>{var n,o=null===(n=t.properties)||void 0===n?void 0:n.roleDefinitionId;o&&o.indexOf(r)>-1&&(a=e[i])}),a&&t.add(a),t},new Set)}(n,r.data,t);return e.filter(e=>i.has(this.getPathFromResource(e)))})},this.filterGalleriesSharedWithMicrosoft=e=>{var t=i()(e.map(e=>v(e.id)));return 0===t.length?Promise.resolve([]):this.loadGalleries(t).then(t=>{var r=t.data.responses.map(e=>e.content).reduce((e,t)=>(e[t.id]=t.properties.sharingProfile.permissions===u.a.Groups&&t.properties.sharingProfile.groups.some(e=>e.type===u.b.AADTenants&&e.ids.includes("975f013f-7f24-47e8-a7d3-abc4752bf346")),e),{});return e.filter(e=>!0===r[v(e.id)])})}}var t,r,n;return t=e,(r=[{key:"loadRolesOnSubscriptions",value:function(e,t){var r=t.map(t=>({httpMethod:"GET",url:"".concat(this.appSettings.azureResourceManagementUri,"/subscriptions/").concat(t,"/providers/Microsoft.Authorization/roleAssignments?$filter=atScope() and assignedTo('").concat(e,"')&api-version=2020-04-01-preview")}));return Object(l.g)({loggingService:this.loggingService,eventStartName:p.a.azureResourceManagementLoadWindows365RolesStart,eventEndName:p.a.azureResourceManagementLoadWindows365RolesEnd,promise:this.azureResourceManagementClient.batchRequests(r),eventData:{targetType:"subscription"}})}},{key:"getRolesOnResourceGroups",value:function(e,t){var r=t.map(t=>({httpMethod:"GET",url:"".concat(this.appSettings.azureResourceManagementUri,"/subscriptions/").concat(t,"/providers/Microsoft.Authorization/roleAssignments?$filter=atScope() and assignedTo('").concat(e,"')&api-version=2020-04-01-preview")}));return Object(l.g)({loggingService:this.loggingService,eventStartName:p.a.azureResourceManagementLoadWindows365RolesStart,eventEndName:p.a.azureResourceManagementLoadWindows365RolesEnd,promise:this.azureResourceManagementClient.batchRequests(r),eventData:{targetType:"resourceGroup"}})}}])&&h(t.prototype,r),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function v(e){return e.substring(0,e.indexOf("/images"))}function S(e){switch(e){case o.l.HostedMachineGroup:return[y.HMG];case o.l.RpaBox:return[y.RpaBox];case o.l.HostedMachineGroupAndRpaBox:return[y.HMG,y.RpaBox];default:return e}}},22195:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=function(e){return e.Groups="Groups",e.Private="Private",e.Community="Community",e}({}),i=function(e){return e.AADTenants="AADTenants",e.Subscriptions="Subscriptions",e}({})},22196:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return d}));var n=r(17266),i=r(13143),o=r(12339),a=r(13031),s=r(22194);function u(e,t,r,n){var i=[];if(e.includes(s.b.HMG)&&t.enableHMGImagesRegionFiltering&&t.enableHMGImagesRegionFiltering){var o=c(r.environmentClaim.location,n.environment);if(!o)return!1;i.push([o])}if(t.enableRPABoxImagesRegionFiltering&&e.includes(s.b.RpaBox)){var a=p(r.environmentClaim.location);if(!a)return!1;i.push(a)}return i.length>0&&d(i).length>0}function l(e,t,r,o,u){var l=[],m=[y];if(e.includes(s.b.HMG)){if(t.enableHMGImagesRegionFiltering&&r.environmentClaim){var h=c(r.environmentClaim.location,o.environment);h?l.push([h]):u.logError(i.b.azureServiceUnknownGeo,new n.a(i.b.azureServiceUnknownGeo,"No compatible region found for HMG images"),{geo:r.environmentClaim.location,environment:o.environment})}t.enableHMGImagesSharedFiltering&&m.push(b)}if(t.enableRPABoxImagesRegionFiltering&&e.includes(s.b.RpaBox)){var v=p(r.environmentClaim.location);v?l.push(v):u.logError(i.b.azureServiceUnknownGeo,new n.a(i.b.azureServiceUnknownGeo,"No compatible region found for RPA box images"),{geo:r.environmentClaim.location,environment:o.environment})}if(l.length>0){var S=d(l);m.push(Object(a.a)(g,S.map(e=>"'".concat(e,"'")).join(",")))}return Object(a.a)(f,m.join(""))}function c(e,t){return[o.a.tip1,o.a.tip2,o.a.dev].includes(o.a[t])?"East US":h[e]}function p(e){return m[e]}function d(e){if(0===e.length)return[];var t=e[0];if(1===e.length)return t;var r=function(e){t=t.filter(t=>e.includes(t))};for(var n of e.slice(1))r(n);return t}var m={france:["France Central"],india:["Central India"],canada:["Canada Central"],germany:["Germany West Central"],australia:["Australia East"],japan:["Japan East"],unitedkingdom:["UK South"],asia:["East Asia"],europe:["North Europe"],korea:["Korea Central"],norway:["Norway East"],sweden:["Sweden Central"],singapore:["Southeast Asia"],southafrica:["South Africa North"],southamerica:["Brazil South"],switzerland:["Switzerland North"],unitedarabemirates:["UAE North"],unitedstates:["East US"],unitedstatesfirstrelease:["East US"],usdod:[],usgov:[],usgovhigh:[],usnat:[],ussec:[],china:[]},h={southamerica:"Brazil South",france:"France Central",india:"Central India",canada:"Canada Central",germany:"Germany West Central",switzerland:"Switzerland North",unitedarabemirates:"UAE North",australia:"Australia East",japan:"Japan East",unitedkingdom:"UK South",asia:"East Asia",europe:"North Europe",unitedstates:"East US",unitedstatesfirstrelease:"East US",korea:"Korea Central",norway:"Norway East",sweden:"Sweden Central",southafrica:"South Africa North",singapore:"Southeast Asia",usgov:"USGov Virginia",usgovhigh:"USGov Virginia",usdod:"USDoD East",usnat:"USNat East",ussec:"USSec East",china:void 0},f="resources | where type =~ 'Microsoft.Compute/galleries/images/versions'{0} | project id, subscriptionId, type",g=" | mv-expand properties.publishingProfile.targetRegions | where properties_publishingProfile_targetRegions.name in ({0})",y=" | extend imageId = toupper(substring(id, 0, indexof(id, '/versions'))) | join kind=inner (resources | where type =~ 'Microsoft.Compute/galleries/images' | project imageId = toupper(id), osType = properties.osType) on imageId | where osType =~ 'Windows'",b=" | extend galleryId = toupper(substring(id, 0, indexof(id, '/images'))) | join kind=inner (resources | where type =~ 'Microsoft.Compute/galleries' | project galleryId = toupper(id), sharingProfile = properties.sharingProfile) on galleryId | where sharingProfile.permissions == 'Groups'"},22197:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return p}));var n=r(17266),i=r(13143),o=r(12339),a=r(16744),s=r(13031),u=r(22194),l=r(22196);function c(e,t,r,c,p,f){var g=function(e,t,r,s,c,p){var h=[];if(e.includes(u.b.HMG)&&Object(a.kb)(c,t,r)){var f=(g=t.environmentClaim.location,y=p.environment,[o.a.tip1,o.a.tip2,o.a.dev].includes(o.a[y])?"eastus":m[g]);f?h.push([f]):s.logError(i.b.azureServiceUnknownGeo,new n.a(i.b.azureServiceUnknownGeo,"Unknown geo for HMG virtual networks.",void 0,{geo:t.environmentClaim.location}))}var g,y;if(e.includes(u.b.RpaBox)){var b=function(e){return d[e]}(t.environmentClaim.location);b?(0===h.length&&s.logError(i.b.azureServiceUnsupportedGeo,new n.a(i.b.azureServiceUnsupportedGeo,"RPA box currently does not support network connections from current environment geo.",void 0,{geo:t.environmentClaim.location})),h.push(b)):s.logError(i.b.azureServiceUnknownGeo,new n.a(i.b.azureServiceUnknownGeo,"Unknown geo for RPA box virtual networks.",void 0,{geo:t.environmentClaim.location}))}return Object(l.c)(h)}(e,t,r,c,p,f).map(e=>"'".concat(e,"'")).join(",");return Promise.resolve(Object(s.a)(h,g))}function p(e){return Promise.resolve(Object(s.a)(f,"'".concat(e,"'")))}var d={france:["francecentral"],india:["centralindia"],canada:["canadacentral"],germany:["germanywestcentral"],switzerland:["switzerlandnorth"],unitedarabemirates:["uaenorth"],australia:["australiaeast"],japan:["japaneast"],unitedkingdom:["uksouth"],asia:["eastasia"],europe:["northeurope"],singapore:["southeastasia"],southafrica:["southafricanorth"],southamerica:["brazilsouth"],unitedstates:["eastus"],unitedstatesfirstrelease:["eastus"],korea:["koreacentral"],norway:["norwayeast"],sweden:["swedencentral"],usgov:[],usgovhigh:[],usdod:[],china:[],usnat:[],ussec:[]},m={southamerica:"brazilsouth",france:"francecentral",india:"centralindia",canada:"canadacentral",germany:"germanywestcentral",switzerland:"switzerlandnorth",unitedarabemirates:"uaenorth",australia:"australiaeast",japan:"japaneast",unitedkingdom:"uksouth",asia:"eastasia",europe:"northeurope",unitedstates:"eastus",unitedstatesfirstrelease:"eastus",korea:"koreacentral",norway:"norwayeast",sweden:"swedencentral",southafrica:"southafricanorth",singapore:"southeastasia",usgov:"usgovvirginia",usgovhigh:"usgovvirginia",usdod:"usdodeast",usnat:"usnateast",ussec:"usseceast",china:void 0},h="resources | where type == 'microsoft.network/virtualnetworks' | where properties.provisioningState == 'Succeeded' | where location in ({0}) | project networkName=name, id, subscriptionId, type, resourceGroup | order by tolower(networkName) asc",f="resources | where type == 'microsoft.network/virtualnetworks' | where id == {0} | mv-expand subnet=properties.subnets | project networkName=name, id, subnetName=tostring(subnet.name), subnetId=subnet.id, subscriptionId, type, resourceGroup | order by tolower(subnetName) asc"},22198:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(13192),i=r(12339),o=r(13e3),a=r(13077),s=r(13087),u=new(r(22199).a)(Object(i.b)(),s.a,new n.HttpClient,o.a,a.a)},22199:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(13216),i=r(13217),o=r(13220),a=r(13221),s=r(13224),u=r(12375);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var d=c((function e(t,r,l,c,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSettings=t,this.loggingService=r,this.httpClient=l,this.sessionStore=c,this.tokenService=p,this.batchRequests=e=>{var t={requests:e};return this.httpClient.post({eventName:"ARM:GET/PROVIDERS/MICROSOFT.RESOURCEPROVIDER/BATCH",url:"".concat(this.appSettings.azureResourceManagementUri,"/batch"),data:t})},[Object(a.c)(r,()=>this.sessionStore.sessionId),Object(i.a)(()=>this.tokenService.getAccessToken(this.appSettings.armAudience)),Object(n.a)(()=>this.appSettings.azureResourceManagementApiVersion),Object(o.a)(()=>Object(u.a)()),Object(s.a)(r,this.sessionStore)].forEach(e=>this.httpClient.addRequestInterceptor(e)),this.httpClient.addResponseInterceptor(Object(a.d)(this.loggingService,this.sessionStore),Object(a.b)(this.loggingService,this.sessionStore))}))},22209:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(22210),i=r(22212),o=r(13087),a=r(22214),s=new n.a(i.a,a.a,o.a)},22210:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(15388),i=r(22211),o=r(17190),a=r(15419);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l=function(){function e(t,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.remediationHttpClient=t,this.remediationStore=r,this.loggingService=i,this.entityManagerServiceHelper=void 0,this.entityManagerServiceHelper=new n.a(this.loggingService)}var t,r,u;return t=e,(r=[{key:"fetchDesktopFlowRemediationData",value:function(e,t,r){var n=Object(i.b)(e,t);return this.entityManagerServiceHelper.fetchEntity(this.remediationStore.remediationEntities,n,()=>this.remediationHttpClient.getDesktopFlowRemediationData(e,t).then(e=>{if(e.data){var t=e.data,r=e=>{t.universalSearchResults||(t.universalSearchResults={}),t.universalSearchResults[o.a.article]||(t.universalSearchResults[o.a.article]=[]),t.universalSearchResults[o.a.article].push(e)};return t.documentationLink&&r(t.documentationLink),t.additionalDocumentationLinks&&t.additionalDocumentationLinks.forEach(e=>r(e)),{key:n,data:t}}}),"fetchDesktopFlowRemediationData",a.b.FetchDesktopFlowRemediationData,a.a.DesktopFlowsDetails,r)}},{key:"getFlowFailureRemediationMetadata",value:function(e,t){return this.remediationHttpClient.getFlowFailureRemediationMetadata(e,t).then(e=>{if(e.data)return{data:e.data}})}}])&&s(t.prototype,r),u&&s(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22211:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return y}));var n,i,o=r(11773),a=r(12348);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function c(e,t){return"uiflows/".concat(e,"/runs/").concat(t)}var p,d,m,h,f,g,y=(n=u((function e(){var t,r,n,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r="remediationEntities",s=this,(n=i)&&Object.defineProperty(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0}),Object(o.runInAction)(()=>{this.remediationEntities=new a.a({getKey:e=>e.key})})})),p=n.prototype,d="remediationEntities",m=[o.observable],h={configurable:!0,enumerable:!0,writable:!0,initializer:null},g={},Object.keys(h).forEach((function(e){g[e]=h[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=m.slice().reverse().reduce((function(e,t){return t(p,d,e)||e}),g),f&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(f):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(p,d,g),g=null),i=g,n)},22212:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(13192),i=r(22213),o=r(13e3),a=r(12339),s=r(12999),u=r(12345),l=r(13077),c=r(13087),p=r(13198),d=r(13206),m=r(14688),h=new i.a(Object(a.b)(),Object(s.a)(),new n.HttpClient,m.a,l.a,c.a,o.a,u.a,p.a,d.a)},22213:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(13215),i=r(12375),o=r(12381),a=r(13151),s=r(14829);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=function(){function e(t,r,o,a,u,l,c,p,d,m){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSettings=t,this.featureFlags=r,this.httpClient=o,this.ppapiService=a,this.tokenService=u,this.loggingService=l,this.sessionStore=c,this.environmentStore=p,this.userContextChangeMonitoringService=d,this.userContextStore=m,[Object(n.f)(l,()=>this.sessionStore.sessionId),Object(n.d)(i.a),Object(n.c)(()=>this.tokenService.getAccessToken(this.appSettings.flowAudience)),Object(n.j)(this.featureFlags.enableB2BLogin,this.userContextStore,this.userContextChangeMonitoringService,this.loggingService),Object(n.i)(l,this.sessionStore),Object(s.b)(this.ppapiService,this.appSettings)].forEach(e=>this.httpClient.addRequestInterceptor(e)),this.httpClient.addResponseInterceptor(Object(n.g)(this.loggingService,this.sessionStore),Object(n.e)(this.loggingService,this.sessionStore))}var t,r,l;return t=e,(r=[{key:"getDesktopFlowRemediationData",value:function(e,t){return this.httpClient.get({eventName:"PROCESSSIMPLE:GET/MICROSOFT.PROCESSSIMPLE/UIFLOWS/RUNS/REMEDIATION",url:Object(o.a)(this.getBaseUrl(),"/api/uiflows/".concat(e,"/runs/").concat(t,"/remediation"))})}},{key:"getFlowFailureRemediationMetadata",value:function(e,t){return this.httpClient.get({eventName:"PROCESSSIMPLE:GET/MICROSOFT.PROCESSSIMPLE/FLOWS/RUNS/REMEDIATION",url:Object(o.a)(this.getBaseUrl(),"/flows/".concat(e,"/runs/").concat(t,"/remediation"))})}},{key:"getBaseUrl",value:function(){return Object(a.a)({appSettings:this.appSettings,environmentName:this.environmentStore.currentEnvironmentName})}}])&&u(t.prototype,r),l&&u(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22214:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(22211).a)},22215:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(22216),i=r(12339),o=r(22182),a=r(22219),s=r(17448),u=r(13087),l=new n.a(Object(i.b)(),a.a,o.a,s.a,u.a)},22216:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(12364),i=r(13009),o=r(15422),a=r(13085),s=r(15388),u=r(17219),l=r(15396),c=r(13146),p=r(22217),d=r(22183),m=r(22218),h=r(17269);function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function g(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y=function(){function e(t,r,n,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.appSettings=t,this.uiFlowRunQueueHttpClient=r,this.uiFlowQueueStore=n,this.graphService=i,this.loggingService=o,this.runFirstPending=Object(c.a)(),this.entityManagerServiceHelper=void 0,this.entityManagerServiceHelper=new s.a(o)}var t,r,u;return t=e,(r=[{key:"getQueues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.loggingService.profileStart(a.a.uiFlowQueuesLoadStart),r=d.a.RunQueuesList,i=this.uiFlowQueueStore.queues.getCollection(r),o=i&&i.lastFetched;return e||Object(n.d)(o)?this.runFirstPending({key:"getQueues",action:()=>(this.uiFlowQueueStore.queues.setCollectionLoading(r),this.uiFlowRunQueueHttpClient.getQueues().then(e=>{this.uiFlowQueueStore.queues.setCollectionLoaded(r,e&&e.data&&e.data.value||[],{nextLink:e&&e.data&&e.data.nextLink,resetList:!0,replaceDupe:n.a}),this.loggingService.profileEndWithSuccess(t,a.a.uiFlowQueuesLoadEnd,{uiFlowQueueNumber:e&&e.data&&e.data.value.length}),this.extractUniqueOwner(e&&e.data&&e.data.value||[]).forEach(e=>this.graphService.getUserByMail(e))}).catch(e=>{throw this.loggingService.profileEnd(t,a.a.uiFlowQueuesLoadEnd,this.getQueuesErrorStatus(e),e),e}))}).catch(e=>{throw this.uiFlowQueueStore.queues.setCollectionError(r,e),e}):Promise.resolve()}},{key:"getQueuesErrorStatus",value:function(e){return Object(i.Q)(e,403)?i.e.Warning:Object(i.y)(e)}},{key:"getQueueRuns",value:function(e,t){var r=this.loggingService.profileStart(a.a.uiFlowQueueRunsLoadStart),i=e;return this.runFirstPending({key:"getRunQueue/".concat(i),action:()=>(this.uiFlowQueueStore.queuedRuns.setCollectionLoading(i),this.uiFlowRunQueueHttpClient.getQueueRuns(e,t).then(e=>{this.uiFlowQueueStore.queuedRuns.setCollectionLoaded(i,e&&e.data&&e.data.value&&e.data.value.runs||[],{resetList:!0,replaceDupe:n.a}),this.uiFlowQueueStore.setUsedInMultipleEnvironments(i,e&&e.data&&e.data.value&&e.data.value.hasRunsFromOtherEnvironment),this.loggingService.profileEndWithSuccess(r,a.a.uiFlowQueueRunsLoadEnd,{uiFlowQueueRunsNumber:e&&e.data&&e.data.value&&e.data.value.runs&&e.data.value.runs.length})}).catch(e=>{throw this.loggingService.profileEnd(r,a.a.uiFlowQueueRunsLoadEnd,this.getQueueRunsErrorStatus(e),e),e}))}).catch(e=>{throw this.uiFlowQueueStore.queuedRuns.setCollectionError(i,e),e})}},{key:"getQueueRunsErrorStatus",value:function(e){return Object(o.m)(e)||Object(i.Q)(e,403)?i.e.Warning:Object(i.y)(e)}},{key:"moveToTop",value:function(e,t,r,n){return this.updateUiFlowRun(r,"moveToTop/".concat(r),()=>this.uiFlowRunQueueHttpClient.moveToTop(e,t,r,n),h.b.MoveToTop,m.a)}},{key:"undoMoveToTop",value:function(e,t,r,n){return this.updateUiFlowRun(r,"undoMoveToTop/".concat(r),()=>this.uiFlowRunQueueHttpClient.undoMoveToTop(e,t,r,n),h.b.UndoMoveToTop,m.a)}},{key:"changePriority",value:function(e,t,r,n,i){return this.updateUiFlowRun(r,"changePriority/".concat(r),()=>this.uiFlowRunQueueHttpClient.changePriority(e,t,r,n,i),h.b.ChangePriority,m.a)}},{key:"getQueueCompactView",value:function(e){return this.entityManagerServiceHelper.fetchEntity(this.uiFlowQueueStore.compactQueues,e,()=>this.uiFlowRunQueueHttpClient.getQueueCompactView(p.c.AzureRelay,e).then(e=>e&&e.data&&e.data.value),"getQueueCompactView",h.b.CompactViewGet,h.a.TargetDetails,void 0,void 0,this.getQueueCompactViewErrorStatus)}},{key:"getQueueCompactViewErrorStatus",value:function(e){return Object(o.m)(e)||Object(i.Q)(e,403)?i.e.Warning:Object(i.y)(e)}},{key:"getBatchQueueCompactView",value:function(e){return this.entityManagerServiceHelper.batchFetchEntity(this.uiFlowQueueStore.compactQueues,e,e=>this.uiFlowRunQueueHttpClient.getBatchQueueCompactView(p.c.AzureRelay,e).then(e=>{var t=[],r=e&&e.data&&e.data.value;return r&&Object.keys(r).forEach(e=>{var n=r[e];t.push({key:e,value:n.value,error:b(n.error),failureLogReason:v(n.error),warningLogReason:S(n.error)})}),t}),"getBatchQueueCompactView",h.b.CompactViewBatch,h.a.TargetList,!1,this.appSettings.machineManagementRelayBatchQueueCompactViewLimit)}},{key:"updateUiFlowRun",value:function(e,t,r,n,i){return Object(l.d)({promise:this.runFirstPending({key:t,action:()=>(this.uiFlowQueueStore.queuedRuns.entities.setEntityFetching(e),r().then(()=>{this.uiFlowQueueStore.queuedRuns.entities.setEntitySuccess(e)}))}).catch(t=>{throw this.uiFlowQueueStore.queuedRuns.entities.setEntityError(e,t),t}),eventName:n,sourcePage:h.a.QueuedRuns,loggingService:this.loggingService,getStatus:i})}},{key:"extractUniqueOwner",value:function(e){var t=new Set;return e.forEach(e=>{e.owners.forEach(e=>{t.add(e)})}),t}}])&&f(t.prototype,r),u&&f(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e){if(!e)return e;var t=Object(u.b)(e.errorCode);return t?{response:{headers:new Headers,code:e.errorCode,message:e.message,status:t}}:e}function v(e){if(e){var t=Object(u.b)(e.errorCode);return t&&t>300&&![404,403].includes(t)?{statusCode:t,errorCode:e.errorCode,message:e.message}:void 0}}function S(e){if(e&&!v(e))return{statusCode:Object(u.b)(e.errorCode),errorCode:e.errorCode,message:e.message}}},22217:function(e,t,r){"use strict";var n=r(14855);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c})),r.d(t,"d",(function(){return n.d}))},22218:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return u}));var n=r(13009),i=r(15455);function o(e){var t=Object(n.z)(e);return e&&e.response&&400===e.response.status&&t&&t.includes('"error":{"code":"WorkflowRunCanNotBeCancelled"')}function a(e){var t=Object(n.cb)(e);return Object(i.e)(e)&&"UIFlowRunNotFound"===t}function s(e){return a(e)?n.e.Success:Object(n.y)(e)}function u(e,t){return Object(i.d)(e)?t.Monitor.PrivateFlow:Object(i.e)(e)?t.Monitor.DeletedFlow:t.Monitor.FailedToLoad}},22219:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r(13192),i=r(13077),o=r(13e3),a=r(13087),s=r(13198),u=r(13206),l=r(12345),c=r(12999),p=r(22220),d=Object(c.a)(),m=new p.a(d,new n.HttpClient,a.a,o.a,i.a,s.a,u.a,l.a)},22220:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(11795),i=r(13214),o=r(13215),a=r(12375),s=r(13227),u=r(12381);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var h=function(){function e(t,r,u,l,p,d,m,h){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureFlags=t,this.httpClient=r,this.loggingService=u,this.sessionStore=l,this.tokenService=p,this.userContextChangeMonitoringService=d,this.userContextStore=m,this.environmentStore=h,this.ppapiDiscovery=void 0;var f,{region:g}=Object(n.h)(),y=Object(s.a)(g,h.currentEnvironment);this.ppapiDiscovery=new i.a(y);try{f=this.ppapiDiscovery.getTokenAudience()}catch(b){this.loggingService.logError("PPapiUiFlowRunQueueHttpClient.constructor",b,{region:g})}[Object(o.f)(this.loggingService,()=>this.sessionStore.sessionId),Object(o.c)(()=>this.tokenService.getAccessToken(f)),Object(o.b)(()=>s.c),Object(o.d)(a.a),Object(o.j)(this.featureFlags.enableB2BLogin,this.userContextStore,this.userContextChangeMonitoringService,this.loggingService),Object(o.i)(u,l),e=>(e.headers=c(c({},e.headers),{},{"x-ms-uiflowrqmazurerelayruntime":1}),Promise.resolve(e))].forEach(e=>this.httpClient.addRequestInterceptor(e)),this.httpClient.addResponseInterceptor(Object(o.g)(this.loggingService,this.sessionStore),Object(o.e)(this.loggingService,this.sessionStore))}var t,r,l;return t=e,(r=[{key:"getQueues",value:function(){return this.httpClient.get({eventName:"PPAPI:GET/UIFLOW/TARGETS",url:this.craftUrl("/uiflow/targets")})}},{key:"getQueueCompactView",value:function(e,t){return this.httpClient.get({eventName:"PPAPI:GET/UIFLOW/TARGETS/COMPACT",url:this.craftUrl("/uiflow/targets/".concat(e,"/").concat(t,"/compactview"))})}},{key:"getBatchQueueCompactView",value:function(e,t){return this.httpClient.post({eventName:"PPAPI:POST/UIFLOW/TARGETS/BATCHCOMPACT",url:this.craftUrl("/uiflow/targets/".concat(e,"/compactview")),data:{ids:t}})}},{key:"getQueueRuns",value:function(e,t){return this.httpClient.get({eventName:"PPAPI:GET/UIFLOW/TARGETS/RUNS",url:this.craftUrl("/uiflow/targets/".concat(t,"/").concat(e,"/runs"))})}},{key:"moveToTop",value:function(e,t,r,n){return this.httpClient.post({eventName:"PPAPI:POST/UIFLOW/TARGETS/UIFLOWS/RUN/MOVETOTOP",url:this.craftUrl("/uiflow/targets/".concat(n,"/").concat(e,"/uiflows/").concat(t,"/run/").concat(r,"/movetotop"))})}},{key:"undoMoveToTop",value:function(e,t,r,n){return this.httpClient.delete({eventName:"PPAPI:DELETE/UIFLOW/TARGETS/UIFLOWS/RUN/MOVETOTOP",url:this.craftUrl("/uiflow/targets/".concat(n,"/").concat(e,"/uiflows/").concat(t,"/run/").concat(r,"/movetotop"))})}},{key:"changePriority",value:function(e,t,r,n,i){return this.httpClient.post({eventName:"PPAPI:POST/UIFLOW/TARGETS/UIFLOWS/RUN/PROPERTIES",url:this.craftUrl("/uiflow/targets/".concat(n,"/").concat(e,"/uiflows/").concat(t,"/run/").concat(r,"/properties")),data:{priority:i}})}},{key:"craftUrl",value:function(e){return Object(u.a)(this.getBaseUrl(),e)}},{key:"getBaseUrl",value:function(){var e=this.ppapiDiscovery.getEnvironmentEndpoint(this.environmentStore.currentEnvironmentName);return"https://".concat(e,"/powerautomate")}}])&&d(t.prototype,r),l&&d(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22221:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(22222),i=r(17258),o=r(20903),a=r(15459),s=r(12345),u=r(22232),l=r(22307),c=r(17213),p=r(13087),d=r(21021),m=r(12999),h=r(17448),f=new n.d(u.a,c.a,i.a,l.a,p.a,Object(m.a)(),s.a,a.a,d.a,o.a,h.a)},22232:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(22233),i=r(15460),o=r(12345),a=r(15459),s=r(12999),u=new n.a(i.b,o.a,a.a,Object(s.a)())},22233:function(e,t,r){"use strict";r.d(t,"a",(function(){return R}));var n=r(14844),i=r(15427),o=r(20987),a=r(15959),s=r(15954),u=r(16786),l=r(15962),c=r(15966),p=r(16877),d=r(15973),m=r(16744),h=r(15400),f=r(15985),g=r(22234),y=r(22304),b=r(16785),v=r(22305),S=r(22306),w=r(17271),O=r(20126);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function k(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var R=function(){function e(t,r,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpClient=t,this.environmentStore=r,this.environmentCapabilityStore=a,this.featureFlags=s,this.generateFiltersConditions=e=>{var t,r,a,s,u,l,c,p,d,m;if(null!=e&&e.runModes){var f=!1,y=e.runModes.map(e=>(f||e!==n.c.Unspecified||(f=!0),{attribute:"context",operator:"like",value:'%"attendedMode":"'.concat(e,'"%')}));f&&y.push(this.contextNotContainsProperty("attendedMode")),d={type:"or",conditions:y}}if(null!=e&&e.runStatuses&&(null==e||null===(t=e.runStatuses)||void 0===t?void 0:t.length)>0){var b=[];e.runStatuses.forEach(e=>{b.push("".concat(e)),e===o.a.failed&&(b.push("".concat(i.e.Faulted)),b.push("".concat(i.e.TimedOut)))}),m={attribute:"statuscode",operator:"in",values:b}}return[(null==e||null===(r=e.dateFilters)||void 0===r?void 0:r.from)&&{attribute:"completedon",operator:"ge",value:e.dateFilters.from.toISOString()},(null==e||null===(a=e.dateFilters)||void 0===a?void 0:a.to)&&{attribute:"completedon",operator:"le",value:e.dateFilters.to.toISOString()},null!=e&&null!==(s=e.errorCodes)&&void 0!==s&&s.length?{attribute:"errorcode",operator:"in",values:e.errorCodes}:void 0,null!=e&&null!==(u=e.desktopFlowIds)&&void 0!==u&&u.length?{attribute:"regardingobjectid",operator:"in",values:e.desktopFlowIds}:void 0,(null==e?void 0:e.cloudFlowIds)&&{type:"or",conditions:e.cloudFlowIds.map(e=>e===g.a?this.contextNotContainsProperty("parentWorkflowId"):{attribute:"context",operator:"like",value:'%"parentWorkflowId":"'.concat(e,'"%')})},null!=e&&null!==(l=e.machineIds)&&void 0!==l&&l.length?{attribute:"machineid",operator:"in",values:e.machineIds}:void 0,null!=e&&null!==(c=e.machineGroupIds)&&void 0!==c&&c.length?{attribute:"machinegroupid",operator:"in",values:e.machineGroupIds}:void 0,null!=e&&null!==(p=e.userIds)&&void 0!==p&&p.length?{attribute:"ownerid",operator:"in",values:e.userIds}:void 0,m,d].filter(h.a)},this.isAnyMachineFiltersApplied=e=>(null==e?void 0:e.machineIds)&&e.machineIds.length>0||(null==e?void 0:e.machineVersions)&&e.machineVersions.length>0,this.getTopCount=(e,t)=>void 0!==(null==e?void 0:e.topCount)&&(null==e?void 0:e.topCount)>=0?e.topCount:t,this.contextNotContainsProperty=e=>({type:"or",conditions:[{attribute:"context",operator:"not-like",value:'%"'.concat(e,'":%')},{attribute:"context",operator:"like",value:'%"'.concat(e,'":null%')}]})}var t,r,C;return t=e,(r=[{key:"getTopErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[this.failureConditions,...this.generateFiltersConditions(e)],n=Object(c.c)("errorcode",null==e?void 0:e.searchCriteria);n&&r.push(n);var i=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"errorcode",groupby:!0,alias:b.a.errorcode},{name:"name",aggregate:"count",alias:b.a.totalcount},{name:"statuscode",groupby:!0,alias:b.a.statuscode}).where({type:"and",conditions:r}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,i,!0,t)}},{key:"getTotalErrorsCountPerMachine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"name",aggregate:"count",alias:b.a.totalcount}).expand(F({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean)},r?{where:{type:"and",conditions:[r]}}:{linkType:"outer"})).where({type:"and",conditions:[this.failureConditions,{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"listRunStatusCountPerMachineGroup",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"machinegroupid",groupby:!0,alias:b.a.machinegroup_id},{name:"statuscode",groupby:!0,alias:b.a.statuscode},{name:"name",aggregate:"count",alias:b.a.totalcount}).expand({entityLink:u.b,selects:[{name:"name",groupby:!0,alias:b.a.machinegroupname},this.isHostedMachineGroupSupported&&{name:"managementtype",groupby:!0,alias:b.a.machinegroupmanagementtype}].filter(Boolean),linkType:"inner",where:{type:"and",conditions:Object(p.b)(e)}}).where({type:"and",conditions:[{attribute:"machinegroupid",operator:"not-null"},...this.generateFiltersConditions(e)].filter(h.a)}).conditionally(()=>this.isAnyMachineFiltersApplied(e)||!1,t=>t.expand({entityLink:u.a,where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}})).orderBy({alias:b.a.machinegroup_id}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"listRunStatusCountPerMachine",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"statuscode",groupby:!0,alias:b.a.statuscode},{name:"name",aggregate:"count",alias:b.a.totalcount}).expand({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean),linkType:"inner",where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}}).where({type:"and",conditions:[{attribute:"machineid",operator:"not-null"},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.machine_id}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getTotalErrorsCountPerMachineGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machinegroupid",groupby:!0,alias:b.a.machinegroup_id},{name:"name",aggregate:"count",alias:b.a.totalcount}).expand(F({entityLink:u.b,selects:[{name:"name",groupby:!0,alias:b.a.machinegroupname},this.isHostedMachineGroupSupported&&{name:"managementtype",groupby:!0,alias:b.a.machinegroupmanagementtype}].filter(Boolean)},r?{where:{type:"and",conditions:[r]}}:{linkType:"outer"})).where({type:"and",conditions:[this.failureConditions,{attribute:"machinegroupid",operator:"not-null"},{entityName:a.i.logicalName,attribute:"flowgrouptype",operator:"eq",value:"".concat(f.b.Standard)},...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getTotalErrorsCountPerDesktopFlow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"regardingobjectid",groupby:!0,alias:b.a.workflowid},{name:"name",aggregate:"count",alias:b.a.totalcount}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).expand({entityLink:u.d,selects:[{name:"name",groupby:!0,alias:b.a.workflowname}],where:r&&{type:"and",conditions:[r]}}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getTotalErrorCodesCountPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"name",aggregate:"count",alias:b.a.totalcount},{name:"errorcode",groupby:!0,alias:b.a.errorcode},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day},{name:"statuscode",groupby:!0,alias:b.a.statuscode}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getErrorCodesPerDate",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical"}).select({name:"errorcode",alias:b.a.errorcode},{name:"completedon",alias:b.a.completedon},{name:"statuscode",alias:b.a.statuscode}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getTotalDesktopFlowErrorsCountPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"name",aggregate:"count",alias:b.a.totalcount},{name:"regardingobjectid",groupby:!0,alias:b.a.workflowid},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day}).expand({entityLink:u.d,selects:[{name:"name",groupby:!0,alias:b.a.workflowname}]}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getDesktopFlowErrorsPerDate",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical"}).select({name:"regardingobjectid",alias:b.a.workflowid},{name:"completedon",alias:b.a.completedon}).expand({entityLink:u.d,selects:[{name:"name",alias:b.a.workflowname}]}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getDesktopFlowErrorsCodes",value:function(){var e=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",distinct:!0}).select({name:"errorcode",alias:b.a.errorcode}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,e)}},{key:"getMachineOptions",value:function(){var e=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",distinct:!0}).select(...[{name:"name",alias:y.a.machinename},{name:"flowmachineid",alias:y.a.flowmachine_id},this.isHostedMachineGroupSupported&&{name:"hostingtype",alias:y.a.machinehostingtype}].filter(Boolean)).where({type:"and",conditions:Object(d.a)(this.isHostedMachineGroupSupported)}).orderBy({attribute:"name",descending:!1}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,e)}},{key:"getUserOptions",value:function(){var e=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",distinct:!0}).expand({entityLink:u.c,selects:[{name:"azureactivedirectoryobjectid",alias:v.a.ownerAadOid},{name:"systemuserid",alias:v.a.ownerSystemId},{name:"fullname",alias:v.a.ownerFullName},{name:"isdisabled",alias:v.a.ownerIsDisabled},{name:"islicensed",alias:v.a.ownerIsLicensed},{name:"internalemailaddress",alias:v.a.ownerEmail}].filter(Boolean),orderBys:[{attribute:"fullname",descending:!1}]}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,e)}},{key:"getTotalMachineErrorsCountPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"name",aggregate:"count",alias:b.a.totalcount},{name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day}).expand({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename}],where:{type:"and",conditions:Object(d.a)(this.isHostedMachineGroupSupported)}}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getMachineErrorsPerDate",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical"}).select({name:"machineid",alias:b.a.machine_id},{name:"completedon",alias:b.a.completedon}).expand({entityLink:u.a,selects:[{name:"name",alias:b.a.machinename}],where:{type:"and",conditions:Object(d.a)(this.isHostedMachineGroupSupported)}}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getTotalMachineGroupErrorsCountPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"name",aggregate:"count",alias:b.a.totalcount},{name:"machinegroupid",groupby:!0,alias:b.a.machinegroup_id},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day}).expand({entityLink:u.b,selects:[{name:"name",groupby:!0,alias:b.a.machinegroupname}],where:{type:"and",conditions:Object(p.a)()}}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getMachineGroupErrorsPerDate",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical"}).select({name:"machinegroupid",alias:b.a.machinegroup_id},{name:"completedon",alias:b.a.completedon}).expand({entityLink:u.b,selects:[{name:"name",alias:b.a.machinegroupname}],where:{type:"and",conditions:Object(p.a)()}}).where({type:"and",conditions:[this.failureConditions,...this.generateFiltersConditions(e)]}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getContextsOfFailedRunsWithParentCloudFlow",value:function(e,t){var r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",count:t}).select({name:"flowsessionid",alias:b.a.flowsessionid},{name:"context",alias:b.a.context}).where({type:"and",conditions:[{attribute:"context",operator:"like",value:'%"parentWorkflowType":"ApiFlow"%'},{attribute:"context",operator:"like",value:'%"parentWorkflowId":%'},{attribute:"context",operator:"not-like",value:'%"parentWorkflowId":null%'},this.failureConditions,...this.generateFiltersConditions(e)]}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0)}},{key:"getTotalRunsPerDesktopFlows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"name",alias:b.a.totalcount,aggregate:"count"}).where({type:"and",conditions:this.generateFiltersConditions(e)}).expand({entityLink:u.d,selects:[{name:"name",alias:b.a.workflowname,groupby:!0},{name:"workflowid",alias:b.a.workflowid,groupby:!0}],where:r&&{type:"and",conditions:[r]}}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getTotalRunsPerStatus",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"name",alias:b.a.totalcount,aggregate:"count"}).select({name:"statuscode",alias:b.a.statuscode,groupby:!0}).where({type:"and",conditions:this.generateFiltersConditions(e)}).orderBy({alias:b.a.totalcount}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getTotalRunsPerStatusPerDesktopFlows",value:function(e,t){var r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",count:t,aggregate:!0}).select({name:"name",alias:b.a.totalcount,aggregate:"count"}).select({name:"statuscode",alias:b.a.statuscode,groupby:!0}).expand({entityLink:u.d,selects:[{name:"name",alias:b.a.workflowname,groupby:!0},{name:"workflowid",alias:b.a.workflowid,groupby:!0}]}).where({type:"and",conditions:this.generateFiltersConditions(e)}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0)}},{key:"getTotalRunStatusesCountPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"name",aggregate:"count",alias:b.a.totalcount},{name:"statuscode",groupby:!0,alias:b.a.statuscode},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day}).where({type:"and",conditions:this.generateFiltersConditions(e)}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getRunStatusesPerDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",page:t}).select({name:"statuscode",alias:b.a.statuscode},{name:"completedon",alias:b.a.completedon}).where({type:"and",conditions:this.generateFiltersConditions(e)}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0,t)}},{key:"getRunStatusesAndDurationPerDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",page:t}).select({name:"statuscode",alias:b.a.statuscode},{name:"completedon",alias:b.a.completedon},{name:"runwaitduration",alias:b.a.runwaitduration},{name:"runexecutionduration",alias:b.a.runexecutionduration}).where({type:"and",conditions:[...this.generateFiltersConditions(e)]}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0,t)}},{key:"getAverageRunDurationPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"runwaitduration",aggregate:"avg",alias:b.a.runwaitduration},{name:"runexecutionduration",aggregate:"avg",alias:b.a.runexecutionduration},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day}).where({type:"and",conditions:[this.notNullDurationConditionBlock,...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getRunsCountPerDesktopFlows",value:function(e,t){var r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",count:t,aggregate:!0}).select({name:"name",alias:b.a.totalcount,aggregate:"count"}).expand({entityLink:u.d,selects:[{name:"name",alias:b.a.workflowname,groupby:!0},{name:"workflowid",alias:b.a.workflowid,groupby:!0}]}).where({type:"and",conditions:this.generateFiltersConditions(e)}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0)}},{key:"getTotalRunsCountPerUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("fullname",null==e?void 0:e.searchCriteria),n=Object(c.c)("internalemailaddress",null==e?void 0:e.searchCriteria),i=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"ownerid",aggregate:"count",alias:b.a.totalcount}).expand(F({entityLink:u.c,selects:[{name:"azureactivedirectoryobjectid",groupby:!0,alias:v.a.ownerAadOid},{name:"fullname",groupby:!0,alias:v.a.ownerFullName},{name:"internalemailaddress",groupby:!0,alias:v.a.ownerEmail},{name:"isdisabled",groupby:!0,alias:v.a.ownerIsDisabled},{name:"islicensed",groupby:!0,alias:v.a.ownerIsLicensed}].filter(Boolean)},r&&n?{where:{type:"or",conditions:[r,n].filter(Boolean)}}:{linkType:"inner"})).where({type:"and",conditions:this.generateFiltersConditions(e).filter(h.a)}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,i,!0,t)}},{key:"getTotalRunsCountPerMachine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"name",aggregate:"count",alias:b.a.totalcount}).expand(F({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean)},r?{where:{type:"and",conditions:[r]}}:{linkType:"outer"})).where({type:"and",conditions:[{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getTotalRunsCountPerMachineGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machinegroupid",groupby:!0,alias:b.a.machinegroup_id},{name:"name",aggregate:"count",alias:b.a.totalcount}).expand(F({entityLink:u.b,selects:[{name:"name",groupby:!0,alias:b.a.machinegroupname},this.isHostedMachineGroupSupported&&{name:"managementtype",groupby:!0,alias:b.a.machinegroupmanagementtype}].filter(Boolean)},r?{where:{type:"and",conditions:[r]}}:{linkType:"outer"})).where({type:"and",conditions:[{attribute:"machinegroupid",operator:"not-null"},{entityName:a.i.logicalName,attribute:"flowgrouptype",operator:"eq",value:"".concat(f.b.Standard)},...this.generateFiltersConditions(e)]}).orderBy({alias:b.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getLastRuns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",count:this.getTopCount(e,10),page:t}).select({name:"flowsessionid",alias:b.a.flowsessionid},{name:"createdon",alias:b.a.createdon},{name:"statuscode",alias:b.a.statuscode},{name:"completedon",alias:b.a.completedon},{name:"errorcode",alias:b.a.errorcode},{name:"startedon",alias:b.a.startedon},{name:"context",alias:b.a.context},{name:"machineid",alias:b.a.machine_id},{name:"machinegroupid",alias:b.a.machinegroup_id},{name:"regardingobjectid",alias:b.a.workflowid}).conditionally(()=>this.environmentCapabilityStore.isDesktopFlowRunDurationSupported(this.environmentStore.currentEnvironmentName),e=>e.select({name:"runduration",alias:b.a.runduration})).expand({entityLink:u.a,linkType:"outer",selects:[{name:"name",alias:y.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",alias:y.a.machinehostingtype}].filter(Boolean)}).expand({entityLink:u.d,linkType:"outer",selects:[{name:"name",alias:b.a.workflowname}]}).expand({entityLink:u.b,linkType:"outer",selects:[{name:"name",alias:b.a.machinegroupname},{name:"flowgrouptype",alias:b.a.machinegrouptype}]}).expand({entityLink:u.c,linkType:"inner",selects:[{name:"azureactivedirectoryobjectid",alias:v.a.ownerAadOid},{name:"fullname",alias:v.a.ownerFullName},{name:"isdisabled",alias:v.a.ownerIsDisabled},{name:"islicensed",alias:v.a.ownerIsLicensed},{name:"internalemailaddress",alias:v.a.ownerEmail}].filter(Boolean)}).where({type:"and",conditions:this.generateFiltersConditions(e)}).orderBy({attribute:"createdon",descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0,t)}},{key:"getLastCompactRuns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[{name:"flowsessionid",alias:b.a.flowsessionid},{name:"createdon",alias:b.a.createdon},{name:"statuscode",alias:b.a.statuscode},{name:"completedon",alias:b.a.completedon},{name:"startedon",alias:b.a.startedon},{name:"regardingobjectid",alias:b.a.workflowid}];Object(m.t)(this.environmentStore,this.environmentCapabilityStore)&&r.push({name:"rundetails",alias:b.a.rundetails}),Object(m.e)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)&&Object(w.a)()&&r.push({name:"credentials",alias:b.a.credentials});var n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",count:this.getTopCount(e,10),page:t}).select(...r).where({type:"and",conditions:this.generateFiltersConditions(e)}).orderBy({attribute:"createdon",descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getLastRunsTime",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",top:this.getTopCount(e,10)}).select({name:"flowsessionid",alias:b.a.flowsessionid},{name:"statuscode",alias:b.a.statuscode},{name:"createdon",alias:b.a.createdon},{name:"startedon",alias:b.a.startedon}).where({type:"and",conditions:this.generateFiltersConditions(e)}).orderBy({attribute:"createdon",descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getMachineVersionsOptions",value:function(){var e=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",distinct:!0}).select({name:"agentversion",alias:y.a.machineversion}).where({type:"and",conditions:Object(d.a)(this.isHostedMachineGroupSupported)}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,e)}},{key:"getMachineStatesCount",value:function(e){var t=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"flowmachineid",alias:y.a.totalcount,aggregate:"count"}).select({name:"statuscode",alias:y.a.statuscode,groupby:!0}).where({type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}).orderBy({alias:y.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,t,!0)}},{key:"getLastModifiedMachineGroupInformation",value:function(e,t){var r=new l.a(a.i.logicalName,{version:"1.0",mapping:"logical",distinct:!0,top:this.getTopCount(t,10)}).select(...[{name:"flowmachinegroupid",alias:S.a.machinegroup_id},{name:"name",alias:S.a.machinegroupname},{name:"description",alias:S.a.machinegroupdescription},{name:"flowgrouptype",alias:S.a.machinegrouptype},this.isHostedMachineGroupSupported&&{name:"managementtype",alias:S.a.machinegroupmanagementtype},{name:"modifiedon",alias:S.a.modifiedon},this.isHostedMachineGroupSupported&&{name:"maxmanagedmachinecount",alias:S.a.maxmanagedmachinecount}].filter(Boolean)).where({type:"and",conditions:Object(p.b)(t)}).expand({entityLink:s.b,linkType:this.isAnyMachineFiltersApplied(t)?void 0:"outer",where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,t)}}).conditionally(()=>e,e=>e.expand({entityLink:s.a,linkType:"outer",selects:[{name:"count",alias:S.a.committedBots}]})).orderBy({attribute:"modifiedon",descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.i.entitySetName,r,!0)}},{key:"getMachineGroupsWithTheirMachinesOptions",value:function(e){var t=new l.a(a.i.logicalName,{version:"1.0",mapping:"logical",count:e}).select(...[{name:"flowmachinegroupid",alias:S.a.machinegroup_id},{name:"name",alias:S.a.machinegroupname},{name:"flowgrouptype",alias:S.a.machinegrouptype},this.isHostedMachineGroupSupported&&{name:"managementtype",alias:S.a.machinegroupmanagementtype}].filter(Boolean)).expand({entityLink:s.b,linkType:"outer",where:{type:"and",conditions:Object(d.a)(this.isHostedMachineGroupSupported)},selects:[{name:"flowmachineid",alias:y.a.flowmachine_id},{name:"name",alias:y.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",alias:y.a.machinehostingtype}].filter(Boolean),orderBys:[{attribute:"name"}]}).orderBy({attribute:"name"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.i.entitySetName,t,!0)}},{key:"getLastModifiedMachineInformation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",count:this.getTopCount(e,10),page:t}).select(...[{name:"flowmachineid",alias:y.a.flowmachine_id},{name:"name",alias:y.a.machinename},{name:"description",alias:y.a.machinedescription},{name:"modifiedon",alias:y.a.modifiedon},this.isHostedMachineGroupSupported&&{name:"hostingtype",alias:y.a.machinehostingtype},{name:"agentversion",alias:y.a.machineversion}].filter(Boolean)).where({type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}).conditionally(()=>!!(e&&e.vmImageIds&&e.vmImageIds.length>0),t=>t.expand(Object(d.b)(e))).orderBy({attribute:"modifiedon",descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,r,!0,t)}},{key:"getMachinesCountPerMachineGroup",value:function(e,t){var r=new l.a(a.i.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:t}).select(...[{name:"flowmachinegroupid",alias:S.a.machinegroup_id,groupby:!0},{name:"name",alias:S.a.machinegroupname,groupby:!0},{name:"description",alias:S.a.machinegroupdescription,groupby:!0},{name:"flowgrouptype",alias:S.a.machinegrouptype,groupby:!0},this.isHostedMachineGroupSupported&&{name:"managementtype",alias:S.a.machinegroupmanagementtype,groupby:!0}].filter(Boolean)).where({type:"and",conditions:Object(p.b)(e)}).expand({entityLink:s.b,linkType:this.isAnyMachineFiltersApplied(e)?void 0:"outer",selects:[{name:"flowmachineid",alias:S.a.machinegroupmachinescount,aggregate:"countcolumn"}],where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.i.entitySetName,r,!0)}},{key:"getMachineVersionsCount",value:function(e){var t=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"flowmachineid",alias:y.a.totalcount,aggregate:"count"}).select({name:"agentversion",alias:y.a.machineversion,groupby:!0}).where({type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}).conditionally(()=>!!(e&&e.vmImageIds&&e.vmImageIds.length>0),t=>t.expand(Object(d.b)(e))).orderBy({alias:y.a.totalcount,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,t,!0)}},{key:"getTotalMachineCount",value:function(){var e=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"flowmachineid",alias:y.a.totalcount,aggregate:"count"}).where({type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported)}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,e,!0)}},{key:"getTotalMachineGroupCount",value:function(){var e=new l.a(a.i.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"flowmachinegroupid",alias:S.a.totalcount,aggregate:"count"}).where({type:"and",conditions:Object(p.b)()}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.i.entitySetName,e,!0)}},{key:"getMachineHostingTypesCount",value:function(e){var t=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"flowmachineid",alias:y.a.totalcount,aggregate:"count"}).select({name:"hostingtype",groupby:!0,alias:y.a.machinehostingtype}).where({type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}).conditionally(()=>!!(e&&e.vmImageIds&&e.vmImageIds.length>0),t=>t.expand(Object(d.b)(e))).orderBy({alias:y.a.machinehostingtype}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,t,!0)}},{key:"listMachineEvents",value:function(e){var t=new l.a(a.h.logicalName,{version:"1.0",mapping:"logical"}).select({name:"flowmachineid",alias:y.a.flowmachine_id}).select({name:"name",alias:y.a.machinename}).select({name:"hostingtype",alias:y.a.machinehostingtype}).select({name:"statuscode",alias:y.a.statuscode}).select({name:"agentversion",alias:y.a.machineversion}).select({name:"hostedmachineerror",alias:y.a.hostedmachineerror}).conditionally(()=>this.environmentCapabilityStore.isMachineMaintenanceSupported(this.environmentStore.currentEnvironmentName),e=>e.select({name:"keydeliverystatus",alias:y.a.keydeliverystatus})).where({type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}).orderBy({attribute:"name"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.h.entitySetName,t,!0)}},{key:"listMachineGroupEvents",value:function(e){var t=new l.a(a.i.logicalName,{version:"1.0",mapping:"logical"}).select({name:"flowmachinegroupid",alias:S.a.machinegroup_id}).select({name:"name",alias:S.a.machinegroupname}).select({name:"flowgrouptype",alias:S.a.machinegrouptype}).select({name:"managementtype",alias:S.a.machinegroupmanagementtype}).select({name:"statuscode",alias:S.a.statuscode}).select({name:"provisioningstate",alias:S.a.provisioningstate}).select({name:"provisioningerror",alias:S.a.provisioningerror}).conditionally(()=>this.environmentCapabilityStore.isMachineMaintenanceSupported(this.environmentStore.currentEnvironmentName),e=>e.select({name:"primarykeypackage",alias:S.a.primarykeypackage})).where({type:"and",conditions:Object(p.b)(e)}).conditionally(()=>this.isAnyMachineFiltersApplied(e)||!1,t=>t.expand({entityLink:s.b,linkType:this.isAnyMachineFiltersApplied(e)?void 0:"outer",where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}})).orderBy({attribute:"name"});Object(O.j)(this.environmentStore,this.environmentCapabilityStore)&&(t=t.expand({entityLink:s.c,selects:[{name:"deprecationdate",alias:"vmImageDeprecationDate"}],linkType:"outer"}));var r=t.build();return this.httpClient.retrieveMultipleWithFetchXml(a.i.entitySetName,r,!0).then(e=>(e.data.value=e.data.value.map(e=>{return e.primarykeypackage=this.environmentCapabilityStore.isMachineMaintenanceSupported(this.environmentStore.currentEnvironmentName)?null==(t=e.primarykeypackage)?null:t:e.primarykeypackage,e;var t}),e))}},{key:"getMachineGroupManagementTypesCount",value:function(e){var t=new l.a(a.i.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"flowmachinegroupid",alias:S.a.totalcount,aggregate:"countcolumn",distinct:!0}).select({name:"managementtype",groupby:!0,alias:S.a.machinegroupmanagementtype}).where({type:"and",conditions:Object(p.b)(e)}).expand({entityLink:s.b,linkType:this.isAnyMachineFiltersApplied(e)?void 0:"outer",where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}}).orderBy({alias:S.a.machinegroupmanagementtype}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.i.entitySetName,t,!0)}},{key:"getMachineRunsDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"runexecutionduration",aggregate:"sum",alias:b.a.runexecutionduration}).expand({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean),where:{type:"and",conditions:[...Object(d.c)(this.isHostedMachineGroupSupported,e),r].filter(Boolean)}}).where({type:"and",conditions:[{attribute:"runexecutionduration",operator:"not-null"},{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.runexecutionduration,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getMachineRunsCpuUsage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"machinepercentcpuusage",aggregate:"avg",alias:b.a.machinepctcpuusage}).expand({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean),where:{type:"and",conditions:[...Object(d.c)(this.isHostedMachineGroupSupported,e),r].filter(Boolean)}}).where({type:"and",conditions:[{attribute:"machinepercentcpuusage",operator:"not-null"},{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.machinepctcpuusage,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getMachineRunsRamPctUsage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Object(c.c)("name",null==e?void 0:e.searchCriteria),n=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0,count:this.getTopCount(e,10),page:t}).select({name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"machinepercentramusage",aggregate:"avg",alias:b.a.machinepctramusage},{name:"machineramusage",aggregate:"avg",alias:b.a.machineramusage}).expand({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean),where:{type:"and",conditions:[...Object(d.c)(this.isHostedMachineGroupSupported,e),r].filter(Boolean)}}).where({type:"and",conditions:[{attribute:"machinepercentramusage",operator:"not-null"},{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.machinepctramusage,descending:!0}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,n,!0,t)}},{key:"getMachineRunsDurationPerDay",value:function(e){var t=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"runexecutionduration",aggregate:"sum",alias:b.a.runexecutionduration},{name:"machineid",groupby:!0,alias:b.a.machine_id},{name:"completedon",groupby:!0,dategrouping:"year",alias:b.a.year},{name:"completedon",groupby:!0,dategrouping:"month",alias:b.a.month},{name:"completedon",groupby:!0,dategrouping:"day",alias:b.a.day}).expand(F({entityLink:u.a,selects:[{name:"name",groupby:!0,alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",groupby:!0,alias:b.a.machinehostingtype}].filter(Boolean)},this.isAnyMachineFiltersApplied(e)&&{where:{type:"and",conditions:Object(d.c)(this.isHostedMachineGroupSupported,e)}})).where({type:"and",conditions:[{attribute:"runexecutionduration",operator:"not-null"},{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({alias:b.a.year}).orderBy({alias:b.a.month}).orderBy({alias:b.a.day}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,t,!0)}},{key:"getRunDurationAndMachinePerDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new l.a(a.m.logicalName,{version:"1.0",mapping:"logical",page:t}).select({name:"runexecutionduration",alias:b.a.runexecutionduration},{name:"machineid",alias:b.a.machine_id},{name:"completedon",alias:b.a.completedon}).expand({entityLink:u.a,selects:[{name:"name",alias:b.a.machinename},this.isHostedMachineGroupSupported&&{name:"hostingtype",alias:b.a.machinehostingtype}].filter(Boolean),linkType:"outer"}).where({type:"and",conditions:[{attribute:"runexecutionduration",operator:"not-null"},{attribute:"machineid",operator:"not-null"},this.isHostedMachineGroupSupported&&{entityName:a.h.logicalName,attribute:"hostingtype",operator:"ne",value:"".concat(f.g.Managed)},...this.generateFiltersConditions(e)].filter(h.a)}).orderBy({attribute:"completedon"}).build();return this.httpClient.retrieveMultipleWithFetchXml(a.m.entitySetName,r,!0,t)}},{key:"failureConditions",get:function(){return{attribute:"statuscode",operator:"in",values:["".concat(i.e.Failed),"".concat(i.e.Faulted),"".concat(i.e.TimedOut)]}}},{key:"notNullDurationConditionBlock",get:function(){return{type:"or",conditions:[{attribute:"runwaitduration",operator:"not-null"},{attribute:"runexecutionduration",operator:"not-null"}]}}},{key:"isHostedMachineGroupSupported",get:function(){return Object(m.E)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}}])&&P(t.prototype,r),C&&P(t,C),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22234:function(e,t,r){"use strict";r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return R}));var n,i,o,a,s,u,l=r(12362),c=r.n(l),p=r(11773),d=r(17264),m=r(15427),h=r(22235),f=r(12999),g=r(20923),y=r(16744),b=r(15396),v=r(22238),S=r(22239),w=r(17269);function O(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function j(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function P(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var k="NoParentWorkflowKey",R=(i=P((n=function(){function e(t,r,n,l,c,p,d,m,h){var f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},g=arguments.length>10?arguments[10]:void 0,y=arguments.length>11&&void 0!==arguments[11]&&arguments[11];C(this,e),this.uiFlowRunsStore=t,this.uiFlowRunService=r,this.flowService=n,this.loggingService=l,this.environmentStore=c,this.machineManagementService=p,this.environmentCapabilityStore=d,this.uiFlowService=m,this.featureGates=h,this.permanentFilterValues=f,this.runPageSize=g,this.useNoContextIfEnabled=y,O(this,"filterQuery",i,this),O(this,"loadDataAsync",o,this),this.hydrateAdditionalInformation=()=>{this.hydrateParentFlows(),this.isMachineManagementEnabled&&this.hydrateMachinesAndMachineGroupesDisplayNames()},this.hydrateMachinesAndMachineGroupesDisplayNames=()=>this.hydrateMachines().then(()=>this.hydrateMachineGroups()),O(this,"hydrateMachines",a,this),O(this,"hydrateMachineGroups",s,this),O(this,"resetFiltersAsync",u,this),this.setDefaultFilterAndSortingQuery()}var t,r,n;return t=e,(r=[{key:"isNoContextEnabled",get:function(){return this.useNoContextIfEnabled&&Object(y.ab)(Object(f.a)(),this.environmentStore,this.environmentCapabilityStore)}},{key:"isAttendedModeEnabled",get:function(){return Object(y.bb)(this.featureGates,this.environmentStore,this.environmentCapabilityStore)}},{key:"getUiFlowRunsCollection",get:function(){return this.isNoContextEnabled?this.uiFlowRunsStore.runsNoContext:this.uiFlowRunsStore.runs}},{key:"entityList",get:function(){return this.getUiFlowRunsCollection.getCollection(this.currentCollectionType)}},{key:"currentCollectionType",get:function(){return g.a.getRunsListCollectionType(this.queryParameters)}},{key:"listItems",get:function(){var e;return(null===(e=this.entityList)||void 0===e?void 0:e.list)||[]}},{key:"runsCollectionIsFirstLoading",get:function(){var e=this.getUiFlowRunsCollection.getCollection(this.currentCollectionType);return!e||e.isCollectionLoading&&0===e.length}},{key:"runsCollectionIsLoadingMore",get:function(){var e=this.getUiFlowRunsCollection.getCollection(this.currentCollectionType);return e&&e.isLoadingMore}},{key:"isAnyFilterApplied",get:function(){var e,t=this.filterQuery.filters;return Boolean(t.fromCreationDate||t.toCreationDate||t.fromStartDate||t.toStartDate||t.parentWorkflowIds.length>0||t.selectEmptyParentWorkflowId||(null===(e=t.parentUIFlowIds)||void 0===e?void 0:e.length)||t.parentWorkflowRunIds.some(e=>e!==this.permanentFilterValues.parentWorkflowRunId)||t.runModes.length>0||t.combinedRunModes.length>0||t.statuses.length>0||t.machineNames.some(e=>e!==this.permanentFilterValues.machineName)||t.machineGroupNames.some(e=>e!==this.permanentFilterValues.machineGroupName))}},{key:"isMachineManagementEnabled",get:function(){return Object(v.b)(this.environmentStore,this.environmentCapabilityStore)}},{key:"isCpuRamEnabled",get:function(){return Object(y.A)(Object(f.a)(),this.environmentStore,this.environmentCapabilityStore)}},{key:"isMachineManagementSupportedValue",get:function(){return Object(v.c)(this.environmentStore,this.environmentCapabilityStore)}},{key:"queryParameters",get:function(){return Object(h.a)(this.filterQuery,this.environmentCapabilityStore.isDesktopFlowRunDurationSupported(this.environmentStore.currentEnvironmentName),this.isCpuRamEnabled,this.isNoContextEnabled,this.isAttendedModeEnabled)}},{key:"getParentWorkflowIdForParentType",value:function(e,t){if(this.isNoContextEnabled){var r=this.uiFlowRunsStore.getUIFlowRunEntityNoContext(e);return r&&Object(m.h)(r.triggertype)===t&&r.parentworkflowid?r.parentworkflowid:void 0}var n=this.uiFlowRunsStore.getUIFlowRunEntityContext(e),i=n&&n.context;return!i||i.parentWorkflowType&&i.parentWorkflowType!==t?void 0:i.parentWorkflowId}},{key:"hydrateParentFlows",value:function(){var e=c()(this.listItems.map(e=>this.getParentWorkflowIdForParentType(e,d.d.apiFlow)).filter(Boolean)),t=c()(this.listItems.map(e=>this.getParentWorkflowIdForParentType(e,d.d.desktopFlow)).filter(Boolean));e.length>0&&Object(b.d)({promise:this.flowService.loadGivenFlows(e),loggingService:this.loggingService,eventName:w.b.HydrateParentFlowsNoContext,sourcePage:w.a.Runs,eventData:{runsNumber:this.listItems.length,distinctParentFlowIds:e.length}}),t.length>0&&this.uiFlowService.loadGivenDesktopFlowsAsync(t,!1)}},{key:"restoreFiltersAndSorting",value:function(e){this.filterQuery=e}},{key:"applyNavigationFilters",value:function(e){Object.keys(e).forEach(t=>{e[t]&&(this.filterQuery.filters[t]=e[t])})}},{key:"setVisibleColumnsListAsync",value:function(e,t){return t?(this.removeFilterOnHiddenColumns(e),this.loadDataAsync()):Promise.resolve()}},{key:"removeFilterOnHiddenColumns",value:function(e){e.includes(S.c.triggered)||(this.filterQuery.filters.fromCreationDate=void 0,this.filterQuery.filters.toCreationDate=void 0),e.includes(S.c.runStart)||(this.filterQuery.filters.fromStartDate=void 0,this.filterQuery.filters.toStartDate=void 0),e.includes(S.c.status)||(this.filterQuery.filters.statuses=[]),e.includes(S.c.runMethod)||(this.filterQuery.filters.runModes=[]),e.includes(S.c.combinedRunMethod)||(this.filterQuery.filters.combinedRunModes=[]),e.includes(S.c.machine)||(this.filterQuery.filters.machineNames=this.permanentFilterValues.machineName?[this.permanentFilterValues.machineName]:[]),e.includes(S.c.machineGroup)||(this.filterQuery.filters.machineGroupNames=this.permanentFilterValues.machineGroupName?[this.permanentFilterValues.machineGroupName]:[]),e.includes(S.c.uiFlowName)||(this.filterQuery.filters.parentUIFlowIds=[]),e.includes(S.c.parentFlow)||(this.filterQuery.filters.parentWorkflowIds=[])}},{key:"setCreationDateRangeFilterAsync",value:function(e,t){return this.filterQuery.filters.fromCreationDate=e,this.filterQuery.filters.toCreationDate=t,this.loadDataAsync()}},{key:"setRunStartDateRangeFilterAsync",value:function(e,t){return this.filterQuery.filters.fromStartDate=e,this.filterQuery.filters.toStartDate=t,this.loadDataAsync()}},{key:"setStatusFilterAsync",value:function(e){return this.filterQuery.filters.statuses=[...e],this.loadDataAsync()}},{key:"setRunModeFilterAsync",value:function(e){return this.filterQuery.filters.runModes=[...e],this.loadDataAsync()}},{key:"setCombinedRunModeFilterAsync",value:function(e){return this.filterQuery.filters.combinedRunModes=[...e],this.loadDataAsync()}},{key:"setParentWorkflowRunIdsFilterAsync",value:function(e){return this.filterQuery.filters.parentWorkflowRunIds=[...e],this.loadDataAsync()}},{key:"setParentWorkflowIdsFilterAsync",value:function(e){var t=[...e],r=e.indexOf(k);return r<0?this.filterQuery.filters.selectEmptyParentWorkflowId=!1:(t.splice(r,1),this.filterQuery.filters.selectEmptyParentWorkflowId=!0),this.filterQuery.filters.parentWorkflowIds=t,this.loadDataAsync()}},{key:"setMachineIdsFilterAsync",value:function(e){return this.filterQuery.filters.machineNames=[...e],this.loadDataAsync()}},{key:"setMachineGroupsIdsFilterAsync",value:function(e){return this.filterQuery.filters.machineGroupNames=[...e],this.loadDataAsync()}},{key:"setUIFlowsIdsFilterAsync",value:function(e){return this.filterQuery.filters.parentUIFlowIds=[...e],this.loadDataAsync()}},{key:"setOrderByAsync",value:function(e){return this.filterQuery.orderBy=[...e],this.loadDataAsync()}},{key:"getParentWorkflowType",value:function(e){if(this.isNoContextEnabled){var t=this.uiFlowRunsStore.getUIFlowRunEntityNoContext(e);if(!t)return;return Object(m.h)(t.triggertype)}var r=this.uiFlowRunsStore.getUIFlowRunEntityContext(e);if(null!=r&&r.context)return r.context.parentWorkflowType||d.d.apiFlow}},{key:"setDefaultFiltersQuery",value:function(){this.filterQuery.filters=this.defaultFilters}},{key:"setDefaultFilterAndSortingQuery",value:function(){this.filterQuery={filters:this.defaultFilters,orderBy:[["createdon","desc"]],pageSize:this.runPageSize}}},{key:"defaultFilters",get:function(){return{fromCreationDate:void 0,toCreationDate:void 0,fromStartDate:void 0,toStartDate:void 0,parentWorkflowIds:[],parentUIFlowIds:[],parentWorkflowRunIds:this.permanentFilterValues.parentWorkflowRunId?[this.permanentFilterValues.parentWorkflowRunId]:[],statuses:[],runModes:[],combinedRunModes:[],machineNames:this.permanentFilterValues.machineName?[this.permanentFilterValues.machineName]:[],machineGroupNames:this.permanentFilterValues.machineGroupName?[this.permanentFilterValues.machineGroupName]:[]}}}])&&F(t.prototype,r),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()).prototype,"filterQuery",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P(n.prototype,"isNoContextEnabled",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isNoContextEnabled"),n.prototype),P(n.prototype,"isAttendedModeEnabled",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isAttendedModeEnabled"),n.prototype),P(n.prototype,"getUiFlowRunsCollection",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"getUiFlowRunsCollection"),n.prototype),P(n.prototype,"entityList",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"entityList"),n.prototype),P(n.prototype,"currentCollectionType",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"currentCollectionType"),n.prototype),P(n.prototype,"listItems",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"listItems"),n.prototype),P(n.prototype,"runsCollectionIsFirstLoading",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"runsCollectionIsFirstLoading"),n.prototype),P(n.prototype,"runsCollectionIsLoadingMore",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"runsCollectionIsLoadingMore"),n.prototype),P(n.prototype,"isAnyFilterApplied",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isAnyFilterApplied"),n.prototype),P(n.prototype,"isMachineManagementEnabled",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isMachineManagementEnabled"),n.prototype),P(n.prototype,"isCpuRamEnabled",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isCpuRamEnabled"),n.prototype),P(n.prototype,"isMachineManagementSupportedValue",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"isMachineManagementSupportedValue"),n.prototype),P(n.prototype,"queryParameters",[p.computed],Object.getOwnPropertyDescriptor(n.prototype,"queryParameters"),n.prototype),o=P(n.prototype,"loadDataAsync",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.isNoContextEnabled?this.uiFlowRunService.loadRunsListNoContext(this.environmentStore.currentEnvironmentName,this.queryParameters,!1,void 0,this.filterQuery).then(()=>{this.hydrateAdditionalInformation()}):this.uiFlowRunService.loadRunsList(this.environmentStore.currentEnvironmentName,this.queryParameters,!1,void 0,this.filterQuery).then(()=>{this.hydrateAdditionalInformation()})}}),P(n.prototype,"hydrateParentFlows",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"hydrateParentFlows"),n.prototype),a=P(n.prototype,"hydrateMachines",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var e=c()(this.listItems.map(e=>{var t=this.getUiFlowRunsCollection.getEntity(e);return t&&t._machineid_value}).filter(Boolean));return 0===e.length?Promise.resolve():Object(b.d)({promise:this.machineManagementService.batchFetchMachines(e,!1,[403,404]),loggingService:this.loggingService,eventName:w.b.HydrateMachines,sourcePage:w.a.Runs,eventData:{runsNumber:this.listItems.length,distinctMachineIds:e.length}})}}}),s=P(n.prototype,"hydrateMachineGroups",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var e=c()(this.listItems.map(e=>{var t=this.getUiFlowRunsCollection.getEntity(e);return t&&t._machinegroupid_value}).filter(Boolean));return 0===e.length?Promise.resolve():Object(b.d)({promise:this.machineManagementService.batchFetchMachineGroups(e,[403,404]),loggingService:this.loggingService,eventName:w.b.HydrateMachineGroups,sourcePage:w.a.Runs,eventData:{runsNumber:this.listItems.length,distinctMachineGroupIds:e.length}})}}}),P(n.prototype,"restoreFiltersAndSorting",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"restoreFiltersAndSorting"),n.prototype),P(n.prototype,"applyNavigationFilters",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"applyNavigationFilters"),n.prototype),P(n.prototype,"setVisibleColumnsListAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setVisibleColumnsListAsync"),n.prototype),P(n.prototype,"setCreationDateRangeFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setCreationDateRangeFilterAsync"),n.prototype),P(n.prototype,"setRunStartDateRangeFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setRunStartDateRangeFilterAsync"),n.prototype),P(n.prototype,"setStatusFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setStatusFilterAsync"),n.prototype),P(n.prototype,"setRunModeFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setRunModeFilterAsync"),n.prototype),P(n.prototype,"setCombinedRunModeFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setCombinedRunModeFilterAsync"),n.prototype),P(n.prototype,"setParentWorkflowRunIdsFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setParentWorkflowRunIdsFilterAsync"),n.prototype),P(n.prototype,"setParentWorkflowIdsFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setParentWorkflowIdsFilterAsync"),n.prototype),P(n.prototype,"setMachineIdsFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setMachineIdsFilterAsync"),n.prototype),P(n.prototype,"setMachineGroupsIdsFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setMachineGroupsIdsFilterAsync"),n.prototype),P(n.prototype,"setUIFlowsIdsFilterAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setUIFlowsIdsFilterAsync"),n.prototype),u=P(n.prototype,"resetFiltersAsync",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>(this.setDefaultFiltersQuery(),this.loadDataAsync())}}),P(n.prototype,"setOrderByAsync",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setOrderByAsync"),n.prototype),P(n.prototype,"setDefaultFiltersQuery",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setDefaultFiltersQuery"),n.prototype),P(n.prototype,"setDefaultFilterAndSortingQuery",[p.action],Object.getOwnPropertyDescriptor(n.prototype,"setDefaultFilterAndSortingQuery"),n.prototype),n)},22235:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(22236),i=r(14844),o=r(12324),a=r(22237),s=r(15427),u=r(15431),l=r(13051);function c(e,t,r,l,c){var h={},f=function(e,t,r){var s=Object(o.uniq)(e.filters.parentWorkflowIds).sort(),l=Object(o.uniq)(e.filters.parentWorkflowRunIds).sort(),c=Object(o.uniq)(e.filters.machineNames).sort(),h=Object(o.uniq)(e.filters.machineGroupNames).sort(),f=Object(o.uniq)(e.filters.statuses).sort(),g=Object(o.uniq)(e.filters.parentUIFlowIds||[]).sort(),y=[];if(y.push(e.filters.fromCreationDate&&Object(n.f)("createdon",e.filters.fromCreationDate.toISOString())),y.push(e.filters.toCreationDate&&Object(n.h)("createdon",e.filters.toCreationDate.toISOString())),y.push(e.filters.fromStartDate&&Object(n.f)("startedon",e.filters.fromStartDate.toISOString())),y.push(e.filters.toStartDate&&Object(n.h)("startedon",e.filters.toStartDate.toISOString())),y.push(f.length>0?Object(n.l)(f.map(e=>Object(n.e)("statuscode",e))):void 0),y.push(function(e,t,r){var s=[];if(r){var l=Object(o.uniq)(e.combinedRunModes).sort().map(e=>Object(a.a)(e)).filter(a.b),c=Object(o.groupBy)(l,e=>e.runMode),h=[],f=[];Object.values(i.c).forEach(e=>{var t=c[e]||[];t.some(e=>void 0===e.runSessionMode)?h.push(e):f.push(...t)}),h.length>0&&s.push(m(h,t)),f.length>0&&s.push(function(e,t){var r=Object(o.uniq)(e).sort(),i=Object(u.c)(r.map(e=>function(e,t){return Object(n.c)(Object(u.c)([d(e.runMode,t),p(e.runSessionMode)]))}(e,t)));if(i.length>0)return Object(n.l)(i);return}(f,t))}else e.runModes.length>0&&s.push(m(e.runModes,t));if(0===s.length)return;if(1===s.length)return s[0];return Object(n.l)(Object(u.c)(s))}(e.filters,t,r)),y.push(c.length>0?Object(n.a)("machineid",c):void 0),y.push(h.length>0?Object(n.a)("machinegroupid",h):void 0),t){var b=s.map(e=>Object(n.e)("parentworkflowid",e));e.filters.selectEmptyParentWorkflowId&&b.push(Object(n.e)("parentworkflowid",null)),y.push(b.length>0?Object(n.l)(b):void 0)}else{var v=s.map(e=>Object(n.d)("context",'"parentWorkflowId":"'.concat(e,'"')));e.filters.selectEmptyParentWorkflowId&&v.push(Object(n.k)(Object(n.j)("context","parentWorkflowId"),Object(n.d)("context",'"parentWorkflowId":null'))),y.push(v.length>0?Object(n.c)(v):void 0)}y.push(l.length>0?Object(n.l)(l.map(e=>Object(n.d)("context",'"parentWorkflowRunId":"'.concat(e,'"')))):void 0),y.push(g.length>0?Object(n.a)("regardingobjectid",g):void 0);var S=Object(u.c)(y.sort());return S.length>0?Object(n.c)(S):void 0}(e,l,c);return f&&(h.$filter=f.serialize()),e.orderBy.length>0&&(h.$orderby=e.orderBy.map(e=>"".concat(e[0]," ").concat(e[1])).join(",")),e.pageSize&&e.pageSize>0&&(h.$top=e.pageSize.toString(10)),h.$expand="regardingobjectid_process($select=".concat(s.s.selectParams,")"),h.$select=function(e,t,r,n){var i=e?"".concat(s.k.selectParams,",").concat(s.k.additionalFields.runDetails):s.k.selectParams;t&&(i="".concat(i,",").concat(s.j.additionalFields.machinepercentcpuusage,",").concat(s.j.additionalFields.machinepercentramusage),i="".concat(i,",").concat(s.j.additionalFields.sessionusername));r&&(i=i.replace("context","".concat(s.j.additionalFields.parentworkflowid,",").concat(s.j.additionalFields.runmode,",").concat(s.j.additionalFields.triggertype,",").concat(s.j.additionalFields.parentcloudflowrunsequenceid)));n&&(i="".concat(i,",").concat(s.j.additionalFields.runSessionMode));return i}(t,r,l,c),h}function p(e){if(Object(l.d)(i.e)(e)){var t=[e];return t.includes(i.e.Default)&&!t.includes(i.e.Unapplicable)&&(t.push(i.e.Unapplicable),t.sort()),1===t.length?Object(n.e)("runsessionmode",Object(i.i)(t[0])):Object(n.a)("runsessionmode",t.map(e=>Object(i.i)(e).toString()))}}function d(e,t){if(Object(l.d)(i.c)(e)){if(t)return Object(n.e)("runmode",Object(i.h)(e));var r=Object(n.d)("context",'"attendedMode":"'.concat(e,'"'));return e===i.c.Unspecified?Object(n.k)(r,Object(n.j)("context",'"attendedMode":"')):r}}function m(e,t){var r=Object(o.uniq)(e).sort(),i=Object(u.c)(r.map(e=>d(e,t)));if(i.length>0)return Object(n.l)(i)}},22236:function(e,t,r){"use strict";function n(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return{serialize:()=>"(".concat([e,t,...n].map(e=>e.serialize()).join(" or "),")")}}function i(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return{serialize:()=>"(".concat([e,t,...n].map(e=>e.serialize()).join(" and "),")")}}function o(e){return"'".concat(e,"'")}function a(e){return"string"==typeof e?o(e):e}function s(e,t){return u(e,a(t))}function u(e,t){return{serialize:()=>"".concat(e," eq ").concat(t)}}function l(e,t){return{serialize:()=>{var r=a(t);return"".concat(e," ne ").concat(r)}}}function c(e,t){return{serialize:()=>"".concat(e," gt ").concat(t)}}function p(e,t){return{serialize:()=>"".concat(e," ge ").concat(a(t))}}function d(e,t){return{serialize:()=>"".concat(e," le ").concat(a(t))}}function m(e,t){return{serialize:()=>"Microsoft.Dynamics.CRM.In(PropertyName='".concat(e,"',PropertyValues=[").concat(t.map(e=>a(e)).join(","),"])")}}function h(e,t){return{serialize:()=>"contains(".concat(e,",").concat(o(t),")")}}function f(e,t){return{serialize:()=>"not contains(".concat(e,",").concat(o(t),")")}}function g(e){switch(e.length){case 0:throw new Error("Expected at least one condition.");case 1:return e[0];case 2:return n(e[0],e[1]);default:return n(e[0],e[1],...e.slice(2))}}function y(e){switch(e.length){case 0:throw new Error("Expected at least one condition.");case 1:return e[0];case 2:return i(e[0],e[1]);default:return i(e[0],e[1],...e.slice(2))}}r.d(t,"k",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return s})),r.d(t,"i",(function(){return l})),r.d(t,"g",(function(){return c})),r.d(t,"f",(function(){return p})),r.d(t,"h",(function(){return d})),r.d(t,"a",(function(){return m})),r.d(t,"d",(function(){return h})),r.d(t,"j",(function(){return f})),r.d(t,"l",(function(){return g})),r.d(t,"c",(function(){return y}))},22237:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r(14844),i=r(13051);function o(e,t){return t?"".concat(e,"|").concat(t):e}var a=e=>!0===e.isValid;function s(e){var t=Object(i.d)(n.c),r=Object(i.d)(n.e),o=e.split("|");return 2===o.length&&t(o[0])&&r(o[1])?{runMode:o[0],runSessionMode:o[1],key:e,isValid:!0}:1===o.length&&t(o[0])?{runMode:o[0],runSessionMode:void 0,key:e,isValid:!0}:{runMode:void 0,runSessionMode:void 0,key:e,isValid:!1}}},22238:function(e,t,r){"use strict";r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return m}));var n=r(12327),i=r(13120),o=r(16749),a=r(12999),s=r(15430),u=r(16744),l=r(22239);function c(e,t){if(!Object(n.d)(l.c)(e))return e+"[not localized]";switch(e){case l.c.triggered:return t.ListHeader.Requested;case l.c.uiFlowName:return t.ListHeader.DesktopFlowGA;case l.c.status:return t.ListHeader.Status;case l.c.error:return t.ListHeader.Error;case l.c.runStart:return t.Monitor.RunQueue.Header.StartedTime;case l.c.runMethod:case l.c.combinedRunMethod:return t.ListHeader.RunMethod;case l.c.duration:return t.ListHeader.Duration;case l.c.machine:return t.ListHeader.Machine;case l.c.machineGroup:return t.Monitor.RunsPage.Headers.Group;case l.c.parentFlow:return t.ListHeader.ParentFlow;case l.c.ram:return t.ListHeader.Ram;case l.c.cpu:return t.ListHeader.Cpu;case l.c.machineUserName:return t.ListHeader.MachineUserName;default:return e+"[not localized]"}}function p(e,t,r){var n=Object.values(l.c).map(e=>e);return m(e,t)||(n=n.filter(e=>e!==l.c.machine&&e!==l.c.machineGroup)),Object(u.A)(r,e,t)||(n=n.filter(e=>e!==l.c.cpu&&e!==l.c.ram)),n=Object(u.bb)(r,e,t)?n.filter(e=>e!==l.c.runMethod):n.filter(e=>e!==l.c.combinedRunMethod)}function d(e,t){var r=s.a.getEnvironmentCapabilityKey({environmentName:e.currentEnvironmentName,capabilityName:i.b.isMachineManagementSupported}),n=t.environmentCapabilities.getEntity(r);return n?n.isCapabilityEnabled:null}function m(e,t){return(Object(o.a)()||Object(a.a)().enableMonitorMachines)&&!0===d(e,t)}},22239:function(e,t,r){"use strict";r.d(t,"b",(function(){return xe})),r.d(t,"c",(function(){return Le})),r.d(t,"a",(function(){return We}));var n,i,o,a,s,u,l,c,p,d,m,h,f,g,y,b=r(14982),v=r(12754),S=r(12728),w=r(22240),O=r(14678),C=r(14679),F=r(13271),j=r(14844),P=r(11773),k=r(14337),R=r(11766),M=r(22241),E=r(16834),N=r(22242),I=r(22245),D=r(22104),T=r(16845),x=r(22248),A=r(22250),L=r(22249),B=r(21994),W=r(13009),H=r(12367),Q=r(15427),G=r(20987),U=r(12375),z=r(15431),_=r(14682),V=r(14918),q=r(16744),K=r(15396),X=r(22251),Y=r(17276),$=r(13031),J=r(16841),Z=r(20708),ee=r(22234),te=r(22252),re=r(17269),ne=r(15990),ie=r(22254),oe=r(22259),ae=r(22265),se=r(22269),ue=r(22272),le=r(22273),ce=r(22275),pe=r(22282),de=r(22284),me=r(22286),he=r(22292),fe=r(22293),ge=r(22296),ye=r(22297),be=r(22298),ve=r(22237),Se=r(22300),we=r(22238),Oe=r(22303);function Ce(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function je(e,t){return(je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=Me(e);if(t){var i=Me(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return ke(this,r)}}function ke(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var xe=function(e){return e[e.TriggeredMin=210]="TriggeredMin",e[e.TriggeredMax=340]="TriggeredMax",e[e.DesktopFlowMin=160]="DesktopFlowMin",e[e.DesktopFlowMax=340]="DesktopFlowMax",e[e.StatusMin=80]="StatusMin",e[e.StatusMax=160]="StatusMax",e[e.RunStartMin=160]="RunStartMin",e[e.RunStartMax=340]="RunStartMax",e[e.RunModeMin=100]="RunModeMin",e[e.RunModeMax=160]="RunModeMax",e[e.CombinedRunModeMin=200]="CombinedRunModeMin",e[e.CombinedRunModeMax=250]="CombinedRunModeMax",e[e.RequestedMin=160]="RequestedMin",e[e.UserMin=100]="UserMin",e[e.UserMax=160]="UserMax",e[e.MachineMin=100]="MachineMin",e[e.MachineMax=160]="MachineMax",e[e.DurationMin=80]="DurationMin",e[e.DurationMax=160]="DurationMax",e[e.MachineNameMin=160]="MachineNameMin",e[e.MachineNameMax=340]="MachineNameMax",e[e.MachineGroupMin=160]="MachineGroupMin",e[e.MachineGroupMax=340]="MachineGroupMax",e[e.MachineUserMin=160]="MachineUserMin",e[e.MachineUserMax=340]="MachineUserMax",e[e.ParentFlowMin=160]="ParentFlowMin",e[e.ParentFlowMax=340]="ParentFlowMax",e[e.ErrorCodeMin=80]="ErrorCodeMin",e[e.ErrorCodeMax=160]="ErrorCodeMax",e[e.CpuRamMin=80]="CpuRamMin",e[e.CpuRamMax=80]="CpuRamMax",e}({}),Ae=function(e){return e.filterByStatus="filterByStatus",e.filterByRunMethod="filterByRunMethod",e.filterByCreationDate="filterByCreationDate",e.filterByStartDate="filterByStartDate",e.filterByUIFlow="filterByUIFlow",e.filterByMachine="filterByMachine",e.filterByMachineGroup="filterByMachineGroup",e}(Ae||{}),Le=function(e){return e.triggered="triggered",e.uiFlowName="uiFlowName",e.status="status",e.error="error",e.runStart="runStart",e.runMethod="runMethod",e.combinedRunMethod="combinedRunMethod",e.duration="duration",e.machine="machine",e.machineGroup="machineGroup",e.machineUserName="machineUserName",e.parentFlow="parentFlow",e.cpu="cpu",e.ram="ram",e}({}),Be=(n=P.observable.ref,Object(k.c)((o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(o,e);var t,r,n,i=Pe(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).possibleRunMethods=void 0,t.possibleStatuses=void 0,t.detailsListRef=R.createRef(),t.detailsHeaderRef=R.createRef(),Ce(t,"isMounted",a,Re(t)),t.componentCreationDate=void 0,Ce(t,"openedFilterPanel",s,Re(t)),Ce(t,"filterPanelProps",u,Re(t)),t.onRenderDetailsHeader=(e,r)=>e&&r?r(Ie(Ie({},e),{},{componentRef:t.detailsHeaderRef})):null,Ce(t,"onClickRemoveFilter",l,Re(t)),t.renderParentFlowCell=e=>Object(I.a)(e,t.props.flowServiceClientResources,t.props.flowStore,t.props.uiFlowRunsStore,t.props.routeCrafter,t.props.telemetryService,t.isNoContextEnabled),Ce(t,"onClickRunMethodFilter",c,Re(t)),Ce(t,"onClickCombinedRunMethodFilter",p,Re(t)),Ce(t,"onClickStatusFilter",d,Re(t)),Ce(t,"onClickUIFlowFilter",m,Re(t)),t.spawnDesktopFlowFilterPanelSurface=(e,r)=>{t.props.surfaceStore.spawn({key:Object(S.a)("monitor-runs-DesktopFlowFilterPanel"),hideOnDismiss:!0,render:t=>R.createElement(ie.a,{onClose:t.dismiss,onConfirm:r,initialSelectedKeys:e})})},Ce(t,"onClickParentWorkflowFilter",h,Re(t)),t.onParentWorkflowFilterConfirmed=e=>{var{monitorRunsPageStore:r}=t.props;t.closeFilterPanel(void 0,e.length),r.runHistoryStore.setParentWorkflowIdsFilterAsync(e).then(()=>{t.announceFiltersResults(t.getFilterByAriaLabel(e,t.getFlowDisplayName))})},t.onCombinedRunModeFilterConfirmed=e=>{var{monitorRunsPageStore:r,flowServiceClientResources:n}=t.props;t.closeFilterPanel(void 0,e.length);var i=e.map(e=>Object(ve.a)(e)).filter(ve.b);r.runHistoryStore.setCombinedRunModeFilterAsync(i.map(e=>e.key)).then(()=>{t.announceFiltersResults(t.getFilterByAriaLabel(i,e=>Object(X.c)(e.runMode,e.runSessionMode,n)))})},Ce(t,"onClickMachineNameFilter",f,Re(t)),Ce(t,"onClickMachineGroupNameFilter",g,Re(t)),t.renderCreationDate=e=>R.createElement(k.a,null,()=>R.createElement(me.a,{uiFlowRunId:e,setStatusMessageBar:t.props.monitorRunsPageStore.statusMessageBarStore.addMessage,referenceDateForTimeAgo:t.referenceDateForTimeAgo,hideSeeAllRunsInParentFlowRunAction:t.hasDefaultParentWorkflowRun,onDismissCancelSurface:()=>t.focusRow(e),telemetryService:t.props.telemetryService,canUseNoContextStore:!0})),t.renderMachineNameCell=e=>R.createElement(he.a,{uiFlowRunId:e,canUseNoContextStore:!0}),t.renderMachineGroupNameCell=e=>R.createElement(fe.a,{uiFlowRunId:e}),t.renderRunStart=e=>R.createElement(ye.a,{uiFlowRunId:e,referenceDateForTimeAgo:t.referenceDateForTimeAgo}),t.renderError=e=>R.createElement(ue.a,{uiFlowRunId:e}),t.renderMachineUserName=e=>R.createElement(Oe.a,{uiFlowRunId:e}),t.renderCpu=e=>R.createElement(se.a,{uiFlowRunId:e,isCpu:!0,flowServiceClientResources:t.props.flowServiceClientResources}),t.renderRam=e=>R.createElement(se.a,{uiFlowRunId:e,isCpu:!1,flowServiceClientResources:t.props.flowServiceClientResources}),t.onRenderMenuList=(e,t)=>e&&t?t(Ie(Ie({},e),{},{role:"group"})):null,t.renderFilterByCreationDateMenu=(e,r)=>R.createElement("div",{className:t.styles.filterByRunStartDateMenu,role:"menuitem"},R.createElement(be.a,{fromValue:t.props.monitorRunsPageStore.runHistoryStore.filterQuery.filters.fromCreationDate,toValue:t.props.monitorRunsPageStore.runHistoryStore.filterQuery.filters.toCreationDate,onConfirm:(e,n)=>{var i;t.props.monitorRunsPageStore.runHistoryStore.setCreationDateRangeFilterAsync(e,n).then(()=>{t.announceFiltersResults(t.getFilterByDateAriaLabel(e,n))}),r(null,!0),null===(i=t.detailsHeaderRef.current)||void 0===i||i.focus()},onCancel:()=>{r(null,!1)},telemetryService:t.props.telemetryService})),t.renderFilterByRunStartDateMenu=(e,r)=>R.createElement("div",{className:t.styles.filterByRunStartDateMenu,role:"menuitem"},R.createElement(be.a,{fromValue:t.props.monitorRunsPageStore.runHistoryStore.filterQuery.filters.fromStartDate,toValue:t.props.monitorRunsPageStore.runHistoryStore.filterQuery.filters.toStartDate,onConfirm:(e,n)=>{var i;t.props.monitorRunsPageStore.runHistoryStore.setRunStartDateRangeFilterAsync(e,n).then(()=>{t.announceFiltersResults(t.getFilterByDateAriaLabel(e,n))}),r(null,!0),null===(i=t.detailsHeaderRef.current)||void 0===i||i.focus()},onCancel:()=>{r(null,!1)},telemetryService:t.props.telemetryService})),t.renderUIFlowNameCell=e=>{var{flowStore:r,flowServiceClientResources:n}=t.props,i=(t.isNoContextEnabled?t.props.uiFlowRunsStore.runsNoContext:t.props.uiFlowRunsStore.runs).getEntity(e),o=i&&i._regardingobjectid_value,a=o?r.flows.getEntity(o):void 0,s=[];return t.shouldDisplayV1DeprecationWarning(a)&&s.push(Object(A.a)(n)),Object(M.c)(a)&&s.push(Object(x.a)(n)),R.createElement(k.a,null,()=>R.createElement("span",{className:t.styles.deprecationWarning},Object(de.a)(e,t.props.telemetryService,!0),R.createElement(L.a,{id:e,warningIconAriaLabel:n.Rpa.DesktopFlowList.WarningIconAriaLabel,containerClassName:t.styles.deprecationWarningIcon,globalResources:n,calloutContents:s})))},t.renderFilterPanel=()=>{var{combinedRunModes:e}=t.props.monitorRunsPageStore.runHistoryStore.filterQuery.filters;switch(t.openedFilterPanel){case void 0:return null;case Le.parentFlow:return R.createElement(ce.a,{onClose:t.closeFilterPanel,onConfirmSelection:t.onParentWorkflowFilterConfirmed,initialSelectedKeys:t.selectedParentCloudWorkflowIds.slice()});case Le.combinedRunMethod:return R.createElement(Se.a,{onClose:t.closeFilterPanel,onConfirmSelection:t.onCombinedRunModeFilterConfirmed,initialSelectedKeys:e});default:return R.createElement(B.b,{initialOptionsList:t.filterPanelProps.initialOptionList,dynamicOptionList:t.filterPanelProps.dynamicOptionList,initialSelectedKeys:t.filterPanelProps.selectedKeys,headerText:t.filterPanelProps.headerText,hideSelectAll:!0,onConfirm:t.filterPanelProps.onConfirm,onCancel:t.closeFilterPanel,telemetryService:t.props.telemetryService})}},t.onLoadMore=()=>{var{environmentStore:e,monitorRunsPageStore:r,telemetryService:n,flowServiceClientResources:i}=t.props;n.tagEvent(re.b.LoadMore_Clicked);var o=(t.isNoContextEnabled?t.props.uiFlowRunsStore.runsNoContext:t.props.uiFlowRunsStore.runs).getCollection(r.runHistoryStore.currentCollectionType);if(o){r.stopAutoRefresh(le.a.MaxItemCountExceeded),Y.a.announce(i.Monitor.Runs.LoadMore.StartNarrator);var a=t.isNoContextEnabled?{promise:t.props.uiFlowRunService.loadRunsListMoreNoContext(e.currentEnvironmentName,r.runHistoryStore.currentCollectionType,o.nextLink),eventName:re.b.LoadMoreRunsListNoContext,sourcePage:re.a.Runs,loggingService:t.props.loggingService}:{promise:t.props.uiFlowRunService.loadRunsListMore(e.currentEnvironmentName,r.runHistoryStore.currentCollectionType,o.nextLink),eventName:re.b.LoadMoreRunsList,sourcePage:re.a.Runs,loggingService:t.props.loggingService};Object(K.d)(a).then(()=>{r.runHistoryStore.hydrateAdditionalInformation(),Y.a.announce(i.Monitor.Runs.LoadMore.EndNarrator)}).catch(e=>{r.statusMessageBarStore.addMessage(le.e.LoadMoreFailure),Y.a.announce(i.Monitor.Runs.LoadMore.ErrorNarrator)})}},t.focusRow=e=>{if(t.detailsListRef.current){var r,n=null===(r=t.props.monitorRunsPageStore.runHistoryStore.entityList)||void 0===r||null===(r=r.list)||void 0===r?void 0:r.findIndex(t=>t===e);t.detailsListRef.current.focusIndex(n&&n>-1?n:0)}},Ce(t,"closeFilterPanel",y,Re(t)),t.styles=Object(v.db)({clickableColumnHeader:{":hover":{cursor:"pointer"}},filterByRunStartDateMenu:{margin:"5px 0 10px 0"},deprecationWarning:{display:"flex"},deprecationWarningIcon:{marginLeft:"auto",marginRight:"30px",alignSelf:"center"}}),t.getSortedByColumnProps=(e,r)=>{var{flowServiceClientResources:n,telemetryService:i,monitorRunsPageStore:o}=t.props,a=o.runHistoryStore.filterQuery.orderBy.find(t=>t[0]===e);return{isSorted:t.isMounted&&!!a,isSortedDescending:a&&"desc"===a[1],sortLabels:r,sortAscendingAriaLabel:Object($.a)(n.Monitor.RunsPage.Headers.SortAriaLabel,r.ascending),sortDescendingAriaLabel:Object($.a)(n.Monitor.RunsPage.Headers.SortAriaLabel,r.descending),onSortClick:(r,n)=>{var a=r?"desc":"asc";return i.tagEvent(re.b.SortBy_Clicked,{sortBy:e,direction:a}),o.runHistoryStore.setOrderByAsync([[e,a]]).then(()=>{t.announceSortedDirection(a)}),!1}}},t.getFilterByDateAriaLabel=(e,r)=>{var n,{flowServiceClientResources:i}=t.props,o=Object(U.a)();if(e||r)return n=r?e?Object($.a)(i.Monitor.RunsPage.Headers.FilterFromToAriaLabel,Object(V.q)(e,o),Object(V.q)(r,o)):Object($.a)(i.Monitor.RunsPage.Headers.FilterToAriaLabel,Object(V.q)(r,o)):Object($.a)(i.Monitor.RunsPage.Headers.FilterFromAriaLabel,Object(V.q)(e,o)),Object($.a)(i.Monitor.RunsPage.Headers.FilterAriaLabel,n)},t.getFilterByAriaLabel=(e,r)=>{if(0!==e.length){var{flowServiceClientResources:n}=t.props;return Object($.a)(n.Monitor.RunsPage.Headers.FilterByAriaLabel,e.map(e=>r(e)).join(n.Monitor.RunsPage.Headers.FiltersSeparator))}},t.getStatusCodeLabel=e=>Object(X.e)(Q.e[G.a[e]],t.props.flowServiceClientResources,t.props.flowServiceClientResources),t.getRunMethodLabel=e=>Object(X.a)(e,t.props.flowServiceClientResources),t.getFlowDisplayName=e=>{var r=t.props.flowStore.flows.getEntity(e);return r&&r.displayName||""},t.getMachineDisplayName=e=>{var r=t.props.machineManagementStore.machines.getEntity(e);return r&&r.properties.displayName||""},t.getMachineGroupDisplayName=e=>{var r=t.props.machineManagementStore.machineGroups.getEntity(e);return r&&r.properties.displayName||""},t.possibleRunMethods=Object.keys(j.c).map(t=>({key:t,displayName:Object(X.a)(j.c[t],e.flowServiceClientResources)||e.flowServiceClientResources.Monitor.Filter.EmptyOption,additionalAttributes:{[F.e]:j.c[t].toString()}})),t.possibleStatuses=Object.keys(G.a).filter(e=>isNaN(Number(e))).map(t=>({key:t,displayName:Object(X.e)(G.a[t],e.flowServiceClientResources,e.flowServiceClientResources),additionalAttributes:{[F.e]:G.a[t].toString()}})),t.componentCreationDate=new Date,Object(P.runInAction)("init component",()=>{t.filterPanelProps={headerText:"",initialOptionList:[],selectedKeys:[],onConfirm:e=>{}},t.openedFilterPanel=void 0,t.setIsMounted(!1)}),t}return t=o,(r=[{key:"componentDidMount",value:function(){this.setIsMounted(!0),this.props.editColumns&&Object(N.e)(this.props.editColumns[N.b.uIFlowRunList],this.getFilteredColumns(),this.props.featureFlags,this.props.loggingService)}},{key:"getFilteredColumns",value:function(){var e=[],t=this.props.monitorRunsPageStore.runHistoryStore.filterQuery.filters,r=[t.fromCreationDate,t.toCreationDate].filter(Boolean).length,n=[t.fromStartDate,t.toStartDate].filter(Boolean).length,i=(t.parentUIFlowIds||[]).length,o=(t.parentWorkflowIds||[]).length;return r>0&&e.push(Le.triggered),i>0&&e.push(Le.uiFlowName),t.statuses.length>0&&e.push(Le.status),n>0&&e.push(Le.runStart),t.runModes.length>0&&!this.isRunSessionModeAvailable&&e.push(Le.runMethod),t.combinedRunModes.length>0&&this.isRunSessionModeAvailable&&e.push(Le.combinedRunMethod),t.machineNames.length>0&&e.push(Le.machine),t.machineGroupNames.length>0&&e.push(Le.machineGroup),o>0&&e.push(Le.parentFlow),e}},{key:"render",value:function(){return R.createElement(R.Fragment,null,R.createElement(D.a,this.collectionDetailsListProps),this.renderFilterPanel())}},{key:"isNoContextEnabled",get:function(){return Object(q.ab)(this.props.featureFlags,this.props.environmentStore,this.props.environmentCapabilityStore)}},{key:"isRunSessionModeAvailable",get:function(){return Object(q.bb)(this.props.featureFlags,this.props.environmentStore,this.props.environmentCapabilityStore)}},{key:"collectionDetailsListProps",get:function(){var{description:e,flowServiceClientResources:t,monitorRunsPageStore:r,emptyStateProps:n}=this.props,i=r.runHistoryStore.entityList,o=n||this.emptyProps;return{ariaLabelForSelectionColumn:"".concat(t.Common.Select," ").concat(t.RpaScript.TitleGA),ariaLabelForShimmer:t.Common.Loading,collection:i,columns:this.columns,description:e,emptyProps:r.runHistoryStore.isAnyFilterApplied?this.emptyFiltersProps:o,errorProps:i&&i.error&&!this.maximumFilterReached?{message:Object(W.cb)(i.error),details:Object(W.db)(i.error),icon:o.icon}:void 0,isInitiallyFiltered:r.runHistoryStore.isAnyFilterApplied,onLoadMore:this.onLoadMore,showShimmers:r.runHistoryStore.runsCollectionIsFirstLoading,hideCheckBoxSelection:!0,singleSelectionMode:!0,detailsListRef:this.detailsListRef,onRenderDetailsHeader:this.onRenderDetailsHeader,ariaLabelForGrid:t.Monitor.Runs.ListAriaLabel,getRowAdditionalAttributes:this.getRowAdditionalAttributes,automationId:w.a.runDetailsList.root,onShouldVirtualize:()=>!1}}},{key:"getRowAdditionalAttributes",value:function(e){return{[F.l]:e}}},{key:"emptyProps",get:function(){var{assetService:e,flowServiceClientResources:t,featureFlags:r,routeCrafter:n}=this.props;return Object(te.d)(t,r,n,e)}},{key:"emptyFiltersProps",get:function(){var{assetService:e,flowServiceClientResources:t}=this.props,r=t.Monitor.Runs.Empty.Filtered.Title,n=t.Monitor.Runs.Empty.Filtered.Description;return this.maximumFilterReached&&(r=t.Filter.MaximumReached.Message,n=t.Filter.MaximumReached.Description),{message:r,details:n,icon:{imageProps:{src:e.monitor.runsEmpty}},buttonText:t.Monitor.Runs.Empty.Filtered.Button,buttonProps:{ariaLabel:t.Monitor.Runs.Empty.Filtered.Button,onClick:this.onClickRemoveFilter}}}},{key:"columns",get:function(){var{flowServiceClientResources:e,monitorRunsPageStore:t}=this.props,r=[t.runHistoryStore.filterQuery.filters.fromCreationDate,t.runHistoryStore.filterQuery.filters.toCreationDate].filter(Boolean).length,n=[t.runHistoryStore.filterQuery.filters.fromStartDate,t.runHistoryStore.filterQuery.filters.toStartDate].filter(Boolean).length,i=t.runHistoryStore.filterQuery.filters.parentUIFlowIds||[],o=i.length,a=this.selectedParentCloudWorkflowIds,s=a.length,u={ascending:e.Monitor.RunsPage.Headers.Date.SortLabels.Ascending,ascendingAutomationId:O.a.buttons.chronologicalSortButton,descending:e.Monitor.RunsPage.Headers.Date.SortLabels.Descending,descendingAutomationId:O.a.buttons.reverseChronologicalSortButton},l={ascending:e.Monitor.RunsPage.Headers.Number.SortLabels.Ascending,ascendingAutomationId:O.a.buttons.numericSortButton,descending:e.Monitor.RunsPage.Headers.Number.SortLabels.Descending,descendingAutomationId:O.a.buttons.reverseNumericSortButton},c={headerClassName:this.styles.clickableColumnHeader,isFiltered:s>0,filterAriaLabel:this.getFilterByAriaLabel(a,this.getFlowDisplayName),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.cloudFlowFilterContextualMenu.cloudFlowFilterButton,{key:Ae.filterByUIFlow,canCheck:!0,checked:s>0,text:s>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,s):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickParentWorkflowFilter})]},p=this.props.monitorRunsPageStore.runHistoryStore.isMachineManagementEnabled,d=this.props.monitorRunsPageStore.runHistoryStore.isCpuRamEnabled;return Object(N.c)(this.props.editColumns?this.props.editColumns[N.b.uIFlowRunList]:void 0,[Ie(Ie({key:C.P.triggered,name:Object(we.d)(Le.triggered,e),fieldName:Le.triggered,minWidth:xe.TriggeredMin,maxWidth:xe.TriggeredMax,headerClassName:this.styles.clickableColumnHeader,columnActionsMode:b.b.hasDropdown},this.getSortedByColumnProps("createdon",u)),{},{headerContextualMenuAutomationId:w.a.runDetailsList.requestedSortingContextualMenu.root,onRender:this.renderCreationDate,isFiltered:r>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterAndSortDescriptionFormat,Object(we.d)(Le.triggered,e)),filterAriaLabel:this.getFilterByDateAriaLabel(t.runHistoryStore.filterQuery.filters.fromCreationDate,t.runHistoryStore.filterQuery.filters.toCreationDate),columnMenuItems:[Object(_.b)(w.a.runDetailsList.requestedSortingContextualMenu.dateFilterButton,{key:Ae.filterByCreationDate,text:r>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,r):e.Monitor.RunsPage.Headers.FilterBy,subMenuProps:{onRenderMenuList:this.onRenderMenuList,items:[{key:"filterByTriggeredDatePaneContainer",onRender:this.renderFilterByCreationDateMenu}]}})]}),{key:C.P.uiFlowName,name:Object(we.d)(Le.uiFlowName,e),fieldName:Le.uiFlowName,minWidth:xe.DesktopFlowMin,maxWidth:xe.DesktopFlowMax,headerClassName:this.styles.clickableColumnHeader,isFiltered:o>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.uiFlowName,e)),filterAriaLabel:this.getFilterByAriaLabel(i,this.getFlowDisplayName),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.desktopFlowFilterContextualMenu.desktopFlowFilterButton,{key:Ae.filterByUIFlow,canCheck:!0,checked:o>0,text:o>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,o):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickUIFlowFilter})],headerContextualMenuAutomationId:w.a.runDetailsList.desktopFlowFilterContextualMenu.root,onRender:this.renderUIFlowNameCell},{key:C.P.status,name:Object(we.d)(Le.status,e),fieldName:Le.status,minWidth:xe.StatusMin,maxWidth:xe.StatusMax,className:T.b.reset,headerClassName:this.styles.clickableColumnHeader,isFiltered:t.runHistoryStore.filterQuery.filters.statuses.length>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.status,e)),filterAriaLabel:this.getFilterByAriaLabel(t.runHistoryStore.filterQuery.filters.statuses,this.getStatusCodeLabel),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.statusFilterContextualMenu.statusFilterButton,{key:Ae.filterByStatus,canCheck:!0,checked:t.runHistoryStore.filterQuery.filters.statuses.length>0,text:t.runHistoryStore.filterQuery.filters.statuses.length>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,t.runHistoryStore.filterQuery.filters.statuses.length):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickStatusFilter})],headerContextualMenuAutomationId:w.a.runDetailsList.statusFilterContextualMenu.root,onRender:e=>Object(ae.a)(e,!0)},{key:C.P.error,name:Object(we.d)(Le.error,e),fieldName:Le.error,minWidth:xe.RunStartMin,maxWidth:xe.RunStartMin,columnActionsMode:b.b.disabled,onRender:this.renderError},Ie(Ie({key:C.P.runStart,name:Object(we.d)(Le.runStart,e),fieldName:Le.runStart,minWidth:xe.RunStartMin,maxWidth:xe.RunStartMin,columnActionsMode:b.b.hasDropdown,headerClassName:this.styles.clickableColumnHeader},this.getSortedByColumnProps("startedon",u)),{},{headerContextualMenuAutomationId:w.a.runDetailsList.startDateSortingContextualMenu.root,onRender:this.renderRunStart,isFiltered:n>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterAndSortDescriptionFormat,Object(we.d)(Le.runStart,e)),filterAriaLabel:this.getFilterByDateAriaLabel(t.runHistoryStore.filterQuery.filters.fromStartDate,t.runHistoryStore.filterQuery.filters.toStartDate),columnMenuItems:[Object(_.b)(w.a.runDetailsList.startDateSortingContextualMenu.dateFilterButton,{key:Ae.filterByStartDate,text:n>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,n):e.Monitor.RunsPage.Headers.FilterBy,subMenuProps:{onRenderMenuList:this.onRenderMenuList,items:[{key:"filterByRunStartDatePaneContainer",onRender:this.renderFilterByRunStartDateMenu}]}})]}),this.isRunSessionModeAvailable?{key:C.P.runMethod,name:Object(we.d)(Le.combinedRunMethod,e),fieldName:Le.combinedRunMethod,minWidth:xe.CombinedRunModeMin,maxWidth:xe.CombinedRunModeMax,headerClassName:this.styles.clickableColumnHeader,isFiltered:t.runHistoryStore.filterQuery.filters.combinedRunModes.length>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.combinedRunMethod,e)),filterAriaLabel:this.getFilterByAriaLabel(t.runHistoryStore.filterQuery.filters.runModes,this.getRunMethodLabel),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.runModeFilterContextualMenu.runModeFilterButton,{key:Ae.filterByRunMethod,canCheck:!0,checked:t.runHistoryStore.filterQuery.filters.combinedRunModes.length>0,text:t.runHistoryStore.filterQuery.filters.combinedRunModes.length>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,t.runHistoryStore.filterQuery.filters.combinedRunModes.length):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickCombinedRunMethodFilter})],headerContextualMenuAutomationId:w.a.runDetailsList.runModeFilterContextualMenu.root,onRender:e=>Object(pe.a)(e,!0)}:{key:C.P.runMethod,name:Object(we.d)(Le.runMethod,e),fieldName:Le.runMethod,minWidth:xe.RunModeMin,maxWidth:xe.RunModeMax,headerClassName:this.styles.clickableColumnHeader,isFiltered:t.runHistoryStore.filterQuery.filters.runModes.length>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.runMethod,e)),filterAriaLabel:this.getFilterByAriaLabel(t.runHistoryStore.filterQuery.filters.runModes,this.getRunMethodLabel),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.runModeFilterContextualMenu.runModeFilterButton,{key:Ae.filterByRunMethod,canCheck:!0,checked:t.runHistoryStore.filterQuery.filters.runModes.length>0,text:t.runHistoryStore.filterQuery.filters.runModes.length>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,t.runHistoryStore.filterQuery.filters.runModes.length):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickRunMethodFilter})],headerContextualMenuAutomationId:w.a.runDetailsList.runModeFilterContextualMenu.root,onRender:e=>Object(ge.a)(e,!0)},{key:C.P.duration,name:Object(we.d)(Le.duration,e),fieldName:Le.duration,minWidth:xe.DurationMin,maxWidth:xe.DurationMax,columnActionsMode:b.b.disabled,onRender:oe.a},...p?[{key:C.P.machine,name:Object(we.d)(Le.machine,e),fieldName:Le.machine,minWidth:xe.MachineNameMin,maxWidth:xe.MachineNameMax,headerClassName:this.styles.clickableColumnHeader,isFiltered:t.runHistoryStore.filterQuery.filters.machineNames.length>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.machine,e)),filterAriaLabel:this.getFilterByAriaLabel(t.runHistoryStore.filterQuery.filters.machineNames,this.getMachineDisplayName),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.machineFilterContextualMenu.machineFilterButton,{key:Ae.filterByMachine,canCheck:!0,checked:t.runHistoryStore.filterQuery.filters.machineNames.length>0,text:t.runHistoryStore.filterQuery.filters.machineNames.length>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,t.runHistoryStore.filterQuery.filters.machineNames.length):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickMachineNameFilter})],headerContextualMenuAutomationId:w.a.runDetailsList.machineFilterContextualMenu.root,onRender:this.renderMachineNameCell},{key:C.P.machineGroup,name:Object(we.d)(Le.machineGroup,e),fieldName:Le.machineGroup,minWidth:xe.MachineGroupMin,maxWidth:xe.MachineGroupMax,headerClassName:this.styles.clickableColumnHeader,isFiltered:t.runHistoryStore.filterQuery.filters.machineGroupNames.length>0,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.machineGroup,e)),filterAriaLabel:this.getFilterByAriaLabel(t.runHistoryStore.filterQuery.filters.machineGroupNames,this.getMachineGroupDisplayName),columnActionsMode:b.b.hasDropdown,columnMenuItems:[Object(_.b)(w.a.runDetailsList.machineGroupFilterContextualMenu.machineGroupFilterButton,{key:Ae.filterByMachineGroup,canCheck:!0,checked:t.runHistoryStore.filterQuery.filters.machineGroupNames.length>0,text:t.runHistoryStore.filterQuery.filters.machineGroupNames.length>0?Object($.a)(e.Monitor.RunsPage.Headers.FilterByActive,t.runHistoryStore.filterQuery.filters.machineGroupNames.length):e.Monitor.RunsPage.Headers.FilterBy,onClick:this.onClickMachineGroupNameFilter})],headerContextualMenuAutomationId:w.a.runDetailsList.machineGroupFilterContextualMenu.root,onRender:this.renderMachineGroupNameCell}]:[],...d?[Ie({key:C.P.machineUserName,name:Object(we.d)(Le.machineUserName,e),fieldName:Le.machineUserName,minWidth:xe.MachineUserMin,maxWidth:xe.MachineUserMax,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.machineUserName,e)),headerContextualMenuAutomationId:w.a.runDetailsList.cloudFlowFilterContextualMenu.root,onRender:this.renderMachineUserName,columnActionsMode:b.b.hasDropdown,headerClassName:this.styles.clickableColumnHeader},this.getSortedByColumnProps("sessionusername",l))]:[],Ie({key:C.P.parentFlow,name:Object(we.d)(Le.parentFlow,e),fieldName:Le.parentFlow,minWidth:xe.ParentFlowMin,maxWidth:xe.ParentFlowMax,ariaLabel:Object($.a)(e.ListHeader.Aria.FilterDescriptionFormat,Object(we.d)(Le.parentFlow,e)),headerContextualMenuAutomationId:w.a.runDetailsList.cloudFlowFilterContextualMenu.root,onRender:this.renderParentFlowCell},this.hasDefaultParentWorkflowRun?void 0:c),...d?[Ie({key:C.P.cpu,name:Object(we.d)(Le.cpu,e),fieldName:Le.cpu,minWidth:xe.CpuRamMin,maxWidth:xe.CpuRamMax,columnActionsMode:b.b.hasDropdown,headerClassName:this.styles.clickableColumnHeader,onRender:this.renderCpu},this.getSortedByColumnProps("machinepercentcpuusage",l)),Ie({key:C.P.ram,name:Object(we.d)(Le.ram,e),fieldName:Le.ram,minWidth:xe.CpuRamMin,maxWidth:xe.CpuRamMax,columnActionsMode:b.b.hasDropdown,headerClassName:this.styles.clickableColumnHeader,onRender:this.renderRam},this.getSortedByColumnProps("machinepercentramusage",l))]:[]],e=>e.fieldName,this.props.featureFlags)}},{key:"referenceDateForTimeAgo",get:function(){var e=this.props.monitorRunsPageStore.runHistoryStore.entityList;return e&&e.lastFetched&&e.lastFetched.getTime()>this.componentCreationDate.getTime()?e.lastFetched:this.componentCreationDate}},{key:"announceFiltersResults",value:function(e){e&&Y.a.announce(e),0===this.props.monitorRunsPageStore.runHistoryStore.listItems.length&&this.emptyFiltersProps.message&&Y.a.announce(this.emptyFiltersProps.message)}},{key:"announceSortedDirection",value:function(e){switch(e){case"asc":Y.a.announce(Object($.a)(this.props.flowServiceClientResources.Monitor.RunsPage.Headers.SortAriaLabel,this.props.flowServiceClientResources.Monitor.RunsPage.Headers.Date.SortLabels.Ascending));break;case"desc":Y.a.announce(Object($.a)(this.props.flowServiceClientResources.Monitor.RunsPage.Headers.SortAriaLabel,this.props.flowServiceClientResources.Monitor.RunsPage.Headers.Date.SortLabels.Descending))}}},{key:"setIsMounted",value:function(e){this.isMounted=e}},{key:"selectedParentCloudWorkflowIds",get:function(){var{filters:e}=this.props.monitorRunsPageStore.runHistoryStore.filterQuery,t=[...e.parentWorkflowIds];return e.selectEmptyParentWorkflowId&&t.push(ee.a),t}},{key:"hasDefaultParentWorkflowRun",get:function(){return!!this.props.monitorRunsPageStore.defaultFilterByParentWorkflowRunId}},{key:"shouldDisplayV1DeprecationWarning",value:function(e){return!!e&&e.uiFlowType===H.q.RpaWin32}},{key:"machineDynamicOptionList",get:function(){return{getOptionListAsync:()=>this.props.xrmMachineManagementService.browseAllMachinesUsedInRuns().then(Object(P.action)(()=>this.machineNameOptions)),getErrorMessageBarProps:e=>Object(ne.e)(this.props.flowServiceClientResources,e,this.props.flowServiceClientResources.SelectionPanel.FailedToLoadMachinesBase,this.props.flowServiceClientResources.SelectionPanel.FailedToLoadMachines)}}},{key:"machineNameOptions",get:function(){var e=this.props.machineManagementStore.machines.getCollection(Z.a.AllMachinesUsedInRuns);return e&&e.list?Object(z.c)(e.list.map(e=>{var t=this.props.machineManagementStore.machines.getEntity(e);return t&&{key:e,displayName:t.properties.displayName}})):[]}},{key:"machineGroupDynamicOptionList",get:function(){return{getOptionListAsync:()=>this.props.xrmMachineManagementService.browseAllMachineGroupsUsedInRuns().then(Object(P.action)(()=>this.machineGroupNameOptions)),getErrorMessageBarProps:e=>Object(ne.e)(this.props.flowServiceClientResources,e,this.props.flowServiceClientResources.SelectionPanel.FailedToLoadMachineGroupsBase,this.props.flowServiceClientResources.SelectionPanel.FailedToLoadMachineGroups)}}},{key:"machineGroupNameOptions",get:function(){var e=this.props.machineManagementStore.machineGroups.getCollection(Z.a.AllMachineGroupsUsedInRuns);return e&&e.list?Object(z.c)(e.list.map(e=>{var t=this.props.machineManagementStore.machineGroups.getEntity(e);return t&&t.properties.type!==J.j.Default?{key:e,displayName:t.properties.displayName}:void 0})):[]}},{key:"maximumFilterReached",get:function(){var e,{filters:t}=this.props.monitorRunsPageStore.runHistoryStore.filterQuery;return((null===(e=t.parentUIFlowIds)||void 0===e?void 0:e.length)||0)>100}}])&&Fe(t.prototype,r),n&&Fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(R.Component),a=Ee(o.prototype,"isMounted",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Ee(o.prototype,"openedFilterPanel",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=Ee(o.prototype,"filterPanelProps",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee(o.prototype,"isNoContextEnabled",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"isNoContextEnabled"),o.prototype),Ee(o.prototype,"isRunSessionModeAvailable",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"isRunSessionModeAvailable"),o.prototype),Ee(o.prototype,"collectionDetailsListProps",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"collectionDetailsListProps"),o.prototype),Ee(o.prototype,"emptyProps",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"emptyProps"),o.prototype),Ee(o.prototype,"emptyFiltersProps",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"emptyFiltersProps"),o.prototype),l=Ee(o.prototype,"onClickRemoveFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var e;this.props.monitorRunsPageStore.runHistoryStore.resetFiltersAsync(),null===(e=this.detailsHeaderRef.current)||void 0===e||e.focus()}}}),Ee(o.prototype,"columns",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"columns"),o.prototype),Ee(o.prototype,"referenceDateForTimeAgo",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"referenceDateForTimeAgo"),o.prototype),c=Ee(o.prototype,"onClickRunMethodFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var{flowServiceClientResources:e,monitorRunsPageStore:t,telemetryService:r}=this.props;r.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.runMethod});var n=[...t.runHistoryStore.filterQuery.filters.runModes].map(e=>e.toString());this.filterPanelProps={headerText:Object($.a)(e.Monitor.Runs.SelectionPanel.HeaderText,e.ListHeader.RunMethod),initialOptionList:this.possibleRunMethods,selectedKeys:n,onConfirm:e=>{this.closeFilterPanel(this.possibleRunMethods.length,e.length);var r=e;t.runHistoryStore.setRunModeFilterAsync(r).then(()=>{this.announceFiltersResults(this.getFilterByAriaLabel(r,this.getRunMethodLabel))})}},this.openedFilterPanel=Le.runMethod}}}),p=Ee(o.prototype,"onClickCombinedRunMethodFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var{telemetryService:e}=this.props;e.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.combinedRunMethod}),this.openedFilterPanel=Le.combinedRunMethod}}}),d=Ee(o.prototype,"onClickStatusFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var{flowServiceClientResources:e,monitorRunsPageStore:t,telemetryService:r}=this.props;r.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.status});var n=t.runHistoryStore.filterQuery.filters.statuses.map(e=>G.a[e].toString());this.filterPanelProps={headerText:Object($.a)(e.Monitor.Runs.SelectionPanel.HeaderText,e.ListHeader.Status),initialOptionList:this.possibleStatuses,selectedKeys:n,onConfirm:e=>{this.closeFilterPanel(this.possibleStatuses.length,e.length);var r=e.map(e=>G.a[e]);t.runHistoryStore.setStatusFilterAsync(r).then(()=>{this.announceFiltersResults(this.getFilterByAriaLabel(r,this.getStatusCodeLabel))})}},this.openedFilterPanel=Le.status}}}),m=Ee(o.prototype,"onClickUIFlowFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var e,{monitorRunsPageStore:t,telemetryService:r}=this.props;r.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.uiFlowName});var n=(null===(e=t.runHistoryStore.filterQuery.filters.parentUIFlowIds)||void 0===e?void 0:e.slice())||[];this.spawnDesktopFlowFilterPanelSurface(n,e=>{this.closeFilterPanel(void 0,e.length),t.runHistoryStore.setUIFlowsIdsFilterAsync(e).then(()=>{this.announceFiltersResults(this.getFilterByAriaLabel(e,this.getFlowDisplayName))})})}}}),h=Ee(o.prototype,"onClickParentWorkflowFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var{telemetryService:e}=this.props;e.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.parentFlow}),this.openedFilterPanel=Le.parentFlow}}}),f=Ee(o.prototype,"onClickMachineNameFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var{flowServiceClientResources:e,monitorRunsPageStore:t,telemetryService:r}=this.props;r.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.machine}),this.filterPanelProps={headerText:Object($.a)(e.Monitor.Runs.SelectionPanel.HeaderText,e.Monitor.RunsPage.Headers.Machine),initialOptionList:this.machineNameOptions,selectedKeys:t.runHistoryStore.filterQuery.filters.machineNames.slice(),onConfirm:e=>{this.closeFilterPanel(this.machineNameOptions.length,e.length),t.runHistoryStore.setMachineIdsFilterAsync(e).then(()=>{this.announceFiltersResults(this.getFilterByAriaLabel(e,this.getMachineDisplayName))})},dynamicOptionList:this.machineDynamicOptionList},this.openedFilterPanel=Le.machine}}}),g=Ee(o.prototype,"onClickMachineGroupNameFilter",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var{flowServiceClientResources:e,monitorRunsPageStore:t,telemetryService:r}=this.props;r.tagEvent(re.b.FilterBy_Clicked,{filterBy:Le.machineGroup}),this.filterPanelProps={headerText:Object($.a)(e.Monitor.Runs.SelectionPanel.HeaderText,e.Monitor.RunsPage.Headers.Group),initialOptionList:this.machineGroupNameOptions,selectedKeys:t.runHistoryStore.filterQuery.filters.machineGroupNames.slice(),onConfirm:e=>{this.closeFilterPanel(this.machineGroupNameOptions.length,e.length),t.runHistoryStore.setMachineGroupsIdsFilterAsync(e).then(()=>{this.announceFiltersResults(this.getFilterByAriaLabel(e,this.getMachineGroupDisplayName))})},dynamicOptionList:this.machineGroupDynamicOptionList},this.openedFilterPanel=Le.machineGroup}}}),Ee(o.prototype,"setIsMounted",[P.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsMounted"),o.prototype),Ee(o.prototype,"selectedParentCloudWorkflowIds",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"selectedParentCloudWorkflowIds"),o.prototype),Ee(o.prototype,"machineNameOptions",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"machineNameOptions"),o.prototype),Ee(o.prototype,"machineGroupNameOptions",[P.computed],Object.getOwnPropertyDescriptor(o.prototype,"machineGroupNameOptions"),o.prototype),y=Ee(o.prototype,"closeFilterPanel",[P.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{void 0!==t?this.props.telemetryService.tagEvent(re.b.SelectionPanelConfirm_Clicked,{filterBy:this.openedFilterPanel,filterOptionsCount:e,selectedOptionsCount:t}):this.props.telemetryService.tagEvent(re.b.SelectionPanel_Dismissed,{filterBy:this.openedFilterPanel}),this.openedFilterPanel=void 0}}}),i=o))||i),We=Object(N.i)(Object(E.b)((e,t)=>Ie({appSettings:e.appSettings,assetService:e.assetService,environmentStore:e.environmentStore,featureFlags:e.featureFlags,flowService:e.flowService,flowServiceClientResources:e.flowServiceClientResources,flowStore:e.flowStore,loggingService:e.loggingService,machineManagementStore:e.machineManagementStore,routeCrafter:e.routeCrafter,uiFlowRunService:e.uiFlowRunService,uiFlowRunsStore:e.uiFlowRunsStore,uiFlowService:e.uiFlowService,surfaceStore:e.surfaceStore,xrmMachineManagementService:e.xrmMachineManagementService,safeLocalStorage:e.safeLocalStorage,environmentCapabilityStore:e.environmentCapabilityStore},t))(Be))},22240:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(14678),i=r(14679),o={root:"monitorRunsPage",descriptionLearnMoreAnchor:"descriptionLearnMoreAnchor",commandBar:{root:n.a.commandBar,refreshButton:"refreshButton",autoRefreshToggle:"autoRefreshToggle"},emptyState:"monitorRunsEmptyState",runDetailsList:{root:"runDetailsList",columns:i.P,runRequestedTimeAnchor:n.a.anchors.runRequestedTimeCellAnchor,parentFlowAnchor:n.a.anchors.cloudFlowCellAnchor,desktopFlowAnchor:n.a.anchors.desktopFlowCellAnchor,machineNameCellAnchor:n.a.anchors.machineNameCellAnchor,machineGroupNameCellAnchor:n.a.anchors.machineGroupNameCellAnchor,startDateText:n.a.texts.startDateText,runStatusText:n.a.texts.runStatusText,runModeText:n.a.texts.runModeText,runModeTooltip:n.a.tooltips.runModeTooltip,requestedSortingContextualMenu:{root:"requestedSortingContextualMenu",chronologicalSortButton:n.a.buttons.chronologicalSortButton,reverseChronologicalSortButton:n.a.buttons.reverseChronologicalSortButton,dateFilterButton:n.a.buttons.dateFilterButton},desktopFlowFilterContextualMenu:{root:"desktopFlowFilterContextualMenu",desktopFlowFilterButton:"desktopFlowFilterButton"},statusFilterContextualMenu:{root:"statusFilterContextualMenu",statusFilterButton:"statusFilterButton"},startDateSortingContextualMenu:{root:"startDateSortingContextualMenu",chronologicalSortButton:n.a.buttons.chronologicalSortButton,reverseChronologicalSortButton:n.a.buttons.reverseChronologicalSortButton,dateFilterButton:n.a.buttons.dateFilterButton},runModeFilterContextualMenu:{root:"runModeFilterContextualMenu",runModeFilterButton:"runModeFilterButton"},machineFilterContextualMenu:{root:"machineFilterContextualMenu",machineFilterButton:"machineFilterButton"},machineGroupFilterContextualMenu:{root:"machineGroupFilterContextualMenu",machineGroupFilterButton:"machineGroupFilterButton"},cloudFlowFilterContextualMenu:{root:"cloudFlowFilterContextualMenu",cloudFlowFilterButton:"cloudFlowFilterButton"}}}},22241:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return u}));var n=r(15994),i=r(12367),o=r(20621);function a(e,t){return Object(n.c)(e.Rpa.DesktopFlowProperties.Win32Deprecated.Message,o.a.learnMoreMigrationPage,t.Common.LearnMore,e.Rpa.DesktopFlowProperties.Win32Deprecation.AriaLabel)}function s(e){var t=e.Rpa.DesktopFlowProperties.SeleniumDeprecated;return Object(n.d)(t.Message,o.a.learnMoreSeleniumDeprecationPage,t.AriaLabel)}function u(e){return!!e&&e.uiFlowType===i.q.RpaSelenium}},22245:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n,i=r(14337),o=r(11766),a=r(20121),s=r(22246),u=r(20120),l=r(22247),c=r(13260);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function m(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(m,e);var t,r,n,i=f(m);function m(){var e;p(this,m);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call(this,...r)).renderParentFlowName=t=>{var{clientResources:r,routeCrafter:n,uiFlowRunId:i,isFlowRunLink:a,solutionId:u,telemetryService:l}=e.props,c=a?e.getParentFlowRunId(i):void 0;return o.createElement(s.a,{flow:t,flowRunId:c,solutionId:u,clientResources:r,routeCrafter:n,telemetryService:l})},e}return t=m,(r=[{key:"render",value:function(){var{flowStore:e,uiFlowRunId:t}=this.props,r=this.getParentWorkflowId(t);return r?o.createElement(a.a,{entityKey:r,entities:e.flows.entities,onEntityFetchSuccessRender:this.renderParentFlowName,onEntityFetchErrorRender:e=>o.createElement(c.b,{id:t,text:r},o.createElement(l.a,{error:e,controlCenterResources:this.props.clientResources}))}):u.a}},{key:"getParentWorkflowId",value:function(e){if(this.props.useNoContextStore){var t=this.props.uiFlowRunsStore.getUIFlowRunEntityNoContext(e);return t&&t.parentworkflowid}var r=this.props.uiFlowRunsStore.getUIFlowRunEntityContext(e);return r&&r.context&&r.context.parentWorkflowId}},{key:"getParentFlowRunId",value:function(e){var t=this.getUiFlowRunEntity(e);return t&&t.context&&t.context.parentWorkflowRunId}},{key:"getUiFlowRunEntity",value:function(e){var{uiFlowRunsStore:t}=this.props;return t.runs.getEntity(e)}}])&&d(t.prototype,r),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),m}(o.Component))||n,v=function(e,t,r,n,i,a){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0;return o.createElement(b,{uiFlowRunId:e,isFlowRunLink:u,solutionId:l,clientResources:t,flowStore:r,uiFlowRunsStore:n,routeCrafter:i,telemetryService:a,useNoContextStore:s})}},22246:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,i=r(14337),o=r(11766),a=r(14678),s=r(14346),u=r(13260),l=r(12367),c=r(14900),p=r(17141),d=r(13240);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(f,e);var t,r,n,i=y(f);function f(){var e;m(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call(this,...r)).onClick=()=>{var{flow:t,flowRunId:r,telemetryService:n}=e.props;n.tagEvent(d.c.ParentFlowNameCellClicked,null,{isLinkToRun:!!r,isUIFlow:t.isUIFlow})},e}return t=f,(r=[{key:"render",value:function(){var{flow:e,flowRunId:t}=this.props;return o.createElement(u.b,{id:e.name,text:e.displayName,automationId:a.a.tooltips.parentFlowTooltip},o.createElement(s.a,{onClick:this.onClick,href:t?this.buildFlowRunDetailsPageLink():this.buildFlowDetailsPageLink(),dataAutomationId:t?a.a.anchors.parentRunCellAnchor:a.a.anchors.cloudFlowCellAnchor},e.displayName))}},{key:"buildFlowDetailsPageLink",value:function(){var{flow:e,routeCrafter:t,solutionId:r}=this.props,n=e.isLegacyShared;return e&&e.uiFlowType===l.q.DesktopV2?Object(p.e)(t,{uiFlowId:e.name,solutionId:r}):e&&e.isUserType?Object(c.o)(t,{flowName:e.name,isLegacyShared:n,solutionId:r}):Object(c.m)(t,{flowName:e.name,isLegacyShared:n,solutionId:r})}},{key:"buildFlowRunDetailsPageLink",value:function(){var{flow:e,flowRunId:t,solutionId:r,routeCrafter:n}=this.props;return Object(c.n)(n,{solutionId:r,flowName:e.name,runName:t,isLegacyShared:e.isLegacyShared,isUIFlow:e.isUIFlow})}}])&&h(t.prototype,r),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(o.Component))||n},22248:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r(11766);var n=r(20621);r(22249);function i(e){var t=e.Rpa.DesktopFlowProperties.SeleniumDeprecated;return{calloutTitleText:e.RpaScript.Details.SubCategory.Selenium,calloutFormattableText:t.MessageNoLearnMore,learnMoreAriaLabel:t.AriaLabel,learnMoreHref:n.a.learnMoreSeleniumDeprecationPage}}},22249:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,i=r(14965),o=r(12754),a=r(14337),s=r(11766),u=r.n(s),l=r(15995),c=r(14346),p=r(13272),d=r(16871);function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=v(e);if(t){var i=v(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=Object(a.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(s,e);var t,r,n,a=y(s);function s(){var e;m(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call(this,...r)).styles=Object(o.db)({deprecationCalloutTitle:{fontWeight:"600"},deprecationCallout:{maxWidth:"320px",margin:"20px"},deprecationCalloutText:{margin:"20px 0 20px 0",selectors:{b:{fontWeight:"600"}}},deprecationLink:{color:Object(o.Y)().palette.themePrimary}}),e}return t=s,(r=[{key:"render",value:function(){var{id:e,warningIconAriaLabel:t,containerClassName:r,calloutContents:n,dataAutomationId:a}=this.props;return 0===n.length?null:u.a.createElement(d.a,{containerClassName:r,id:e,iconName:p.a.WarningEmpty,iconColor:Object(o.Y)().palette.orange,iconAriaLabel:t,dataAutomationId:a},n.map((e,t)=>u.a.createElement(u.a.Fragment,{key:"WarningCallout.separator.".concat(e.calloutTitleText)},t>0&&u.a.createElement(i.a,null),this.renderCalloutContent(e))))}},{key:"renderCalloutContent",value:function(e){var{calloutTitleText:t,calloutFormattableText:r,learnMoreAriaLabel:n,learnMoreHref:i}=e,{globalResources:o}=this.props;return u.a.createElement("div",{className:this.styles.deprecationCallout,key:"WarningCallout.calloutContent.".concat(t)},u.a.createElement("span",{className:this.styles.deprecationCalloutTitle},t),u.a.createElement("div",{className:this.styles.deprecationCalloutText},u.a.createElement(l.a,{formatText:r})),u.a.createElement("div",{className:this.styles.deprecationLink},u.a.createElement(c.a,{ariaLabel:n,href:i,target:c.b.blank,isUnderlinedStyle:!0},o.Common.LearnMore)))}}])&&h(t.prototype,r),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(u.a.Component))||n},22250:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n,i=r(14337),o=r(11766),a=r(12367),s=r(20621),u=r(22249);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,r,n,i=m(s);function s(){return l(this,s),i.apply(this,arguments)}return t=s,(r=[{key:"render",value:function(){var{clientResources:e,id:t,uiFlowType:r,containerClassName:n,globalResources:i}=this.props;return r===a.q.RpaWin32?o.createElement(u.a,{id:t,warningIconAriaLabel:e.Rpa.Win32Deprecation.WarningAriaLabel,calloutContents:[g(e)],containerClassName:n,globalResources:i}):null}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Component));function g(e){return{calloutTitleText:e.RpaScript.Details.SubCategory.Win32,calloutFormattableText:e.Rpa.DesktopFlowProperties.Win32Deprecated.Message,learnMoreAriaLabel:e.Rpa.DesktopFlowList.Win32Deprecation.AriaLabel,learnMoreHref:s.a.learnMoreMigrationPage}}},22254:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(11766),i=r.n(n),o=r(13271),a=r(21993),s=r(21994),u=r(22255),l=r(16833),c=r(13016),p=e=>{var{controlCenterResources:t}=Object(l.a)(),{data:r,isLoading:n,isError:u,isFetchingNextPage:p}=d(e.runFilters),m=t.Monitor.Features.DesktopFlowActivity.Filters.DesktopFlows,h=((null==r?void 0:r.pages.reduce((e,t)=>e.concat(t)))||[]).map(e=>({key:e.id,displayName:e.name,additionalAttributes:{[o.m]:e.name}}))||[];return i.a.createElement(a.b,{headerText:m.PanelHeader,emptyMessage:u?m.FailToLoadMessage:m.EmptyMessage,selectionMode:s.a.MultiSelect,hideSelectAll:!0,onConfirm:t=>{e.onConfirm(t),e.onClose()},onCancel:e.onClose,isLoading:n||p,optionsList:h,initialSelectedKeys:e.initialSelectedKeys||[],messageBarProps:u?{type:c.c.error,onRenderBody:()=>m.FailToLoadMessageBase,ariaLabel:m.FailToLoadMessageBase}:void 0})},d=e=>{var t=Object(u.d)({search:void 0,transform:u.a,runFilters:e});return t.isError||!t.hasNextPage||t.isFetchingNextPage||t.fetchNextPage(),t}},22259:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(11766),i=r(22260),o=r(16834);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=Object(o.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({dateTimeResources:e.dateTimeResources,uiFlowRunsStore:e.uiFlowRunsStore,loggingService:e.loggingService,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(i.a),l=e=>n.createElement(u,{runName:e})},22260:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n,i=r(18111),o=r.n(i),a=r(14337),s=r(11766),u=r(22261);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=Object(a.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,e);var t,r,n,i=m(a);function a(){return l(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var{dateTimeResources:e,runName:t,loggingService:r}=this.props,n=t&&this.props.uiFlowRunsStore.getUIFlowRunEntity(t,!0,this.props);if(!n)return null;var i=n.startedon||n.createdon,a=o()(n.startedon)?n.createdon:n.completedon;return s.createElement(u.a,{dateTimeResources:e,loggingService:r,run:{startTime:i,endTime:a,flowsessionid:t,rundetails:null==n?void 0:n.rundetails}})}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.Component))||n},22261:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(14337),i=r(11766),o=r.n(i),a=r(22262),s=r(14918),u=r(14678),l=r(22264),c=r(13260),p=Object(n.c)(e=>{var{run:t,dateTimeResources:r,loggingService:n}=e;if(null!=t&&t.rundetails){var i=Object(a.b)(t,n);if(null!==i){var p=Object(s.A)(i,r);return o.a.createElement(c.b,{id:p,text:p,automationId:u.a.tooltips.runDurationTooltip},o.a.createElement("span",{"data-automation-id":u.a.texts.durationText},p))}}return t.startTime?o.a.createElement(l.a,{clientResources:r,startDateTime:t.startTime,endDateTime:t.endTime}):null})},22262:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(22263),i=r(17264);function o(e,t,r){if(null==e||!e.rundetails)return null;try{var n=JSON.parse(e.rundetails);return null!=n&&n.runtimeSteps?{Start:s(n.runtimeSteps[i.f.Start],r),Queue:s(n.runtimeSteps[i.f.Queue]),Assignment:s(n.runtimeSteps[i.f.Assignment]),Connection:s(n.runtimeSteps[i.f.Connection]),Execution:s(n.runtimeSteps[i.f.Execution]),Finalization:s(n.runtimeSteps[i.f.Finalization])}:null}catch(o){return t.logError("CC_DesktopFlowRunDetailsTimelineCardV2_InvalidRunDetails",o,{flowsessionid:null==e?void 0:e.flowsessionid}),null}}function a(e,t){var r,n,i,a,s,u,l=o(e,t);return l?((null===(r=l.Start)||void 0===r?void 0:r.durationInMilliseconds)||0)+((null===(n=l.Queue)||void 0===n?void 0:n.durationInMilliseconds)||0)+((null===(i=l.Assignment)||void 0===i?void 0:i.durationInMilliseconds)||0)+((null===(a=l.Connection)||void 0===a?void 0:a.durationInMilliseconds)||0)+((null===(s=l.Execution)||void 0===s?void 0:s.durationInMilliseconds)||0)+((null===(u=l.Finalization)||void 0===u?void 0:u.durationInMilliseconds)||0):null}function s(e,t){return e?{state:(r=u(e.state),i=t,i?r===n.b.Failed||i===n.b.Failed?n.b.Failed:r===n.b.Warning||i===n.b.Warning?n.b.Warning:r:r),runState:u(e.state),durationInMilliseconds:e.duration}:{state:n.b.NotStarted,runState:n.b.NotStarted};var r,i}function u(e){switch(e){case i.e.Success:return n.b.Success;case i.e.Failure:return n.b.Failed;case i.e.Canceled:case i.e.Cancelled:return n.b.Canceled;case i.e.Running:return n.b.Running;case i.e.Skipped:case i.e.NotRun:default:return n.b.NotStarted}}},22263:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return d}));var n=r(12812),i=r(12754),o=r(12811),a=r(11766),s=r(14337),u=r(13272),l=r(15918),c=r(14678),p=function(e){return e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Success=2]="Success",e[e.Failed=3]="Failed",e[e.Warning=4]="Warning",e[e.Canceled=5]="Canceled",e}({}),d=Object(s.c)(e=>{var{state:t,className:r}=e,i=function(e,t){switch(e){case p.NotStarted:return{title:t.NotStarted,iconName:u.a.CircleRing,className:m.notStartedStatusIcon,dataAutomationId:c.a.timeline.status.notStarted};case p.Running:return{title:t.Running,iconName:u.a.Sync,className:m.runningStatusIcon,dataAutomationId:c.a.timeline.status.running};case p.Success:return{title:t.Successful,iconName:u.a.CompletedSolid,className:m.successStatusIcon,dataAutomationId:c.a.timeline.status.success};case p.Failed:return{title:t.Failed,iconName:u.a.StatusErrorFull,className:m.failedStatusIcon,dataAutomationId:c.a.timeline.status.failed};case p.Warning:return{title:t.Warning,iconName:u.a.AlertSolid,className:m.warningStatusIcon,dataAutomationId:c.a.timeline.status.warning};case p.Canceled:return{title:t.Canceled,iconName:u.a.StatusErrorFull,className:m.failedStatusIcon,dataAutomationId:c.a.timeline.status.canceled};default:throw new Error("Unknown state: ".concat(e))}}(t,Object(l.a)().Component.Timeline.States);return a.createElement(n.a,{title:i.title,iconName:i.iconName,"data-automation-id":i.dataAutomationId,className:Object(o.a)(r,i.className)})});var m=Object(i.db)({notStartedStatusIcon:{color:Object(i.Y)().semanticColors.warningIcon},successStatusIcon:{color:Object(i.Y)().semanticColors.primaryButtonBackground},runningStatusIcon:{color:Object(i.Y)().semanticColors.primaryButtonBackground,animationName:Object(i.bb)({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),animationDuration:"3s",animationTimingFunction:"linear",animationIterationCount:"infinite"},failedStatusIcon:{color:Object(i.Y)().semanticColors.severeWarningIcon},warningStatusIcon:{color:Object(i.Y)().palette.orangeLighter}})},22265:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(11766),i=r(22266),o=r(16834);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=Object(o.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({clientResources:e.clientResources,stringResources:e.controlCenterResources,uiFlowRunsStore:e.uiFlowRunsStore,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(i.a),l=(e,t)=>n.createElement(u,{runName:e,canUseNoContextStore:t})},22266:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n,i=r(14337),o=r(11766),a=r(22251),s=r(22267);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(c,e);var t,r,n,i=d(c);function c(){return u(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"render",value:function(){var{clientResources:e,stringResources:t,runName:r,canUseNoContextStore:n}=this.props,i=r&&this.props.uiFlowRunsStore.getUIFlowRunEntity(r,n,this.props);if(!i)return null;var u=Object(a.e)(i.statuscode,t,e);return o.createElement(s.a,{status:i.statuscode,tooltip:u},u)}}])&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Component))||n},22267:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(14678),i=r(13271),o=r(11766),a=r.n(o),s=r(15427),u=r(22268),l=e=>{var t={[i.e]:e.status.toString()};return a.a.createElement(u.a,{title:e.tooltip,backgroundColor:c(e.status),width:e.width,automationId:n.a.texts.runStatusText,tooltipAutomationId:n.a.tooltips.runStatusTooltip,customAttributes:t},e.children)};function c(e){switch(e){case s.e.Waiting:return u.b.yellow;case s.e.Succeeded:return u.b.green;case s.e.Canceled:case s.e.Failed:case s.e.Faulted:case s.e.TimedOut:case s.e.Aborted:return u.b.red;default:return u.b.transparent}}},22269:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(14678),i=r(14337),o=r(11766),a=r.n(o),s=r(20120),u=r(16833),l=r(16910),c=r(22270),p=Object(i.c)(e=>{var{uiFlowRunId:t,isCpu:r,flowServiceClientResources:i}=e,{uiFlowRunsStore:o,featureFlags:p,environmentStore:d,environmentCapabilityStore:m}=Object(u.a)(),h=o.getUIFlowRunEntity(t,!0,{featureFlags:p,environmentStore:d,environmentCapabilityStore:m}),f=r?n.a.texts.cpuText:n.a.texts.ramText,g=r?null==h?void 0:h.machinepercentcpuusage:null==h?void 0:h.machinepercentramusage;return g?a.a.createElement(l.a,{itemId:t,displayName:Object(c.c)(g,!0,i),privateCellText:"",textAutomationId:f}):a.a.createElement("span",{"data-automation-id":f},s.a)})},22270:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l}));var n=r(12375),i=r(13031),o=r(22271),a=function(e){return e.ByPercentage="ByPercentage",e.ByValue="ByValue",e}({}),s=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(t){case a.ByPercentage:return u(e,!0,r,n);case a.ByValue:return u(e,!1,r,n);default:var i=t;throw new Error("Unhandled GroupType: ".concat(i))}},u=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Number(e.toFixed(o)),s=a.toLocaleString(Object(n.a)()),u=r.Monitor.Target.Properties.DetailsCard.MachineUsage.PercentageFormat;return t?Object(i.a)(u,s):s},l=(e,t)=>{var r=Math.round(e);return r>95?o.a.Red:r>85?o.a.Orange:t}},22272:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(14678),i=r(14337),o=r(11766),a=r.n(o),s=r(20120),u=r(16833),l=r(16910),c=Object(i.c)(e=>{var{uiFlowRunId:t}=e,{uiFlowRunsStore:r,featureFlags:i,environmentStore:o,environmentCapabilityStore:c}=Object(u.a)(),p=r.getUIFlowRunEntity(t,!0,{featureFlags:i,environmentStore:o,environmentCapabilityStore:c});return p&&p.errorcode?a.a.createElement(l.a,{itemId:t,displayName:p.errorcode,privateCellText:"",textAutomationId:n.a.texts.runErrorText}):a.a.createElement("span",{"data-automation-id":n.a.texts.runErrorText},s.a)})},22273:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"f",(function(){return m}));var n=r(13016),i=r(15994),o=r(13031),a=r(22274),s=r(15991),u={TimeLimitReached:"TimeLimitReached",ErrorWhileRefreshing:"ErrorWhileRefreshing",MaxItemCountExceeded:"MaxItemCountExceeded",ListClipped:"ListClipped"},l={CancelParentFlowAlreadyFinished:"CancelParentFlowAlreadyFinished",CancelParentFlowFailure:"CancelParentFlowFailure",CancelParentFlowSuccess:"CancelParentFlowSuccess"},c={LoadMoreFailure:"LoadMoreFailure"},p={UpgradeMachineManagementSolution:"UpgradeMachineManagementSolution",FailedToComputeMachineManagementSolution:"FailedToComputeMachineManagementSolution",ProblemLoadingPage:"ProblemLoadingPage"},d={FailToRetrieveParentRunId:"FailToRetrieveParentRunId"};function m(e,t){switch(e){case u.TimeLimitReached:return{type:n.c.warning,text:t.Monitor.Runs.AutoRefresh.LiveUpdatesPausedMessageGA};case u.ErrorWhileRefreshing:return{type:n.c.error,text:t.Monitor.Runs.AutoRefresh.LiveUpdatesErrorMessageGA};case u.ListClipped:return{type:n.c.warning,text:Object(o.a)(t.Monitor.Runs.AutoRefresh.LiveUpdatesPaginatedMessage,a.a)};case u.MaxItemCountExceeded:return{type:n.c.warning,text:Object(o.a)(t.Monitor.Runs.AutoRefresh.LiveUpdatesPaginatedPausedMessageGA,a.a)};case l.CancelParentFlowAlreadyFinished:return{type:n.c.error,text:t.Monitor.RunQueue.Action.CancelParentFlowRunAlreadyFinished};case l.CancelParentFlowFailure:return{type:n.c.error,text:t.Monitor.RunQueue.Action.CancelParentFlowRunError};case l.CancelParentFlowSuccess:return{type:n.c.success,text:t.Monitor.RunQueue.Action.CancelParentFlowRunSuccessGA};case c.LoadMoreFailure:return{type:n.c.error,text:t.Monitor.FailedToLoad};case p.UpgradeMachineManagementSolution:return{type:n.c.warning,ariaLabel:t.Monitor.UpgradeCdsSolution.Details,onRenderBody:()=>Object(i.d)(t.Monitor.UpgradeCdsSolution.DetailsWithLearnMoreFormat,s.a.learnMoreUpdateMachineManagementSolutionOnRunsPage,t.Monitor.UpgradeCdsSolution.AriaLabel)};case p.FailedToComputeMachineManagementSolution:return{type:n.c.error,text:t.Monitor.UpgradeCdsSolution.FailedToRetrieveOrgInfo};case p.ProblemLoadingPage:return{type:n.c.error,text:t.Monitor.ProblemLoadingPageErrorMessage};case d.FailToRetrieveParentRunId:return{type:n.c.error,text:t.Monitor.ProblemLoadingRunIdMessage};default:var r=e;return{type:n.c.info,text:r}}}},22274:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return a}));var n=50,i=30,o=3,a=15e3},22275:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(12324),i=r(11766),o=r.n(i),a=r(22276),s=r(21994),u=r(21993),l=r(22277),c=r(15431),p=r(22255),d=r(17276),m=r(13031),h=r(16833),f=r(17269),g=r(15990),y=e=>{var t,r,i,y,{onClose:v,onConfirmSelection:S,initialSelectedKeys:w=[]}=e,{flowServiceClientResources:O}=Object(h.a)(),C=O.Monitor.Runs.ParentFlowFilter,F=Object(p.d)({search:void 0,transform:b}),j=Object(l.a)({eventStartName:f.b.ParentFlowsFilterLoadCloudFlowsStart,eventEndName:f.b.ParentFlowsFilterLoadCloudFlowsEnd}),P=F.error||j.error,k=F.hasNextPage||j.hasNextPage,R=F.isLoading||j.isLoading,M=F.isFetchingNextPage||j.isFetchingNextPage,E=Object(n.uniqBy)([...Object(c.e)(null!==(t=null===(r=F.data)||void 0===r?void 0:r.pages)&&void 0!==t?t:[],null!==(i=null===(y=j.data)||void 0===y?void 0:y.pages)&&void 0!==i?i:[]),...w.map(e=>({key:e,displayName:e}))],e=>e.key);Object(a.b)(E);var N=P?Object(g.e)(O,P,O.SelectionPanel.FailedToLoadParentFlowsBase,O.SelectionPanel.FailedToLoadParentFlows):void 0,I=Object(m.a)(O.Monitor.Runs.SelectionPanel.HeaderText,O.ListHeader.ParentFlow);return o.a.createElement(u.b,{optionsList:E,initialSelectedKeys:w,headerText:I,emptyMessage:C.EmptyListMessage,selectionMode:s.a.MultiSelect,hideSelectAll:!0,onConfirm:S,onCancel:v,isLoading:R,messageBarProps:N,isLoadingMoreOptions:M,onLoadMore:k?()=>{d.a.announceAsyncOperation(Promise.all([F.hasNextPage&&F.fetchNextPage(),j.hasNextPage&&j.fetchNextPage()]),{start:()=>C.LoadMoreFlowsStartNarrator,end:()=>C.LoadMoreFlowsEndNarrator,error:()=>C.LoadMoreFlowsErrorNarrator})}:void 0,hasMoreMessage:k?C.HasMoreFlowsMessage:void 0})};function b(e){return{key:e.id,displayName:e.name}}},22277:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(14699),i=(r(14785),r(15983)),o=r(12324),a=r(11766),s=r.n(a),u=r(15923),l=r(13009),c=(r(15455),r(15402)),p=r(22278),d=r(22280),m=r(22281);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y={all:()=>["cloudflows"],endpointAware:e=>[...y.all(),e],collections:e=>[...y.endpointAware(e),"collections"],collection:(e,t)=>[...y.collections(e),t],cloudFlowSet:(e,t)=>[...y.collections(e),"cloudFlowSet",(t||[]).sort()]};var b=e=>function(e,t){var{currentEnvironmentName:r=""}=Object(n.F)(),{featureFlags:i}=Object(u.a)(),a=v({queryParams:m.b.personal(r,i),loggingOptions:e,toModel:t}),s=v({queryParams:m.b.shared(r,i),loggingOptions:e,toModel:t});return{isSuccess:a.isSuccess&&s.isSuccess,isLoading:a.isLoading||s.isLoading,isError:a.isError||s.isError,error:a.error||s.error,isFetchingNextPage:a.isFetchingNextPage||s.isFetchingNextPage,hasNextPage:a.hasNextPage||s.hasNextPage,fetchNextPage:()=>{var e;return Promise.resolve(null===(e=Object(o.minBy)([a,s].filter(e=>e.hasNextPage),e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.pages.length}))||void 0===e?void 0:e.fetchNextPage())},data:a.data&&s.data&&{pages:Object(o.zipWith)(a.data.pages,s.data.pages,(e,t)=>[...e||[],...t||[]])}}}(e,d.a);function v(e){var{queryParams:t,loggingOptions:r,toModel:o}=e,{flowHttpClient:a,loggingService:d}=Object(u.a)(),{currentEnvironmentName:h=""}=Object(n.F)(),g=a.getEndpointKey(h),b=s.a.useCallback(e=>f(f({},e),{},{pages:e.pages.map(e=>e.data.value.map(o))}),[o]);return Object(i.a)({queryKey:y.collection(g,t),queryFn:e=>{var{pageParam:n}=e;return Object(c.b)({loggingService:d,promise:Object(m.a)(a,t,h,n),eventStartName:r.eventStartName,eventEndName:r.eventEndName,eventData:f(f({},r.eventData),{},{pageNumber:(null==n?void 0:n.nextPageNumber)||1}),getStatus:r.getStatusOverride||l.y})},getNextPageParam:p.a,select:b})}},22278:function(e,t,r){"use strict";var n=r(22279);r.d(t,"a",(function(){return n.a}))},22279:function(e,t,r){"use strict";function n(e,t){var r,n=null===(r=e.data)||void 0===r?void 0:r.nextLink;return n?{nextLink:n,nextPageNumber:t.length+1}:void 0}r.d(t,"a",(function(){return n}))},22280:function(e,t,r){"use strict";function n(e){return{key:e.name,displayName:e.properties.displayName}}r.d(t,"a",(function(){return n}))},22281:function(e,t,r){"use strict";function n(e,t,r,n){return null!=n&&n.nextLink?e.getMoreFlows(n.nextLink,r):e.getCustomFilteredFlowList(t)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var i={personal:(e,t)=>({environmentName:e,filter:"search('personal')",shouldIncludeSolutionCloudFlows:t.enableSolutionFlowsForMyFlowsList}),shared:(e,t)=>({environmentName:e,filter:"search('team')",shouldIncludeSolutionCloudFlows:t.enableSolutionFlowsForMyFlowsList})}},22282:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(14844),i=r(14337),o=r(11766),a=r.n(o),s=r(16833),u=r(16744),l=r(22283),c=Object(i.c)(e=>{var t,r,{uiFlowRunId:i,canUseNoContextStore:o}=e,{uiFlowRunsStore:c,featureFlags:p,environmentStore:d,environmentCapabilityStore:m}=Object(s.a)();if(o&&Object(u.ab)(p,d,m)){var h=c.getUIFlowRunEntityNoContext(i);if(!h)return null;t=Object(n.j)(null===h.runmode?void 0:h.runmode),r=Object(n.k)(h.runsessionmode)}else{var f=c.getUIFlowRunEntityContext(i);if(!f||!f.context)return null;t=f.context.attendedMode,r=Object(n.k)(f.runsessionmode)}return a.a.createElement(l.a,{runSessionMode:r,runMode:t})}),p=(e,t)=>a.a.createElement(c,{uiFlowRunId:e,canUseNoContextStore:t})},22283:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(12743),i=r(14678),o=r(13271),a=r(11766),s=r.n(a),u=r(15918),l=r(22045),c=r(22251),p=r(16910),d=e=>e.runMode&&e.runSessionMode?s.a.createElement(m,{runMode:e.runMode,runSessionMode:e.runSessionMode}):s.a.createElement(l.a,{dataAutomationId:i.a.texts.attendedModeText}),m=e=>{var t=Object(u.a)(),{runMode:r,runSessionMode:a}=e,l=a&&r&&Object(c.c)(r,a,t),d=Object(n.a)("RunModeWithRunSessionMode");return s.a.createElement(p.a,{itemId:d,displayName:l,privateCellText:"",textAutomationId:i.a.texts.attendedModeText,additionalAttributes:{[o.e]:"".concat(e.runMode,"|").concat(e.runSessionMode)}})}},22284:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n,i=r(14337),o=r(11766),a=r(20120),s=r(16834),u=r(17269),l=r(22285);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var v=Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,r,n,i=m(s);function s(){var e;c(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call(this,...r)).onLinkClicked=()=>{e.props.telemetryService.tagEvent(u.b.DesktopFlowName_Clicked)},e}return t=s,(r=[{key:"render",value:function(){var{uiFlowRunId:e,flowStore:t,canUseNoContextStore:r}=this.props,n=this.props.uiFlowRunsStore.getUIFlowRunEntity(e,r,this.props),i=n&&n._regardingobjectid_value,s=i?t.flows.getEntity(i):void 0,u=(null==s?void 0:s.displayName)||i||a.a;return i?o.createElement(l.a,{desktopFlowId:i,displayName:u,onClick:this.onLinkClicked}):null}}])&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Component))||n,S=Object(s.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({routeCrafter:e.routeCrafter,flowStore:e.flowStore,uiFlowRunsStore:e.uiFlowRunsStore,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(v),w=(e,t,r)=>o.createElement(S,{uiFlowRunId:e,telemetryService:t,canUseNoContextStore:r})},22285:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(14678),i=r(11766),o=r.n(i),a=r(17141),s=r(16833),u=r(16889),l=r(16910),c=e=>{var{assetService:t,flowServiceClientResources:r,routeCrafter:i}=Object(s.a)(),c=Object(a.e)(i,{uiFlowId:e.desktopFlowId}),p=o.a.createElement(l.a,{itemId:e.desktopFlowId,displayName:e.displayName,isPrivate:void 0===e.displayName||null===e.displayName,imageIconProps:{src:t.desktopFlowIcon,title:r.Monitor.Common.Icons.DesktopFlowIconTitle},linkHref:e.disableLink?void 0:c,linkTarget:e.linkTarget,linkAutomationId:n.a.anchors.desktopFlowCellAnchor,tooltipAutomationId:n.a.tooltips.desktopFlowTooltip,onClick:e.onClick,privateCellText:r.Monitor.Features.DesktopFlowActivity.DesktopFlowDetailsWithTooltipLink.PrivateDesktopFlow});return e.actionMenuProps?o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},p,o.a.createElement(u.a,e.actionMenuProps)):p}},22286:function(e,t,r){"use strict";r.d(t,"a",(function(){return B}));var n,i=r(12862),o=r(14337),a=r(11766),s=r(17264),u=r(13009),l=r(19875),c=r(13272),p=r(14900),d=r(15998),m=r(14682),h=r(14877),f=r(15396),g=r(16834),y=r(22218),b=r(17269),v=r(22287),S=r(22289),w=r(22290),O=r(22273),C=r(16744),F=r(15427),j=r(16911),P=r(15455);function k(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,i)}function R(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){k(o,n,i,a,s,"next",e)}function s(e){k(o,n,i,a,s,"throw",e)}a(void 0)}))}}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=D(e);if(t){var i=D(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return I(this,r)}}function I(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var L=Object(o.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(o,e);var t,r,n,i=N(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).cancelCommandCorrelationId=void 0,t}return t=o,(r=[{key:"render",value:function(){var{uiFlowRunId:e}=this.props,t=U(e,this.props);return t?a.createElement(w.a,{flowName:t,runName:e,actions:H(this.props),overflowActions:G(this.props,this.cancelCommandCorrelationId),referenceDateForTimeAgo:this.props.referenceDateForTimeAgo,canUseNoContextStore:this.props.canUseNoContextStore}):null}}])&&M(t.prototype,r),n&&M(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(a.Component))||n,B=Object(g.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({controlCenterResources:e.controlCenterResources,environmentStore:e.environmentStore,featureFlags:e.featureFlags,flowStore:e.flowStore,loggingService:e.loggingService,machineManagementStore:e.machineManagementStore,uiFlowRunsStore:e.uiFlowRunsStore,environmentCapabilityStore:e.environmentCapabilityStore,routeCrafter:e.routeCrafter,surfaceStore:e.surfaceStore,navigationService:e.navigationService,uiFlowRunService:e.uiFlowRunService},t))(L);function W(e){return e.canUseNoContextStore&&Object(C.ab)(e.featureFlags,e.environmentStore,e.environmentCapabilityStore)}function H(e){var{flowStore:t,uiFlowRunId:r}=e,n=z(r,e),i=U(r,e);if(!t.flows.getEntity(i))return[];var o=[];if(n&&Object(h.g)(n.statuscode)){var a=function(e,t){var{controlCenterResources:r,machineManagementStore:n,routeCrafter:i,telemetryService:o}=e,a=Object(S.a)({uiFlowRunEntity:t,routeCrafter:i,machineManagementStore:n});if(!a)return;return{href:a,iconProps:{iconName:c.a.NumberedList},disabled:!1,key:l.a.uiFlowRunSeeInRunsQueue,name:r.Monitor.RunsPage.ContextualMenu.SeeInRunsQueueGA,onClick:()=>o.tagEvent(b.b.SeeInRunsQueue_Clicked),[m.a]:"uiFlowRun-seeInRunsQueue"}}(e,n);a&&o.push(a)}return o}function Q(){return(Q=R((function*(e,t,r){if(!r.uiFlowRunsStore.runs.isEntityErrored(t)){if(r.uiFlowRunsStore.runs.isEntitySuccess(t)){var n=r.uiFlowRunsStore.getUIFlowRunEntityContext(t);return null==n?void 0:n.context.parentWorkflowRunId}yield r.uiFlowRunService.loadUiFlowRun({flowName:e,environmentName:r.environmentStore.currentEnvironmentName,runName:t,forceRefresh:!1});var i=r.uiFlowRunsStore.getUIFlowRunEntityContext(t);return null==i?void 0:i.context.parentWorkflowRunId}}))).apply(this,arguments)}function G(e,t){var r,n,o,a,{uiFlowRunId:g,flowStore:S,hideSeeAllRunsInParentFlowRunAction:w,uiFlowRunsStore:C}=e,k=U(g,e),M=S.flows.getEntity(k);if(!M)return[];var E=()=>Promise.resolve(void 0);if(W(e)){var N=C.getUIFlowRunEntityNoContext(g);if(r=N,!N)return[];n=null==N.parentworkflowid?void 0:N.parentworkflowid,(o=Object(F.h)(N.triggertype))===s.d.apiFlow&&null!==N.parentcloudflowrunsequenceid&&(a=N.parentcloudflowrunsequenceid,E=()=>Promise.resolve(a)),o===s.d.desktopFlow&&n&&(E=()=>function(e,t,r){return Q.apply(this,arguments)}(k,g,e))}else{var I=C.getUIFlowRunEntityContext(g);if(r=I,!I)return[];n=I.context.parentWorkflowId,o=I.context.parentWorkflowType,a=I.context.parentWorkflowRunId}if(!r)return[];var D=!o||o===s.d.apiFlow,T=H(e),x=[];return W(e)?x.push(function(e,t,r,n){var i,{flowStore:o,controlCenterResources:a,telemetryService:u,routeCrafter:d,navigationService:h}=e,f=o.flows.getEntity(t),g=t?null===(i=o.flows.entities.getEntityStatus(t))||void 0===i?void 0:i.error:null,y=!!g&&Object(j.c)(g),v=!!g&&Object(P.e)(g),S=function(){var e=R((function*(){var e=yield r(),i=t&&e&&Object(p.n)(d,{solutionId:"",flowName:t,runName:e,isLegacyShared:!!f&&f.isLegacyShared,isUIFlow:n===s.d.desktopFlow});i&&h.navigate(i)}));return function(){return e.apply(this,arguments)}}();return{disabled:!t||y||v,iconProps:{iconName:c.a.Playback},key:l.a.uiFlowRunSeeParentDetails,name:a.Monitor.RunsPage.ContextualMenu.ParentFlowRun,onClick:()=>{u.tagEvent(b.b.ParentFlowRun_Clicked),S().catch(()=>{e.setStatusMessageBar(O.c.FailToRetrieveParentRunId)})},[m.a]:"parentFlow-runDetails"}}(e,n,E,o)):x.push(function(e,t,r,n){var i,{flowStore:o,controlCenterResources:a,telemetryService:u,routeCrafter:d}=e,h=o.flows.getEntity(t),f=t?null===(i=o.flows.entities.getEntityStatus(t))||void 0===i?void 0:i.error:null,g=!!f&&Object(j.c)(f),y=!!f&&Object(P.e)(f);return{disabled:!t||!r||g||y,href:t&&r&&Object(p.n)(d,{solutionId:"",flowName:t,runName:r,isLegacyShared:!!h&&h.isLegacyShared,isUIFlow:n===s.d.desktopFlow}),iconProps:{iconName:c.a.Playback},key:l.a.uiFlowRunSeeParentDetails,name:a.Monitor.RunsPage.ContextualMenu.ParentFlowRun,onClick:()=>u.tagEvent(b.b.ParentFlowRun_Clicked),[m.a]:"parentFlow-runDetails"}}(e,n,a,o)),w||(W(e)?x.push(function(e,t,r){var{controlCenterResources:n,telemetryService:i,routeCrafter:o,navigationService:a}=e,s=function(){var e=R((function*(){var e=yield r(),n=t&&e&&Object(d.S)(o,{parentFlowId:t,parentFlowRunId:e});n&&a.navigate(n)}));return function(){return e.apply(this,arguments)}}();return{disabled:!t,iconProps:{iconName:c.a.FastForward},key:l.a.uiFlowRunSeeAllUIFlowRunsFromParent,name:n.Monitor.RunsPage.ContextualMenu.SeeAllUIFlowRunsFromParentFlowRunGA,onClick:()=>{i.tagEvent(b.b.SeeAllUIFlowRunsFromParent_Clicked),s().catch(()=>{e.setStatusMessageBar(O.c.FailToRetrieveParentRunId)})},[m.a]:"uiFlowRun-SeeAllUIFlowRunsFromParent"}}(e,n,E)):x.push(function(e,t,r){var{controlCenterResources:n,telemetryService:i,routeCrafter:o}=e;return{disabled:!t||!r,href:t&&r&&Object(d.S)(o,{parentFlowId:t,parentFlowRunId:r}),iconProps:{iconName:c.a.FastForward},key:l.a.uiFlowRunSeeAllUIFlowRunsFromParent,name:n.Monitor.RunsPage.ContextualMenu.SeeAllUIFlowRunsFromParentFlowRunGA,onClick:()=>i.tagEvent(b.b.SeeAllUIFlowRunsFromParent_Clicked),[m.a]:"uiFlowRun-SeeAllUIFlowRunsFromParent"}}(e,n,a))),Object(h.g)(r.statuscode)&&D&&a&&n&&x.push(function(e,t,r,n,i,o){var{loggingService:a,setStatusMessageBar:s,onDismissCancelSurface:l}=e;return new v.a(e.surfaceStore,e.controlCenterResources).getCancelCommand(e.environmentStore.currentEnvironmentName,r,n,i,!Object(h.g)(t.statuscode),e=>{var t=Object(y.c)(e),r=t?u.e.Success:Object(u.y)(e);a.profileEnd(o,Object(f.a)(b.b.CancelParentFlowRun),r,Object(f.f)(e),{sourcePage:b.a.Runs}),s(t?O.b.CancelParentFlowAlreadyFinished:O.b.CancelParentFlowFailure)},()=>{a.profileEndWithSuccess(o,Object(f.a)(b.b.CancelParentFlowRun),{sourcePage:b.a.Runs}),s(O.b.CancelParentFlowSuccess)},l,()=>{o=a.profileStart(Object(f.c)(b.b.CancelParentFlowRun),{sourcePage:b.a.Runs})},()=>{e.telemetryService.tagEvent(b.b.CancelParentFlowRun_Clicked)})}(e,r,a,n,M.displayName,t)),x.length>0&&(T.push({key:l.a.divider1,itemType:i.a.Divider,[m.a]:l.a.divider1}),T.push(...x)),T}function U(e,t){var r=z(e,t);return r&&r._regardingobjectid_value}function z(e,t){return t.uiFlowRunsStore.getUIFlowRunEntity(e,t.canUseNoContextStore,t)}},22287:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(13272),i=r(14682),o=r(22288),a=r(16892);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.surfaceStore=t,this.controlCenterResources=r}var t,r,u;return t=e,(r=[{key:"getCancelCommand",value:function(e,t,r,s,u,l,c,p,d,m){return{iconProps:{iconName:n.a.Cancel},key:a.a.cancel,name:this.controlCenterResources.Monitor.RunsPage.ContextualMenu.CancelParentFlowRun,ariaLabel:"".concat(s," ").concat(this.controlCenterResources.Monitor.RunsPage.ContextualMenu.CancelParentFlowRun),disabled:u||!t||!r,onClick:()=>{m&&m(),t&&r&&Object(o.a)(this.surfaceStore,e,t,r,s,l,c,p,d)},[i.a]:"cancel-parentFlow-run"}}}])&&s(t.prototype,r),u&&s(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22288:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n,i,o=r(11773),a=r(14337),s=r(11766),u=r(12728),l=r(16834),c=r(12366),p=r(13009),d=r(13085),m=r(13240),h=r(13031),f=r(15497),g=r(14678);function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var R=Object(a.c)((F((i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(o,e);var t,r,n,i=w(o);function o(){var e;b(this,o);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call(this,...r)).onCancel=()=>{e.props.telemetryService.tagEvent(m.c.CancelFlowRunDialogCancelButtonClicked),e.dismiss()},e.onConfirm=()=>{var t={flowRunId:e.props.runName};e.props.telemetryService.tagEvent(m.c.CancelFlowRunDialogCancelButtonClicked,null,t);var r=e.props.loggingService.profileStart(d.a.cancelFlowRunRequestStart,t);e.props.flowRunsService.cancel({environmentName:e.props.environmentName,flowName:e.props.flowName,runName:e.props.runName,onStart:e.props.onCancelStart,onError:e.props.onError,onSuccess:e.props.onSuccess}).then(()=>{e.successfulCancel(r,t)}).catch(n=>{var i=Object(p.y)(n);e.props.loggingService.profileEnd(r,d.a.cancelFlowRunRequestEnd,i,n,t),e.dismiss()})},e.dismiss=()=>{e.props.dismiss(),e.props.onDismiss&&e.props.onDismiss()},e}return t=o,(r=[{key:"render",value:function(){return s.createElement(f.b,{hidden:!1,maxWidth:c.G,primaryButtonProps:this.primaryButtonProps,secondaryButtonProps:this.secondaryButtonProps,subText:Object(h.a)(this.props.clientResources.Dialogs.CancelFlowRun.ContentGA,this.props.flowDisplayName),title:this.props.clientResources.Dialogs.CancelFlowRun.Header,onDismiss:this.dismiss,automationId:g.a.dialogs.cancelFlowRunDialog.root})}},{key:"primaryButtonProps",get:function(){return{text:this.props.clientResources.Dialogs.CancelFlowRun.Button.CancelAction,onClick:this.onCancel,dataAutomationId:g.a.dialogs.cancelFlowRunDialog.cancelButton}}},{key:"secondaryButtonProps",get:function(){return{text:this.props.clientResources.Dialogs.CancelFlowRun.Button.ConfirmAction,onClick:this.onConfirm,dataAutomationId:g.a.dialogs.cancelFlowRunDialog.confirmButton}}},{key:"successfulCancel",value:function(e,t){this.props.loggingService.profileEndWithSuccess(e,d.a.cancelFlowRunRequestEnd,t),this.dismiss()}}])&&v(t.prototype,r),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.Component)).prototype,"primaryButtonProps",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"primaryButtonProps"),i.prototype),F(i.prototype,"secondaryButtonProps",[o.computed],Object.getOwnPropertyDescriptor(i.prototype,"secondaryButtonProps"),i.prototype),n=i))||n,M=Object(l.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({clientResources:e.clientResources,flowRunsService:e.flowRunsService,loggingService:e.loggingService,telemetryService:e.telemetryService},t))(R);function E(e,t,r,n,i,o,a,l,c){e.spawn({key:Object(u.a)("cancel-flow-surface"),render:e=>s.createElement(M,y({runName:r,flowName:n,flowDisplayName:i,environmentName:t,onError:o,onSuccess:a,onDismiss:l,onCancelStart:c},e))})}},22289:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(15998),i=r(16841);function o(e){var{uiFlowRunEntity:t,routeCrafter:r,machineManagementStore:o}=e;if(t._machinegroupid_value){var a=o.machineGroups.getEntity(t._machinegroupid_value);if(a){if(a.properties.type===i.j.Default&&t._machineid_value)return Object(n.O)(r,{machineName:t._machineid_value});if(a.properties.type!==i.j.Default)return Object(n.J)(r,{machineGroupName:t._machinegroupid_value})}}}},22290:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(16834),i=r(22291);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=Object(n.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({dateTimeResources:e.dateTimeResources,telemetryService:e.telemetryService,uiFlowRunsStore:e.uiFlowRunsStore,flowStore:e.flowStore,featureFlags:e.featureFlags,routeCrafter:e.routeCrafter,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(i.a)},22291:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n,i,o=r(12754),a=r(14678),s=r(14337),u=r(11766),l=r(11773),c=r(12367),p=r(20357),d=r(20127),m=r(12375),h=r(14900),f=r(14346),g=r(13240);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F,j,P,k,R,M,E=Object(s.c)((i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(s,e);var t,r,n,i=w(s);function s(){var e;y(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call(this,...r)).onClickRun=()=>{var{flowName:t,solutionId:r}=e.props;e.props.telemetryService.tagEvent(g.c.FlowRunHistoryRunClicked,{isUIFlow:!0,flowName:t,solutionId:r})},e.linkStyle={root:{selectors:{"&.is-disabled:hover":{color:Object(o.Y)().palette.neutralTertiary}}}},e}return t=s,(r=[{key:"render",value:function(){var{dateTimeResources:e,runName:t,flowName:r,flowStore:n,disableLink:i}=this.props,o=t&&this.props.uiFlowRunsStore.getUIFlowRunEntity(t,this.props.canUseNoContextStore,this.props),s=r?n.flows.getEntity(r):void 0,l=i||(null==s?void 0:s.uiFlowType)!==c.q.DesktopV2;if(!o)return null;var h=u.createElement(p.a,{dateTimeResources:e,iso:o.createdon,locale:Object(m.a)(),referenceDateForTimeAgo:this.props.referenceDateForTimeAgo});return this.props.actions||this.props.overflowActions?u.createElement(d.a,{id:this.props.runName,actions:this.props.actions||[],overflowActions:this.props.overflowActions||[],href:this.runLink,title:"",linkContent:h,onClick:this.onClickRun,linkDisabled:l,styles:this.linkStyle,automationId:a.a.anchors.runRequestedTimeCellAnchor}):u.createElement(f.a,{styles:this.linkStyle,href:this.runLink,onClick:this.onClickRun,disabled:l,dataAutomationId:a.a.anchors.runRequestedTimeCellAnchor},h)}},{key:"runLink",get:function(){var{flowName:e,solutionId:t,runName:r,routeCrafter:n}=this.props;return Object(h.n)(n,{solutionId:t,flowName:e,runName:r,isLegacyShared:!1,isUIFlow:!0})}}])&&b(t.prototype,r),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(u.Component),F=i.prototype,j="runLink",P=[l.computed],k=Object.getOwnPropertyDescriptor(i.prototype,"runLink"),R=i.prototype,M={},Object.keys(k).forEach((function(e){M[e]=k[e]})),M.enumerable=!!M.enumerable,M.configurable=!!M.configurable,("value"in M||M.initializer)&&(M.writable=!0),M=P.slice().reverse().reduce((function(e,t){return t(F,j,e)||e}),M),R&&void 0!==M.initializer&&(M.value=M.initializer?M.initializer.call(R):void 0,M.initializer=void 0),void 0===M.initializer&&(Object.defineProperty(F,j,M),M=null),n=i))||n},22292:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(20119),i=r(16834);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=Object(i.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({flowServiceClientResources:e.flowServiceClientResources,machineManagementStore:e.machineManagementStore,uiFlowRunsStore:e.uiFlowRunsStore,routeCrafter:e.routeCrafter,telemetryService:e.telemetryService,featureFlags:e.featureFlags,assetService:e.assetService,environmentCapabilityStore:e.environmentCapabilityStore,environmentStore:e.environmentStore},t))(n.a)},22293:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n,i=r(14337),o=r(11766),a=r(16834),s=r(22294),u=r(20120);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var b=Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,r,n,i=d(a);function a(){return l(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var{uiFlowRunId:e}=this.props,t=this.props.uiFlowRunsStore.getUIFlowRunEntity(e,!0,this.props);return t&&t._machinegroupid_value?o.createElement(s.a,{machineGroupName:t._machinegroupid_value}):u.a}}])&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component))||n,v=Object(a.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({clientResources:e.clientResources,uiFlowRunsStore:e.uiFlowRunsStore,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(b)},22294:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(16834),i=r(22295);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=Object(n.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({flowServiceClientResources:e.flowServiceClientResources,machineManagementStore:e.machineManagementStore,routeCrafter:e.routeCrafter,telemetryService:e.telemetryService,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore,assetService:e.assetService,neptuneStore:e.neptuneStore},t))(i.a)},22295:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(11766),i=r.n(n),o=r(20139),a=r(15950),s=r(15920);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=e=>{var t,r,{isEnabled:n}=Object(s.a)(),l=e.featureFlags.enableReadingOverageFromCapacityAssignment&&n&&(null===(t=e.shouldRetrieveCapacityAssignment)||void 0===t||t),{data:c}=Object(a.b)(e.machineGroupName,{enabled:l}),p=(null!==(r=null==c?void 0:c.capacityOverage)&&void 0!==r?r:0)>0,d=l&&p;return i.a.createElement(o.a,u({},e,{isCapacityAssignmentEnabled:l,hasOverageFromCapacityAssignment:d}))}},22296:function(e,t,r){"use strict";r.d(t,"a",(function(){return P}));var n,i=r(14678),o=r(13271),a=r(14844),s=r(14337),u=r(11766),l=r(16834),c=r(20120),p=r(13260),d=r(16744),m=r(22251);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=S(e);if(t){var i=S(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var F=Object(s.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,e);var t,r,n,s=b(l);function l(){return f(this,l),s.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e,{uiFlowRunsStore:t,uiFlowRunId:r,canUseNoContextStore:n}=this.props;if(n&&Object(d.ab)(this.props.featureFlags,this.props.environmentStore,this.props.environmentCapabilityStore)){var s=t.getUIFlowRunEntityNoContext(r);if(!s)return null;e=Object(a.j)(null===s.runmode?void 0:s.runmode)||""}else{var l=t.getUIFlowRunEntityContext(r);if(!l||!l.context)return null;e=l.context.attendedMode||""}var f=Object(m.a)(e,this.props.controlCenterResources),g=f;f||(f=c.a);var y={[o.e]:e};return u.createElement(p.b,{id:"UiFlowRunMethodCell-".concat(r),text:g,automationId:i.a.tooltips.runModeTooltip},u.createElement("span",h({"data-automation-id":i.a.texts.runModeText},y),f))}}])&&g(t.prototype,r),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(u.Component))||n,j=Object(l.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({controlCenterResources:e.controlCenterResources,uiFlowRunsStore:e.uiFlowRunsStore,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(F),P=(e,t)=>u.createElement(j,{uiFlowRunId:e,canUseNoContextStore:t})},22297:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n,i=r(14337),o=r(11766),a=r(20357),s=r(12375),u=r(16834),l=r(20120);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=f(e);if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var v=Object(i.c)(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,r,n,i=m(u);function u(){return c(this,u),i.apply(this,arguments)}return t=u,(r=[{key:"render",value:function(){var{dateTimeResources:e,uiFlowRunId:t,referenceDateForTimeAgo:r}=this.props,n=this.props.uiFlowRunsStore.getUIFlowRunEntity(t,!0,this.props);return n&&n.startedon?o.createElement(a.a,{dateTimeResources:e,iso:n.startedon,locale:Object(s.a)(),referenceDateForTimeAgo:r}):l.a}}])&&p(t.prototype,r),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.Component))||n,S=Object(u.b)((e,t)=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({dateTimeResources:e.dateTimeResources,uiFlowRunsStore:e.uiFlowRunsStore,featureFlags:e.featureFlags,environmentStore:e.environmentStore,environmentCapabilityStore:e.environmentCapabilityStore},t))(v)},22298:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var n=r(15657),i=r(20654),o=r(12706),a=r(11766),s=r(20353),u=r(14972),l=r(15524),c=r(13272),p=r(12375),d=r(14918),m=r(19934),h=r(17276),f=r(13031),g=r(16834),y=r(17269),b=r(22299);function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var r,n=C(e);if(t){var i=C(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(C,e);var t,r,g,O=w(C);function C(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),(t=O.call(this,e)).getClassNames=Object(o.a)(),t.datePickerStrings=Object(m.a)(t.props.clientResources,Object(p.a)()),t.firstTime=new Date("2021-02-02 00:00:00Z"),t.onFromDateChanged=e=>{t.setState(r=>{if(!e)return j(j({},r),{},{fromDate:void 0,fromTime:t.firstTime});var n=r.toDate&&r.toDate<e?e:r.toDate,i=n&&n.getTime()===e.getTime()&&r.toTime.getTime()<r.fromTime.getTime()?r.fromTime:r.toTime;return j(j({},r),{},{fromDate:e,toDate:n,toTime:i})}),t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneFromDate_Selected)},t.onFromTimeChanged=(e,r)=>{e.preventDefault(),t.setState(e=>{var t=e.toDate&&e.fromDate&&r&&e.toDate.getTime()===e.fromDate.getTime()&&e.toTime.getTime()<=r.getTime()?r:e.toTime;return{fromTime:r,toTime:t}}),t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneFromTimeOption_Selected)},t.onToDateChanged=e=>{t.setState(r=>{if(!e)return j(j({},r),{},{toDate:void 0,toTime:t.firstTime});var n=r.fromDate&&e.getTime()===r.fromDate.getTime()&&r.toTime.getTime()<=r.fromTime.getTime()?r.fromTime:r.toTime;return j(j({},r),{},{toDate:e,toTime:n})}),t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneToDate_Selected)},t.onToTimeChanged=(e,r)=>{r&&(e.preventDefault(),t.setState({toTime:r}),t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneToTimeOption_Selected))},t.onFormatDate=e=>e?e.toLocaleDateString(Object(p.a)(),{day:"numeric",month:"numeric",year:"2-digit"}):"",t.onFormatTime=e=>e?e.toLocaleTimeString(Object(p.a)(),{timeStyle:"short"}):"",t.onConfirm=()=>{var e=t.state.fromDate&&new Date(new Date(t.state.fromDate).setHours(t.state.fromTime.getHours(),t.state.fromTime.getMinutes(),t.state.fromTime.getSeconds(),t.state.fromTime.getMilliseconds())),r=t.state.toDate&&new Date(new Date(t.state.toDate).setHours(t.state.toTime.getHours(),t.state.toTime.getMinutes(),t.state.toTime.getSeconds(),t.state.toTime.getMilliseconds()));t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneApplyButton_Clicked,{fromDate:e&&e.toISOString(),toDate:r&&r.toISOString()}),t.props.onConfirm(e,r)},t.onCancel=()=>{t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneCancelButton_Clicked),t.props.onCancel()},t.onClearFilter=()=>{t.setState({fromDate:void 0,fromTime:t.firstTime,toDate:void 0,toTime:t.firstTime}),t.props.telemetryService.tagEvent(y.b.FilterByTriggeredDatePaneClearFilterButton_Clicked),h.a.announce(t.props.controlCenterResources.Monitor.RunsPage.Headers.TriggeredDate.FilterByTriggeredDatePane.ClearFilterButtonNarrator)},t.footerButtons=[{primary:!0,text:t.props.controlCenterResources.Monitor.RunsPage.Headers.TriggeredDate.FilterByTriggeredDatePane.ApplyButton,onClick:t.onConfirm},{primary:!1,text:t.props.controlCenterResources.Monitor.RunsPage.Headers.TriggeredDate.FilterByTriggeredDatePane.CancelButton,onClick:t.onCancel}],t.state={fromDate:e.fromValue&&new Date(new Date(e.fromValue).setHours(0,0,0,0)),fromTime:e.fromValue||t.firstTime,toDate:e.toValue&&new Date(new Date(e.toValue).setHours(0,0,0,0)),toTime:e.toValue||t.firstTime},t}return t=C,(r=[{key:"render",value:function(){var e=this.getClassNames(b.a),t=this.props.controlCenterResources.Monitor.RunsPage.Headers.TriggeredDate.FilterByTriggeredDatePane;return a.createElement("div",null,a.createElement("h3",{className:e.header},t.Header),a.createElement("div",{className:e.formInputsSection},a.createElement(l.a,{text:t.FromLabel}),a.createElement("div",{className:e.dateTimeFormInput},a.createElement(n.a,{ariaLabel:t.FromDate.AriaLabel,className:e.dateFormInputElement,formatDate:this.onFormatDate,onSelectDate:this.onFromDateChanged,value:this.state.fromDate,disableAutoFocus:!0,strings:this.datePickerStrings,dateTimeFormatter:{formatDay:e=>e.toLocaleDateString("en-US",{day:"numeric"}),formatMonthDayYear:e=>e.toLocaleDateString(Object(p.a)(),{day:"numeric",month:"numeric",year:"2-digit"}),formatMonth:e=>e.toLocaleDateString(Object(p.a)(),{month:"short"}),formatMonthYear:e=>e.toLocaleDateString(Object(p.a)(),{year:"numeric",month:"short"}),formatYear:e=>e.toLocaleDateString(Object(p.a)(),{year:"numeric"})}}),a.createElement("div",{className:e.dateTimeFormInputAtLabel},t.AtLabel),a.createElement(i.a,{styles:{container:{width:"120px"}},useHour12:!1,allowFreeform:!0,ariaLabel:this.state.fromDate?Object(f.a)(t.FromTime.AriaLabel,Object(d.q)(this.state.fromDate,Object(p.a)())):t.FromTimeEmptyDate.AriaLabel,disabled:!this.state.fromDate,onChange:this.onFromTimeChanged,defaultValue:this.props.fromValue||this.firstTime,useComboBoxAsMenuWidth:!0,onFormatDate:this.onFormatTime,increments:15})),a.createElement(l.a,{text:t.ToLabel}),a.createElement("div",{className:e.dateTimeFormInput},a.createElement(n.a,{ariaLabel:t.ToDate.AriaLabel,className:e.dateFormInputElement,minDate:this.state.fromDate,formatDate:this.onFormatDate,onSelectDate:this.onToDateChanged,value:this.state.toDate,disableAutoFocus:!0,strings:this.datePickerStrings,dateTimeFormatter:{formatDay:e=>e.toLocaleDateString("en-US",{day:"numeric"}),formatMonthDayYear:e=>e.toLocaleDateString(Object(p.a)(),{day:"numeric",month:"numeric",year:"2-digit"}),formatMonth:e=>e.toLocaleDateString(Object(p.a)(),{month:"short"}),formatMonthYear:e=>e.toLocaleDateString(Object(p.a)(),{year:"numeric",month:"short"}),formatYear:e=>e.toLocaleDateString(Object(p.a)(),{year:"numeric"})}}),a.createElement("div",{className:e.dateTimeFormInputAtLabel},t.AtLabel),a.createElement(i.a,{styles:{container:{width:"120px"}},useHour12:!1,allowFreeform:!0,disabled:!this.state.toDate,ariaLabel:this.state.toDate?Object(f.a)(t.ToTime.AriaLabel,Object(d.q)(this.state.toDate,Object(p.a)())):t.ToTimeEmptyDate.AriaLabel,onChange:this.onToTimeChanged,defaultValue:this.props.toValue||this.firstTime,useComboBoxAsMenuWidth:!0,onFormatDate:this.onFormatTime,increments:15}))),a.createElement("hr",null),a.createElement("div",{className:e.footer},a.createElement(s.a,{text:t.ClearFilterButton,onClick:this.onClearFilter,iconName:c.a.ClearFilter,styles:{root:{padding:0}}}),a.createElement("div",{className:e.actionButtonsContainer},a.createElement(u.a,{buttons:this.footerButtons,isRightAligned:!0}))))}}])&&v(t.prototype,r),g&&v(t,g),Object.defineProperty(t,"prototype",{writable:!1}),C}(a.Component),M=Object(g.b)((e,t)=>j({appSettings:e.appSettings,clientResources:e.clientResources,controlCenterResources:e.controlCenterResources,dateTimeResources:e.dateTimeResources},t))(R)},22299:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=e=>({actionButtonsContainer:["fl-FilterByTriggeredDatePane-actionButtonsContainer",{textAlign:"right",paddingTop:16}],dateTimeFormInput:["fl-FilterByTriggeredDatePane-dateTimeFormInput",{display:"flex",justifyContent:"space-between",alignItems:"center"}],dateFormInputElement:["fl-FilterByTriggeredDatePane-dateTimeFormInputElement",{"&.ms-DatePicker":{minWidth:90},"&.ms-ComboBox-container":{minWidth:100},maxWidth:110}],dateTimeFormInputAtLabel:["fl-FilterByTriggeredDatePane-dateTimeFormInputAtLabel",{padding:"0 13px"}],footer:["fl-FilterByTriggeredDatePane-footer",{paddingLeft:"8px",paddingRight:"8px"}],formInputsSection:["fl-FilterByTriggeredDatePane-formInputsSection",{paddingLeft:"8px",paddingRight:"8px",paddingBottom:"20px"}],header:["fl-FilterByTriggeredDatePane-header",{padding:"0 0 0 ".concat("8px"),fontSize:14,fontWeight:600,lineHeight:30}]})},22300:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(14844),i=r(11766),o=r.n(i),a=r(15918),s=r(22301),u=r(22251),l=r(13031),c=r(22237),p=e=>{var{onClose:t,onConfirmSelection:r,initialSelectedKeys:i=[]}=e,p=Object(a.a)(),d=Object(l.a)(p.Monitor.Runs.SelectionPanel.HeaderText,p.ListHeader.RunMethod),m=[{value:n.c.Unspecified,content:p.Monitor.Filter.EmptyOption},{value:n.c.Unattended,content:Object(u.a)(n.c.Unattended,p)},{value:n.c.Attended,content:Object(u.a)(n.c.Attended,p)},{value:Object(c.c)(n.c.Attended,n.e.Default),parentValue:n.c.Attended,content:Object(u.d)(n.e.Default,p)},{value:Object(c.c)(n.c.Attended,n.e.PictureInPicture),parentValue:n.c.Attended,content:Object(u.d)(n.e.PictureInPicture,p)},{value:n.c.LocalAttended,content:Object(u.a)(n.c.LocalAttended,p)},{value:Object(c.c)(n.c.LocalAttended,n.e.Default),parentValue:n.c.LocalAttended,content:Object(u.d)(n.e.Default,p)},{value:Object(c.c)(n.c.LocalAttended,n.e.PictureInPicture),parentValue:n.c.LocalAttended,content:Object(u.d)(n.e.PictureInPicture,p)}];return o.a.createElement(s.a,{headerText:d,ariaLabel:"",onConfirm:r,onClose:t,items:m,defaultOpenedItems:[n.c.Attended,n.c.LocalAttended],initialSelection:i,isLoading:!1})}},22301:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r(12706),i=r(13243),o=r(13242),a=r(16e3),s=r(14678),u=r(11766),l=r.n(u),c=r(15918),p=r(15923),d=r(15431),m=r(14682),h=r(17276),f=r(16862),g=r(22302),y=r(16890),b=r(13272),v=r(21995),S=["content"];function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var C=function(e){return e.SelectionPanelWithSelectableTreeApplyButtonClicked="SelectionPanelWithSelectableTreeApplyButtonClicked",e.SelectionPanelWithSelectableTreeDismissed="SelectionPanelWithSelectableTreeDismissed",e.SelectionPanelWithSelectableTreeCancelButtonClicked="SelectionPanelWithSelectableTreeCancelButtonClicked",e.SelectionPanelWithSelectableTreeCheckBoxClicked="SelectionPanelWithSelectableTreeCheckBoxClicked",e.SelectionPanelWithSelectableTreeClearAllClicked="SelectionPanelWithSelectableTreeClearAllClicked",e}(C||{}),F=Object(n.a)();function j(e){var{ariaLabel:t,items:r=[],initialSelection:n=[],defaultOpenedItems:j=[],onClose:P,onConfirm:k,headerText:R,isSaving:M,isLoading:E}=e,{telemetryService:N}=Object(p.a)(),{SelectionPanel:I}=Object(c.a)(),[D,T]=Object(u.useState)(()=>{var e=new Map;return n.forEach(t=>{var i=r.find(e=>e.value===t);i&&(e.set(t,!0),i.parentValue&&!n.some(e=>e===i.parentValue)&&e.set(i.parentValue,"mixed"))}),e}),x=s.a.sidePanels.selectionSidePanel,A=[];D.forEach((e,t)=>{!0===e&&A.push(t.toString())});var L=!Object(d.b)(n,A),B=Object(a.Eb)(r,{defaultOpenItems:j,checkedItems:D,selectionMode:"multiselect",onCheckedChange:(e,t)=>{N.tagEvent(C.SelectionPanelWithSelectableTreeCheckBoxClicked),T(t.checkedItems)}}),W=()=>{N.tagEvent(C.SelectionPanelWithSelectableTreeClearAllClicked),T(new Map),h.a.announce(I.ClearAll.Narrator)},H=F(v.a);return l.a.createElement(g.a,{title:R,automationId:x.root,closePanel:()=>{P(),N.tagEvent(C.SelectionPanelWithSelectableTreeDismissed)},listComponent:e=>r.length>0?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(y.a,{className:H.filterSelectionButton,text:I.ClearAll.Text,ariaLabel:I.ClearAll.Text,onClick:W,iconName:b.a.ClearFilter,disabled:E||0===r.length&&0===A.length,dataAutomationId:x.clearSelectionButton})),l.a.createElement(a.F,w({},B.getTreeProps(),{"aria-label":t,automationId:x.groupsList}),Array.from(B.items(),e=>{var t=e.getTreeItemProps(),{content:r}=t,n=O(t,S);return l.a.createElement(a.G,w({},n,{key:e.value,automationId:e.value.toString()}),l.a.createElement(a.yb,null,r))}))):l.a.createElement(f.a,e),footerButtons:[Object(m.b)(x.applyFooterButton,{onRenderText:()=>M?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{size:o.a.small,styles:{root:{display:"inline-block",verticalAlign:"bottom",marginRight:8}}}),I.Saving.Text):l.a.createElement(l.a.Fragment,null,I.Apply.Text),ariaLabel:M?I.Saving.AriaLabel:I.Apply.AriaLabel,dismissableOnClick:()=>{N.tagEvent(C.SelectionPanelWithSelectableTreeApplyButtonClicked),h.a.announce(I.Apply.Narrator),k(A),P()},disabled:E||!L||M,primary:!0,key:"apply"}),Object(m.b)(x.cancelFooterButton,{text:I.Cancel.Text,ariaLabel:I.Cancel.AriaLabel,dismissableOnClick:()=>{N.tagEvent(C.SelectionPanelWithSelectableTreeCancelButtonClicked),P()},disabled:M,key:"cancel"})]})}},22303:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(14678),i=r(14337),o=r(11766),a=r.n(o),s=r(20120),u=r(16833),l=r(21006),c=Object(i.c)(e=>{var{uiFlowRunId:t}=e,{uiFlowRunsStore:r,featureFlags:i,environmentStore:o,environmentCapabilityStore:c}=Object(u.a)(),p=r.getUIFlowRunEntity(t,!0,{featureFlags:i,environmentStore:o,environmentCapabilityStore:c});return p&&p.sessionusername?a.a.createElement(l.a,{text:p.sessionusername,textAutomationId:n.a.texts.machineUserNameText}):a.a.createElement("span",{"data-automation-id":n.a.texts.machineUserNameText},s.a)})},22304:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e.flowmachine_id="flowmachine_id",e.machinehostingtype="machinehostingtype",e.machinename="machinename",e.machinedescription="machinedescription",e.machineversion="machineversion",e.statuscode="statuscode",e.totalcount="totalcount",e.modifiedon="modifiedon",e.keydeliverystatus="keydeliverystatus",e.hostedmachineerror="hostedmachineerror",e}({})},22305:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e.ownerFullName="ownerFullName",e.ownerAadOid="ownerAadOid",e.ownerSystemId="ownerSystemId",e.ownerIsDisabled="ownerIsDisabled",e.ownerIsLicensed="ownerIsLicensed",e.ownerEmail="ownerEmail",e}({})},22306:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e.machinegroup_id="machinegroup_id",e.machinegroupname="machinegroupname",e.machinegroupdescription="machinegroupdescription",e.machinegroupmachinescount="machinegroupmachinescount",e.machinegrouptype="machinegrouptype",e.machinegroupmanagementtype="machinegroupmanagementtype",e.modifiedon="modifiedon",e.totalcount="totalcount",e.statuscode="statuscode",e.primarykeypackage="primarykeypackage",e.maxmanagedmachinecount="maxmanagedmachinecount",e.provisioningstate="provisioningstate",e.provisioningerror="provisioningerror",e.committedBots="committedBots",e.vmImageDeprecationDate="vmImageDeprecationDate",e}({})},22307:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(22226).a)},22308:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(22030),i=r(20903),o=r(15332),a=r(20904),s=r(22309),u=r(14325),l=r(17448),c=r(13087),p=r(15464),d=new n.a(Object(u.b)(),s.a,i.a,l.a,c.a,o.a,p.a,a.a)},22309:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(20720),i=r(15460),o=r(12345),a=r(15459),s=r(12999),u=new n.a(i.b,Object(s.a)(),o.a,a.a)},22310:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=r(22311),i=r(12999),o=r(15459),a=r(12345),s=r(20904),u=r(22317),l=r(22323),c=r(17213),p=r(17448),d=r(13087),m=r(20988),h=r(20995),f=r(21021),g=new n.a(u.a,l.a,s.a,h.a,p.a,d.a,c.a,m.a,f.a,Object(i.a)(),o.a,a.a)},22311:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var n=r(22312),i=r(12362),o=r.n(i),a=r(12364),s=r(13009),u=r(15422),l=r(15992),c=r(15431),p=r(15388),d=r(16744),m=r(15395),h=r(15400),f=r(20992),g=r(22313),y=r(22316),b=r(22314);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function C(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var F=function(){function e(t,r,i,o,a,l,c,d,m,h,f,g){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpClient=t,this.store=r,this.xrmIdentityStore=i,this.xrmIdentityService=o,this.graphService=a,this.flowService=c,this.uiFlowService=d,this.xrmMachineManagementService=m,this.featureFlags=h,this.environmentCapabilityStore=f,this.environmentStore=g,this.entityManagerServiceHelper=void 0,this.getWorkQueueItemStateErrorStatus=e=>Object(u.o)(e)?s.e.Warning:Object(s.y)(e),this.getWorkQueueItemSlaStatusErrorStatus=e=>Object(u.o)(e)?s.e.Warning:Object(s.y)(e),this.toWorkQueue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{id:e.workqueueid,displayName:e.name,description:e.description,ownerId:t||e.owninguser,stateCode:e.statecode,statusCode:e.statuscode,modifiedOn:e.modifiedon,createdOn:e.createdon,modifiedById:r||e._modifiedby_value,defaultItemTimeToLiveInMinutes:e.defaultitemtimetoliveinminutes,workQueueKey:e.workqueuekey,componentState:e.componentstate,overwriteTime:e.overwritetime,inputSchema:e.inputschema||null,inputSchemaType:void 0===e.inputschematype?n.f.NoSchema:e.inputschematype,isManaged:e.ismanaged,isCustomizable:e.iscustomizable,solutionId:e.solutionid||null,itemMaxRequeueCount:e.itemmaxrequeuecount,itemMaxRetryCount:e.itemmaxretrycount,allowUpdateInputWhileProcessing:void 0===e.allowupdateinputwhileprocessing?n.a.NotSet:e.allowupdateinputwhileprocessing,slaThresholdInPercentage:e.slathresholdinpercentage}},this.toWorkQueueAndLoadThumbnails=e=>{var t,r,n=null===(t=e.owninguser)||void 0===t?void 0:t.systemuserid;n&&this.populateOwnerAndFetchThumbnails(e.owninguser);var i=null===(r=e.modifiedby)||void 0===r?void 0:r.systemuserid;return i&&this.populateOwnerAndFetchThumbnails(e.modifiedby),this.toWorkQueue(S(S({},e),{},{owninguser:n}),n,i)},this.entityManagerServiceHelper=new p.a(l)}var t,r,i;return t=e,(r=[{key:"fetchWorkQueue",value:function(e,t){return this.entityManagerServiceHelper.fetchEntity(this.store.workQueues,e,()=>this.httpClient.fetchWorkQueue(e).then(e=>this.toWorkQueueAndLoadThumbnails(e.data)),"fetchWorkQueue",f.b.FetchWorkQueue,f.a.WorkQueueDetails,t,void 0,l.i)}},{key:"fetchWorkQueuesList",value:function(e,t){var r=y.a.getWorkQueueCollectionKey(e);return this.entityManagerServiceHelper.fetchCollection(this.store.workQueues,r,()=>this.httpClient.fetchWorkQueueList(e).then(e=>{var t,r;return{value:((null===(t=e.data)||void 0===t?void 0:t.value)||[]).map(this.toWorkQueueAndLoadThumbnails),nextLink:null===(r=e.data)||void 0===r?void 0:r.nextLink}}),"fetchWorkQueuesList",f.b.FetchWorkQueueList,f.a.WorkQueueList,t,e=>{var t;if(this.fetchWorkQueuesItemsCountPerState((null==e||null===(t=e.value)||void 0===t?void 0:t.map(e=>e.id))||[]),Object(d.wb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)){var r,n=(null==e||null===(r=e.value)||void 0===r?void 0:r.filter(e=>null!=e.slaThresholdInPercentage))||[];this.fetchWorkQueuesItemsCountPerSlaStatus(n.map(e=>e.id))}})}},{key:"fetchMoreWorkQueues",value:function(e){var t=this.store.workQueues.getCollection(e),r=null==t?void 0:t.nextLink;return r?this.entityManagerServiceHelper.fetchCollection(this.store.workQueues,e,()=>this.httpClient.fetchMoreWorkQueues(r).then(e=>{var t,r;return{value:((null===(t=e.data)||void 0===t?void 0:t.value)||[]).map(this.toWorkQueueAndLoadThumbnails),nextLink:null===(r=e.data)||void 0===r?void 0:r.nextLink}}),"fetchMoreWorkQueues",f.b.FetchMoreWorkQueues,f.a.WorkQueueList,!0,e=>{var t;if(this.fetchWorkQueuesItemsCountPerState((null==e||null===(t=e.value)||void 0===t?void 0:t.map(e=>e.id))||[]),Object(d.wb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)){var r,n=(null==e||null===(r=e.value)||void 0===r?void 0:r.filter(e=>null!=e.slaThresholdInPercentage))||[];this.fetchWorkQueuesItemsCountPerSlaStatus(n.map(e=>e.id))}},{resetList:!1}):Promise.reject("No more items")}},{key:"fetchWorkQueuesItemsCountPerState",value:function(e){var t=[g.c.Queued,g.c.Processing,g.c.Processed,g.c.OnHold,g.c.Exception];this.isNewStatusesEnabled&&(t.push(g.c.ITException),t.push(g.c.BusinessException)),this.isTimeoutEnabled&&t.push(g.c.ProcessingTimeout),t.push(g.c.ComputedExpired);var r=[];return t.forEach(t=>{e.forEach(e=>{r.push(y.a.GetWorkQueueItemStateCountEntityKey(e,t))})}),this.entityManagerServiceHelper.batchFetchEntity(this.store.workQueueItemStateCounts,r,e=>{var t=e.map(e=>y.a.ParseWorkQueueItemStateCountEntityKey(e)).filter(h.a);return this.httpClient.batchFetchWorkQueueItemStateCount(t).then(e=>e&&e.data?e.data.map((e,r)=>this.parseWorkQueueItemStateCountResponse(t[r],e)):[])},"fetchWorkQueuesItemsCountPerState",f.b.FetchWorkQueuesItemsCountPerState,f.a.WorkQueueList,!0)}},{key:"parseWorkQueueItemStateCountResponse",value:function(e,t){var{workQueueId:r,itemState:n}=e,i=y.a.GetWorkQueueItemStateCountEntityKey(r,n);if(200!==t.statusCode)return Object(m.h)(i,t,[],this.getWorkQueueItemStateErrorStatus);try{var o,a,s=JSON.parse(t.payload);return{key:i,value:{workQueueId:r,itemState:n,count:(null==s||null===(o=s.value)||void 0===o?void 0:o.length)&&(null===(a=s.value[0])||void 0===a?void 0:a.count)||0}}}catch(u){return{key:i,error:u,failureLogReason:{message:"Payload parsing failed"}}}}},{key:"fetchWorkQueuesItemsCountPerSlaStatus",value:function(e){var t=[b.e.AtRisk,b.e.Out],r=[];return t.forEach(t=>{e.forEach(e=>{r.push(y.a.GetWorkQueueItemSlaStatusCountEntityKey(e,t))})}),this.entityManagerServiceHelper.batchFetchEntity(this.store.workQueueItemSlaStatusCounts,r,e=>{var t=e.map(e=>y.a.ParseWorkQueueItemSlaStatusCountEntityKey(e)).filter(h.a);return this.httpClient.batchFetchWorkQueueItemSlaStatusCount(t).then(e=>e&&e.data?e.data.map((e,r)=>this.parseWorkQueueItemSlaStatusCountResponse(t[r],e)):[])},"fetchWorkQueuesItemsCountPerSlaStatus",f.b.FetchWorkQueuesItemsCountPerSlaStatus,f.a.WorkQueueList,!0)}},{key:"parseWorkQueueItemSlaStatusCountResponse",value:function(e,t){var{workQueueId:r,slaStatus:n}=e,i=y.a.GetWorkQueueItemSlaStatusCountEntityKey(r,n);if(200!==t.statusCode)return Object(m.h)(i,t,[],this.getWorkQueueItemSlaStatusErrorStatus);try{var o,a,s=JSON.parse(t.payload);return{key:i,value:{workQueueId:r,slaStatus:n,count:(null==s||null===(o=s.value)||void 0===o?void 0:o.length)&&(null===(a=s.value[0])||void 0===a?void 0:a.count)||0}}}catch(u){return{key:i,error:u,failureLogReason:{message:"Payload parsing failed"}}}}},{key:"updateWorkQueue",value:function(e,t){return this.entityManagerServiceHelper.updateEntity(this.store.workQueues,e,()=>this.httpClient.updateWorkQueue(e,t).then(e=>this.toWorkQueue(e.data)),"updateWorkQueue",f.b.UpdateWorkQueue,f.a.WorkQueueList)}},{key:"updateWorkQueueStatus",value:function(e,t){return this.entityManagerServiceHelper.updateEntity(this.store.workQueues,e,()=>this.httpClient.updateWorkQueueStatus(e,t,t===n.e.Active?n.d.Active:n.d.Inactive).then(e=>this.toWorkQueue(e.data)),"updateWorkQueue",f.b.UpdateWorkQueue,f.a.WorkQueueList,!1,l.i)}},{key:"createWorkQueue",value:function(e){return this.entityManagerServiceHelper.createEntity(this.store.workQueues,()=>this.httpClient.createWorkQueue(e).then(e=>this.toWorkQueue(e.data)),"createWorkQueue",f.b.CreateWorkQueue,f.a.WorkQueueList,l.i)}},{key:"deleteWorkQueue",value:function(e){return this.entityManagerServiceHelper.deleteEntity(this.store.workQueues,e,()=>this.httpClient.deleteWorkQueue(e),"deleteWorkQueue",f.b.DeleteWorkQueue,f.a.WorkQueueDetails,!1,l.i)}},{key:"loadExecutionContextItemsData",value:function(e){return Promise.all([this.loadUserWithThumbnails(Object(c.c)(e.map(e=>e.processingUser||e.userContext))),this.loadDesktopFlowNames(Object(c.c)(e.filter(e=>"DesktopFlow"===e.consumerType).map(e=>e.consumerId))),this.loadCloudFlowNames(Object(c.c)(e.filter(e=>e.processorType===g.b.CloudFlow&&void 0!==e.processorId||"CloudFlow"===e.consumerType&&void 0!==e.consumerId).map(e=>e.processorId||e.consumerId))),this.loadMachines(Object(c.c)(e.filter(e=>e.processorType===g.b.FlowMachine&&void 0!==e.processorId).map(e=>e.processorId)))])}},{key:"loadUserWithThumbnails",value:function(e){var t=o()(e).filter(e=>!!e).sort();return this.xrmIdentityService.batchFetchUsers(t).then(()=>{t.forEach(e=>{var t=this.xrmIdentityStore.xrmUsers.getEntity(e);null!=t&&t.azureactivedirectoryobjectid&&this.graphService.getThumbnailPhoto(t.azureactivedirectoryobjectid)})})}},{key:"loadDesktopFlowNames",value:function(e){var t=o()(e).filter(e=>!!e).sort();return 0===t.length?Promise.resolve():this.uiFlowService.loadGivenDesktopFlowsAsync(t)}},{key:"loadCloudFlowNames",value:function(e){var t=o()(e).filter(e=>!!e).sort();return 0===t.length?Promise.resolve():this.flowService.loadGivenFlows(t)}},{key:"loadMachines",value:function(e){return 0===o()(e).filter(e=>!!e).sort().length?Promise.resolve():this.xrmMachineManagementService.batchFetchMachines(e,!0)}},{key:"populateOwnerAndFetchThumbnails",value:function(e){Object(a.b)(this.xrmIdentityStore.xrmUsers.entities,e),e.azureactivedirectoryobjectid&&this.graphService.getThumbnailPhoto(e.azureactivedirectoryobjectid)}},{key:"isTimeoutEnabled",get:function(){return Object(d.tb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}},{key:"isNewStatusesEnabled",get:function(){return Object(d.vb)(this.environmentStore,this.environmentCapabilityStore)}}])&&O(t.prototype,r),i&&O(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22316:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n,i,o,a,s=r(11773),u=r(12347);function l(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function d(e,t,r,n,i){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=(i=d((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"workQueues",i,this),l(this,"workQueueItemStateCounts",o,this),l(this,"workQueueItemSlaStatusCounts",a,this),Object(s.runInAction)(()=>{this.workQueues=new u.a({getKey:e=>e.id}),this.workQueueItemStateCounts=new u.a({getKey:t=>e.GetWorkQueueItemStateCountEntityKey(t.workQueueId,t.itemState)}),this.workQueueItemSlaStatusCounts=new u.a({getKey:t=>e.GetWorkQueueItemSlaStatusCountEntityKey(t.workQueueId,t.slaStatus)})})}var t,r,n;return t=e,n=[{key:"GetWorkQueueItemStateCountEntityKey",value:function(e,t){return JSON.stringify({workQueueId:e,itemState:t})}},{key:"ParseWorkQueueItemStateCountEntityKey",value:function(e){try{return JSON.parse(e)}catch(t){return null}}},{key:"getWorkQueueCollectionKey",value:function(e){return"WorkQueues?".concat(e?"searchFilter=".concat(e):"")}},{key:"GetWorkQueueItemSlaStatusCountEntityKey",value:function(e,t){return JSON.stringify({workQueueId:e,slaStatus:t})}},{key:"ParseWorkQueueItemSlaStatusCountEntityKey",value:function(e){try{return JSON.parse(e)}catch(t){return null}}}],(r=null)&&c(t.prototype,r),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()).prototype,"workQueues",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(n.prototype,"workQueueItemStateCounts",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=d(n.prototype,"workQueueItemSlaStatusCounts",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)},22317:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(22318),i=r(15459),o=r(12345),a=r(15460),s=r(12999),u=new n.a(a.b,Object(s.a)(),i.a,o.a)},22318:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var n=r(15420),i=r(20707),o=r(15959),a=r(22319),s=r(15962),u=r(22321),l=r(16744),c=r(15395),p=r(22313),d=["inputschema","inputschematype"],m=["inputschema","inputschematype"];function h(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var S={"odata-maxversion":"4.0","odata-version":"4.0"},w=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpClient=t,this.featureFlags=r,this.environmentCapabilityStore=n,this.environmentStore=i,this.buildWorkQueueItemStateCountConditions=e=>{var{attribute:t,code:r}=e.itemState===p.c.ComputedExpired?Object(u.c)(e.itemState,this.isNewStatusesEnabled,this.isTimeoutEnabled):Object(u.d)(e.itemState,this.isNewStatusesEnabled,this.isTimeoutEnabled),n=(void 0===r?e.itemState:r).toString(),i=new Date;if(e.itemState===p.c.Exception&&this.isNewStatusesEnabled){var o=this.isTimeoutEnabled?[p.c.BusinessException,p.c.ITException,p.c.ProcessingTimeout]:[p.c.BusinessException,p.c.ITException];return[{attribute:"workqueueid",operator:"eq",value:e.workQueueId},{attribute:"statecode",operator:"eq",value:p.c.Exception.toString()},{attribute:"statuscode",operator:"not-in",values:o.map(e=>e.toString())},{type:"or",conditions:[{attribute:"expirydate",operator:"gt",value:i.toISOString()},{attribute:"expirydate",operator:"null"}]}]}return e.itemState===p.c.Queued||e.itemState===p.c.Exception||e.itemState===p.c.ITException||e.itemState===p.c.BusinessException||e.itemState===p.c.OnHold||e.itemState===p.c.ProcessingTimeout?[{attribute:"workqueueid",operator:"eq",value:e.workQueueId},{attribute:t,operator:"eq",value:n},{type:"or",conditions:[{attribute:"expirydate",operator:"gt",value:i.toISOString()},{attribute:"expirydate",operator:"null"}]}]:e.itemState===p.c.ComputedExpired?[{attribute:"workqueueid",operator:"eq",value:e.workQueueId},{attribute:t,operator:"not-in",values:[p.c.Processing,p.c.Processed].map(e=>e.toString())},{type:"and",conditions:[{attribute:"expirydate",operator:"not-null"},{attribute:"expirydate",operator:"le",value:i.toISOString()}]}]:[{attribute:"workqueueid",operator:"eq",value:e.workQueueId},{attribute:t,operator:"eq",value:n}]},this.buildWorkQueueItemSlaStatusCountConditions=e=>[{attribute:"workqueueid",operator:"eq",value:e.workQueueId},{attribute:"slastatus",operator:"eq",value:e.slaStatus.toString()}]}var t,r,f;return t=e,(r=[{key:"workQueueItemEntityQueryParameters",get:function(){return Object(u.e)(this.isItemAdditionalFieldsEnabled,this.isWorkQueueItemProcessFieldsEnabled,this.isManagedSupportEnabled,this.isWorkQueueItemMachineUserFieldEnabled,this.isRetryEnabled,this.isSlaEnabled)}},{key:"updateWorkQueueItem",value:function(e,t){return this.httpClient.updateRecord(o.t.entitySetName,e,g({},t),{},!0)}},{key:"batchUpdateWorkQueueItems",value:function(e,t){return this.httpClient.batchRequests(e.map(e=>({requestType:c.a.PATCH,path:"/".concat(o.t.entitySetName,"(").concat(e,")"),body:t})))}},{key:"createWorkQueueItem",value:function(e,t){return this.httpClient.createRecord(o.t.entitySetName,g({"workqueueid@odata.bind":"/workqueues(".concat(e,")")},t),{},!0)}},{key:"deleteWorkQueueItem",value:function(e){return this.httpClient.deleteRecord(o.t.entitySetName,e)}},{key:"batchDeleteWorkQueueItems",value:function(e){return this.httpClient.batchRequests(e.map(e=>({requestType:c.a.DELETE,path:"/".concat(o.t.entitySetName,"(").concat(e,")")})))}},{key:"updateWorkQueue",value:function(e,t){var{inputschema:r,inputschematype:n}=t,i=h(t,d);return this.httpClient.updateRecord(a.b,e,i,{},!0)}},{key:"updateWorkQueueStatus",value:function(e,t,r){return this.httpClient.updateRecord(a.b,e,{statuscode:t,statecode:r},{},!0)}},{key:"createWorkQueue",value:function(e){var{inputschema:t,inputschematype:r}=e,n=h(e,m);return this.httpClient.createRecord(a.b,this.isInputSchemaEnabled?e:n,{},!0)}},{key:"fetchWorkQueue",value:function(e){return this.httpClient.retrieveRecord(a.b,e,Object(u.b)(this.isInputSchemaEnabled,this.isManagedSupportEnabled,this.isRetryEnabled,this.isAllowUpdateItemInputWhileProcessingEnabled,this.isSlaEnabled))}},{key:"deleteWorkQueue",value:function(e){return this.httpClient.deleteRecord(a.b,e)}},{key:"fetchWorkQueueItem",value:function(e){return this.httpClient.retrieveRecord(o.t.entitySetName,e,this.workQueueItemEntityQueryParameters)}},{key:"fetchMoreWorkQueueItems",value:function(e,t){return this.httpClient.retrieveMore(e,g(g({},S),{},{Prefer:"odata.maxpagesize=".concat(t)})).then(e=>Object(n.g)(e))}},{key:"fetchWorkQueueList",value:function(e){var t=Object(u.b)(this.isInputSchemaEnabled,this.isManagedSupportEnabled,this.isRetryEnabled,this.isAllowUpdateItemInputWhileProcessingEnabled,this.isSlaEnabled),r={$select:t.$select,$expand:t.$expand};return e&&(r=g(g({},r),Object(i.a)(e,["name"]))),this.httpClient.retrieveMultiple(a.b,g(g({},r),{},{$orderby:"name asc"}),g(g({},S),{},{Prefer:"odata.maxpagesize=".concat(15)})).then(e=>Object(n.g)(e))}},{key:"fetchMoreWorkQueues",value:function(e){return this.httpClient.retrieveMore(e,g(g({},S),{},{Prefer:"odata.maxpagesize=".concat(15)})).then(e=>Object(n.g)(e))}},{key:"batchFetchWorkQueueItemStateCount",value:function(e){var t=e.map(e=>{var t=new s.a(o.t.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"workqueueid",alias:"count",aggregate:"count"}).where({type:"and",conditions:this.buildWorkQueueItemStateCountConditions(e)}).build();return{requestType:c.a.GET,path:"/".concat(o.t.entitySetName,"?fetchXml=").concat(encodeURIComponent(t))}});return this.httpClient.batchRequests(t)}},{key:"batchFetchWorkQueueItemSlaStatusCount",value:function(e){var t=e.map(e=>{var t=new s.a(o.t.logicalName,{version:"1.0",mapping:"logical",aggregate:!0}).select({name:"workqueueid",alias:"count",aggregate:"count"}).where({type:"and",conditions:this.buildWorkQueueItemSlaStatusCountConditions(e)}).build();return{requestType:c.a.GET,path:"/".concat(o.t.entitySetName,"?fetchXml=").concat(encodeURIComponent(t))}});return this.httpClient.batchRequests(t)}},{key:"isNewStatusesEnabled",get:function(){return Object(l.vb)(this.environmentStore,this.environmentCapabilityStore)}},{key:"isTimeoutEnabled",get:function(){return Object(l.tb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}},{key:"isItemAdditionalFieldsEnabled",get:function(){return Object(l.pb)(this.environmentStore,this.environmentCapabilityStore)}},{key:"isWorkQueueItemProcessFieldsEnabled",get:function(){return Object(l.rb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}},{key:"isInputSchemaEnabled",get:function(){return Object(l.ob)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}},{key:"isManagedSupportEnabled",get:function(){return Object(l.fb)(this.featureFlags)}},{key:"isWorkQueueItemMachineUserFieldEnabled",get:function(){return Object(l.qb)(this.environmentStore,this.environmentCapabilityStore)}},{key:"isRetryEnabled",get:function(){return Object(l.sb)(this.environmentStore,this.environmentCapabilityStore)}},{key:"isAllowUpdateItemInputWhileProcessingEnabled",get:function(){return Object(l.lb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}},{key:"isSlaEnabled",get:function(){return Object(l.wb)(this.featureFlags,this.environmentStore,this.environmentCapabilityStore)}}])&&b(t.prototype,r),f&&b(t,f),Object.defineProperty(t,"prototype",{writable:!1}),e}()},22319:function(e,t,r){"use strict";var n=r(22320);r.d(t,"a",(function(){return n.a})),r.d(t,"b",(function(){return n.b})),r.d(t,"c",(function(){return n.c}))},22320:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(15953),i={name:100,description:2e3},o="workqueue",a="workqueues";n.C.logicalName,n.z.logicalName},22323:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=new(r(22316).a)}}]);
//# sourceMappingURL=https://sourcemaps.powerapps.com/srcmaps/static/js/module/174.fc4e9def.chunk.js.map