/*! For license information please see vendors~protectedV3De~c51a69cf.84409436.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{19977:function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)&&o.length){var i=r.apply(null,o);i&&e.push(i)}else if("object"===a)for(var l in o)n.call(o,l)&&o[l]&&e.push(l)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},26987:function(e,t,n){"use strict";n.d(t,"a",(function(){return tt})),n.d(t,"b",(function(){return rn})),n.d(t,"c",(function(){return cn})),n.d(t,"d",(function(){return Yt})),n.d(t,"e",(function(){return Le})),n.d(t,"f",(function(){return On})),n.d(t,"g",(function(){return Wt})),n.d(t,"h",(function(){return Tt})),n.d(t,"i",(function(){return pe}));var o=n(13615),r=n(19385),a=n(19386),i=n(11766),l=n(26988),c=n(26990),s=n(11769),d=["position","children","className","style"],u=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],g=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],v=["id"],b=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","onBeforeDelete","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesReconnectable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","paneClickDistance","nodeClickDistance","children","onReconnect","onReconnectStart","onReconnectEnd","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","reconnectRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","autoPanSpeed","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold","viewport","onViewportChange","width","height","colorMode","debug"],p=["children","className"];function m(e,t,n,o,r,a,i){try{var l=e[a](i),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(o,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){m(a,o,r,i,l,"next",e)}function l(e){m(a,o,r,i,l,"throw",e)}i(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var C=Object(i.createContext)(null),j=C.Provider,w=a.w.error001();function x(e,t){var n=Object(i.useContext)(C);if(null===n)throw new Error(w);return Object(l.useStoreWithEqualityFn)(n,e,t)}function E(){var e=Object(i.useContext)(C);if(null===e)throw new Error(w);return Object(i.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}var k={display:"none"},N={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},M=e=>e.ariaLiveMessage;function P(e){var{rfId:t}=e,n=x(M);return Object(o.jsx)("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:N,children:n})}function D(e){var{rfId:t,disableKeyboardA11y:n}=e;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{id:"".concat("react-flow__node-desc","-").concat(t),style:k,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),Object(o.jsx)("div",{id:"".concat("react-flow__edge-desc","-").concat(t),style:k,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&Object(o.jsx)(P,{rfId:t})]})}var R=e=>e.userSelectionActive?"none":"all";function I(e){var{position:t="top-left",children:n,className:a,style:i}=e,l=y(e,d),c=x(R),s="".concat(t).split("-");return Object(o.jsx)("div",O(O({className:Object(r.a)(["react-flow__panel",a,...s]),style:O(O({},i),{},{pointerEvents:c})},l),{},{children:n}))}function L(e){var{proOptions:t,position:n="bottom-right"}=e;return null!=t&&t.hideAttribution?null:Object(o.jsx)(I,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:Object(o.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}var B=e=>{var t=[],n=[];for(var[,o]of e.nodeLookup)o.selected&&t.push(o.internals.userNode);for(var[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},z=e=>e.id;function _(e,t){return Object(c.shallow)(e.selectedNodes.map(z),t.selectedNodes.map(z))&&Object(c.shallow)(e.selectedEdges.map(z),t.selectedEdges.map(z))}function A(e){var{onSelectionChange:t}=e,n=E(),{selectedNodes:o,selectedEdges:r}=x(B,_);return Object(i.useEffect)(()=>{var e={nodes:o,edges:r};null==t||t(e),n.getState().onSelectionChangeHandlers.forEach(t=>t(e))},[o,r,t]),null}var V=e=>!!e.onSelectionChangeHandlers;function Z(e){var{onSelectionChange:t}=e,n=x(V);return t||n?Object(o.jsx)(A,{onSelectionChange:t}):null}var T=[0,0],K={x:0,y:0,zoom:1},H=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],W=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),F={translateExtent:a.W,nodeOrigin:T,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Y(e){var{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:r,setTranslateExtent:a,setNodeExtent:l,reset:s,setDefaultNodesAndEdges:d,setPaneClickDistance:u}=x(W,c.shallow),g=E();Object(i.useEffect)(()=>(d(e.defaultNodes,e.defaultEdges),()=>{v.current=F,s()}),[]);var v=Object(i.useRef)(F);return Object(i.useEffect)(()=>{for(var i of H){var c=e[i];c!==v.current[i]&&(void 0!==e[i]&&("nodes"===i?t(c):"edges"===i?n(c):"minZoom"===i?o(c):"maxZoom"===i?r(c):"translateExtent"===i?a(c):"nodeExtent"===i?l(c):"paneClickDistance"===i?u(c):"fitView"===i?g.setState({fitViewOnInit:c}):"fitViewOptions"===i?g.setState({fitViewOnInitOptions:c}):g.setState({[i]:c})))}v.current=e},H.map(t=>e[t])),null}function X(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}var G="undefined"!=typeof document?document:null;function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:G,actInsideInputWithModifier:!0},[n,o]=Object(i.useState)(!1),r=Object(i.useRef)(!1),l=Object(i.useRef)(new Set([])),[c,s]=Object(i.useMemo)(()=>{if(null!==e){var t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return Object(i.useEffect)(()=>{var n=(null==t?void 0:t.target)||G;if(null!==e){var i=e=>{if(r.current=e.ctrlKey||e.metaKey||e.shiftKey,(!r.current||r.current&&!t.actInsideInputWithModifier)&&Object(a.ab)(e))return!1;var n=q(e.code,s);l.current.add(e[n]),Q(c,l.current,!1)&&(e.preventDefault(),o(!0))},d=e=>{if((!r.current||r.current&&!t.actInsideInputWithModifier)&&Object(a.ab)(e))return!1;var n=q(e.code,s);Q(c,l.current,!0)?(o(!1),l.current.clear()):l.current.delete(e[n]),"Meta"===e.key&&l.current.clear(),r.current=!1},u=()=>{l.current.clear(),o(!1)};return null==n||n.addEventListener("keydown",i),null==n||n.addEventListener("keyup",d),window.addEventListener("blur",u),window.addEventListener("contextmenu",u),()=>{null==n||n.removeEventListener("keydown",i),null==n||n.removeEventListener("keyup",d),window.removeEventListener("blur",u),window.removeEventListener("contextmenu",u)}}},[e,o]),n}function Q(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function q(e,t){return t.includes(e)?"code":"key"}var J=()=>{var e=E();return Object(i.useMemo)(()=>{return{zoomIn:t=>{var{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{var{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:null==t?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{var{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:null==n?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:(o=f((function*(t,n){var o,r,a,{transform:[i,l,c],panZoom:s}=e.getState();return s?(yield s.setViewport({x:null!==(o=t.x)&&void 0!==o?o:i,y:null!==(r=t.y)&&void 0!==r?r:l,zoom:null!==(a=t.zoom)&&void 0!==a?a:c},{duration:null==n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)})),function(e,t){return o.apply(this,arguments)}),getViewport:()=>{var[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>{var{nodeLookup:n,width:o,height:r,minZoom:i,maxZoom:l,panZoom:c}=e.getState(),s=Object(a.J)(n,t);return c?Object(a.y)({nodes:s,width:o,height:r,minZoom:i,maxZoom:l,panZoom:c},t):Promise.resolve(!1)},setCenter:(n=f((function*(t,n,o){var{width:r,height:a,maxZoom:i,panZoom:l}=e.getState(),c=void 0!==(null==o?void 0:o.zoom)?o.zoom:i,s=r/2-t*c,d=a/2-n*c;return l?(yield l.setViewport({x:s,y:d,zoom:c},{duration:null==o?void 0:o.duration}),Promise.resolve(!0)):Promise.resolve(!1)})),function(e,t,o){return n.apply(this,arguments)}),fitBounds:(t=f((function*(t,n){var o,{width:r,height:i,minZoom:l,maxZoom:c,panZoom:s}=e.getState(),d=Object(a.T)(t,r,i,l,c,null!==(o=null==n?void 0:n.padding)&&void 0!==o?o:.1);return s?(yield s.setViewport(d,{duration:null==n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)})),function(e,n){return t.apply(this,arguments)}),screenToFlowPosition:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{snapToGrid:!0},{transform:o,snapGrid:r,domNode:i}=e.getState();if(!i)return t;var{x:l,y:c}=i.getBoundingClientRect(),s={x:t.x-l,y:t.y-c};return Object(a.jb)(s,o,n.snapToGrid,r)},flowToScreenPosition:t=>{var{transform:n,domNode:o}=e.getState();if(!o)return t;var{x:r,y:i}=o.getBoundingClientRect(),l=Object(a.kb)(t,n);return{x:l.x+r,y:l.y+i}}};var t,n,o},[])};function $(e,t){var n=[],o=new Map;for(var r of e)if("add"!==r.type)if("remove"===r.type||"replace"===r.type)o.set(r.id,[r]);else{var a=o.get(r.id);a?a.push(r):o.set(r.id,[r])}else n.push(r.item);for(var i of t){var l=o.get(i.id);if(l){if("remove"!==l[0].type)if("replace"!==l[0].type){var c=O({},i);for(var s of l)ee(s,c);n.push(c)}else n.push(O({},l[0].item))}else n.push(i)}return n}function ee(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":var n;if(void 0!==e.dimensions)null!==(n=t.measured)&&void 0!==n||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height);"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}}function te(e,t){return $(e,t)}function ne(e,t){return $(e,t)}function oe(e,t){return{id:e,type:"select",selected:t}}function re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];for(var[r,a]of e){var i=t.has(r);void 0===a.selected&&!i||a.selected===i||(n&&(a.selected=i),o.push(oe(a.id,i)))}return o}function ae(e){var{items:t=[],lookup:n}=e,o=[],r=new Map(t.map(e=>[e.id,e]));for(var a of t){var i,l,c=n.get(a.id),s=null!==(i=null==c||null===(l=c.internals)||void 0===l?void 0:l.userNode)&&void 0!==i?i:c;void 0!==s&&s!==a&&o.push({id:a.id,item:a,type:"replace"}),void 0===s&&o.push({item:a,type:"add"})}for(var[d]of n){void 0===r.get(d)&&o.push({id:d,type:"remove"})}return o}function ie(e){return{id:e.id,type:"remove"}}var le=e=>Object(a.db)(e),ce=e=>Object(a.Y)(e);function se(e){return Object(i.forwardRef)(e)}var de="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function ue(e){var[t,n]=Object(i.useState)(!1),[o]=Object(i.useState)(()=>function(e){var t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}(()=>n(!0)));return de(()=>{if(t){var r=o.get();r.length&&(e(r),o.reset()),n(!1)}else o.reset()},[t]),o}var ge=Object(i.createContext)(null);function ve(e){var{children:t}=e,n=E(),r=ue(Object(i.useCallback)(e=>{var{nodes:t=[],setNodes:o,hasDefaultNodes:r,onNodesChange:a,nodeLookup:i}=n.getState(),l=t;for(var c of e)l="function"==typeof c?c(l):c;r?o(l):a&&a(ae({items:l,lookup:i}))},[])),a=ue(Object(i.useCallback)(e=>{var{edges:t=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:a,edgeLookup:i}=n.getState(),l=t;for(var c of e)l="function"==typeof c?c(l):c;r?o(l):a&&a(ae({items:l,lookup:i}))},[])),l=Object(i.useMemo)(()=>({nodeQueue:r,edgeQueue:a}),[]);return Object(o.jsx)(ge.Provider,{value:l,children:t})}var be=e=>!!e.panZoom;function pe(){var e=J(),t=E(),n=function(){var e=Object(i.useContext)(ge);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}(),o=x(be),r=Object(i.useMemo)(()=>{var e,o=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},i=e=>{n.edgeQueue.push(e)},l=e=>{var n,o,r,i,{nodeLookup:l,nodeOrigin:c}=t.getState(),s=le(e)?e:l.get(e.id),d=s.parentId?Object(a.x)(s.position,s.measured,s.parentId,l,c):s.position,u={id:s.id,position:d,width:null!==(n=null===(o=s.measured)||void 0===o?void 0:o.width)&&void 0!==n?n:s.width,height:null!==(r=null===(i=s.measured)||void 0===i?void 0:i.height)&&void 0!==r?r:s.height,data:s.data};return Object(a.hb)(u)},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};r(o=>o.map(o=>{if(o.id===e){var r="function"==typeof t?t(o):t;return n.replace&&le(r)?r:O(O({},o),r)}return o}))},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};i(o=>o.map(o=>{if(o.id===e){var r="function"==typeof t?t(o):t;return n.replace&&ce(r)?r:O(O({},o),r)}return o}))};return{getNodes:()=>t.getState().nodes.map(e=>O({},e)),getNode:e=>{var t;return null===(t=o(e))||void 0===t?void 0:t.internals.userNode},getInternalNode:o,getEdges:()=>{var{edges:e=[]}=t.getState();return e.map(e=>O({},e))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:i,addNodes:e=>{var t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{var t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{var{nodes:e=[],edges:n=[],transform:o}=t.getState(),[r,a,i]=o;return{nodes:e.map(e=>O({},e)),edges:n.map(e=>O({},e)),viewport:{x:r,y:a,zoom:i}}},deleteElements:(e=f((function*(e){var{nodes:n=[],edges:o=[]}=e,{nodes:r,edges:i,onNodesDelete:l,onEdgesDelete:c,triggerNodeChanges:s,triggerEdgeChanges:d,onDelete:u,onBeforeDelete:g}=t.getState(),{nodes:v,edges:b}=yield Object(a.G)({nodesToRemove:n,edgesToRemove:o,nodes:r,edges:i,onBeforeDelete:g}),p=b.length>0,m=v.length>0;if(p){var f=b.map(ie);null==c||c(b),d(f)}if(m){var h=v.map(ie);null==l||l(v),s(h)}return(m||p)&&(null==u||u({nodes:v,edges:b})),{deletedNodes:v,deletedEdges:b}})),function(t){return e.apply(this,arguments)}),getIntersectingNodes:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,r=Object(a.fb)(e),i=r?e:l(e),c=void 0!==o;return i?(o||t.getState().nodes).filter(o=>{var l=t.getState().nodeLookup.get(o.id);if(l&&!r&&(o.id===e.id||!l.internals.positionAbsolute))return!1;var s=Object(a.hb)(c?o:l),d=Object(a.Q)(s,i);return n&&d>0||d>=i.width*i.height}):[]},isNodeIntersecting:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Object(a.fb)(e),r=o?e:l(e);if(!r)return!1;var i=Object(a.Q)(r,t),c=n&&i>0;return c||i>=r.width*r.height},updateNode:c,updateNodeData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};c(e,e=>{var o="function"==typeof t?t(e):t;return n.replace?O(O({},e),{},{data:o}):O(O({},e),{},{data:O(O({},e.data),o)})},n)},updateEdge:s,updateEdgeData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};s(e,e=>{var o="function"==typeof t?t(e):t;return n.replace?O(O({},e),{},{data:o}):O(O({},e),{},{data:O(O({},e.data),o)})},n)}}},[]);return Object(i.useMemo)(()=>O(O(O({},r),e),{},{viewportInitialized:o}),[o])}var me=e=>e.selected,fe={actInsideInputWithModifier:!1},he="undefined"!=typeof window?window:void 0;var Oe={position:"absolute",width:"100%",height:"100%",top:0,left:0},Se=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function ye(e){var{onPaneContextMenu:t,zoomOnScroll:n=!0,zoomOnPinch:r=!0,panOnScroll:l=!1,panOnScrollSpeed:s=.5,panOnScrollMode:d=a.d.Free,zoomOnDoubleClick:u=!0,panOnDrag:g=!0,defaultViewport:v,translateExtent:b,minZoom:p,maxZoom:m,zoomActivationKeyCode:f,preventScrolling:h=!0,children:O,noWheelClassName:S,noPanClassName:y,onViewportChange:C,isControlledViewport:j,paneClickDistance:w}=e,k=E(),N=Object(i.useRef)(null),{userSelectionActive:M,lib:P}=x(Se,c.shallow),D=U(f),R=Object(i.useRef)();return function(e){var t=E();Object(i.useEffect)(()=>{var n=()=>{if(!e.current)return!1;var n,o,r=Object(a.E)(e.current);0!==r.height&&0!==r.width||(null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"004",a.w.error004()));t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);var o=new ResizeObserver(()=>n());return o.observe(e.current),()=>{window.removeEventListener("resize",n),o&&e.current&&o.unobserve(e.current)}}},[])}(N),Object(i.useEffect)(()=>{if(N.current){R.current=Object(a.k)({domNode:N.current,minZoom:p,maxZoom:m,translateExtent:b,viewport:v,paneClickDistance:w,onTransformChange:e=>{null==C||C({x:e[0],y:e[1],zoom:e[2]}),j||k.setState({transform:e})},onDraggingChange:e=>k.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{var{onViewportChangeStart:n,onMoveStart:o}=k.getState();null==o||o(e,t),null==n||n(t)},onPanZoom:(e,t)=>{var{onViewportChange:n,onMove:o}=k.getState();null==o||o(e,t),null==n||n(t)},onPanZoomEnd:(e,t)=>{var{onViewportChangeEnd:n,onMoveEnd:o}=k.getState();null==o||o(e,t),null==n||n(t)}});var{x:e,y:t,zoom:n}=R.current.getViewport();return k.setState({panZoom:R.current,transform:[e,t,n],domNode:N.current.closest(".react-flow")}),()=>{var e;null===(e=R.current)||void 0===e||e.destroy()}}},[]),Object(i.useEffect)(()=>{var e;null===(e=R.current)||void 0===e||e.update({onPaneContextMenu:t,zoomOnScroll:n,zoomOnPinch:r,panOnScroll:l,panOnScrollSpeed:s,panOnScrollMode:d,zoomOnDoubleClick:u,panOnDrag:g,zoomActivationKeyPressed:D,preventScrolling:h,noPanClassName:y,userSelectionActive:M,noWheelClassName:S,lib:P})},[t,n,r,l,s,d,u,g,D,h,y,M,S,P]),Object(o.jsx)("div",{className:"react-flow__renderer",ref:N,style:Oe,children:O})}var Ce=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function je(){var{userSelectionActive:e,userSelectionRect:t}=x(Ce,c.shallow);return e&&t?Object(o.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}var we=(e,t)=>n=>{n.target===t.current&&(null==e||e(n))},xe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function Ee(e){var{isSelecting:t,selectionKeyPressed:n,selectionMode:l=a.g.Full,panOnDrag:s,selectionOnDrag:d,onSelectionStart:u,onSelectionEnd:g,onPaneClick:v,onPaneContextMenu:b,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:f,onPaneMouseLeave:h,children:O}=e,S=Object(i.useRef)(null),y=E(),C=Object(i.useRef)(0),j=Object(i.useRef)(0),w=Object(i.useRef)(),k=Object(i.useRef)(new Map),{userSelectionActive:N,elementsSelectable:M,dragging:P}=x(xe,c.shallow),D=M&&(t||N),R=Object(i.useRef)(!1),I=Object(i.useRef)(!1),L=e=>{R.current?R.current=!1:(null==v||v(e),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1}))},B=p?e=>p(e):void 0;return Object(o.jsxs)("div",{className:Object(r.a)(["react-flow__pane",{draggable:s,dragging:P,selection:t}]),onClick:D?void 0:we(L,S),onContextMenu:we(e=>{Array.isArray(s)&&null!=s&&s.includes(2)?e.preventDefault():null==b||b(e)},S),onWheel:we(B,S),onPointerEnter:D?void 0:m,onPointerDown:D?e=>{var n,o,{resetSelectedElements:r,domNode:i,edgeLookup:l}=y.getState();if(w.current=null==i?void 0:i.getBoundingClientRect(),null===(n=e.target)||void 0===n||null===(o=n.setPointerCapture)||void 0===o||o.call(n,e.pointerId),M&&t&&0===e.button&&e.target===S.current&&w.current){for(var[c,s]of(I.current=!0,R.current=!1,k.current=new Map,l)){var d,g;k.current.set(s.source,(null===(d=k.current.get(s.source))||void 0===d?void 0:d.add(c))||new Set([c])),k.current.set(s.target,(null===(g=k.current.get(s.target))||void 0===g?void 0:g.add(c))||new Set([c]))}var{x:v,y:b}=Object(a.I)(e.nativeEvent,w.current);r(),y.setState({userSelectionRect:{width:0,height:0,startX:v,startY:b,x:v,y:b}}),null==u||u(e)}}:f,onPointerMove:D?e=>{var{userSelectionRect:t,edgeLookup:n,transform:o,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:c}=y.getState();if(w.current&&t){R.current=!0;var{x:s,y:d}=Object(a.I)(e.nativeEvent,w.current),{startX:u,startY:g}=t,v={startX:u,startY:g,x:s<u?s:u,y:d<g?d:g,width:Math.abs(s-u),height:Math.abs(d-g)},b=Object(a.P)(r,v,o,l===a.g.Partial,!0),p=new Set,m=new Set;for(var f of b){m.add(f.id);var h=k.current.get(f.id);if(h)for(var O of h)p.add(O)}if(C.current!==m.size)C.current=m.size,i(re(r,m,!0));if(j.current!==p.size)j.current=p.size,c(re(n,p));y.setState({userSelectionRect:v,userSelectionActive:!0,nodesSelectionActive:!1})}}:f,onPointerUp:D?e=>{var t,o;if(0===e.button&&I.current){null===(t=e.target)||void 0===t||null===(o=t.releasePointerCapture)||void 0===o||o.call(t,e.pointerId);var{userSelectionRect:r}=y.getState();!N&&r&&e.target===S.current&&(null==L||L(e)),C.current>0&&y.setState({nodesSelectionActive:!0}),y.setState({userSelectionActive:!1,userSelectionRect:null}),C.current=0,j.current=0,null==g||g(e),(n||d)&&(R.current=!1),I.current=!1}}:void 0,onPointerLeave:h,ref:S,style:Oe,children:[O,Object(o.jsx)(je,{})]})}function ke(e){var{id:t,store:n,unselect:o=!1,nodeRef:r}=e,{addSelectedNodes:i,unselectNodesAndEdges:l,multiSelectionActive:c,nodeLookup:s,onError:d}=n.getState(),u=s.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(o||u.selected&&c)&&(l({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var e;return null==r||null===(e=r.current)||void 0===e?void 0:e.blur()})):i([t])):null==d||d("012",a.w.error012(t))}function Ne(e){var{nodeRef:t,disabled:n=!1,noDragClassName:o,handleSelector:r,nodeId:l,isSelectable:c,nodeClickDistance:s}=e,d=E(),[u,g]=Object(i.useState)(!1),v=Object(i.useRef)();return Object(i.useEffect)(()=>{v.current=Object(a.h)({getStoreItems:()=>d.getState(),onNodeMouseDown:e=>{ke({id:e,store:d,nodeRef:t})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),Object(i.useEffect)(()=>{var e;if(n)null===(e=v.current)||void 0===e||e.destroy();else if(t.current){var a;return null===(a=v.current)||void 0===a||a.update({noDragClassName:o,handleSelector:r,domNode:t.current,isSelectable:c,nodeId:l,nodeClickDistance:s}),()=>{var e;null===(e=v.current)||void 0===e||e.destroy()}}},[o,r,n,c,t,l]),u}function Me(){var e=E();return Object(i.useCallback)(t=>{var{nodeExtent:n,snapToGrid:o,snapGrid:r,nodesDraggable:i,onError:l,updateNodePositions:c,nodeLookup:s,nodeOrigin:d}=e.getState(),u=new Map,g=(e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable))(i),v=o?r[0]:5,b=o?r[1]:5,p=t.direction.x*v*t.factor,m=t.direction.y*b*t.factor;for(var[,f]of s)if(g(f)){var h={x:f.internals.positionAbsolute.x+p,y:f.internals.positionAbsolute.y+m};o&&(h=Object(a.mb)(h,r));var{position:O,positionAbsolute:S}=Object(a.r)({nodeId:f.id,nextPosition:h,nodeLookup:s,nodeExtent:n,nodeOrigin:d,onError:l});f.position=O,f.internals.positionAbsolute=S,u.set(f.id,f)}c(u)},[])}var Pe=Object(i.createContext)(null),De=Pe.Provider;Pe.Consumer;var Re=()=>Object(i.useContext)(Pe),Ie=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId});var Le=Object(i.memo)(se((function(e,t){var n,i,{type:l="source",position:s=a.e.Top,isValidConnection:d,isConnectable:g=!0,isConnectableStart:v=!0,isConnectableEnd:b=!0,id:p,onConnect:m,children:f,className:h,onMouseDown:S,onTouchStart:C}=e,j=y(e,u),w=p||null,k="target"===l,N=E(),M=Re(),{connectOnClick:P,noPanClassName:D,rfId:R}=x(Ie,c.shallow),{connectingFrom:I,connectingTo:L,clickConnecting:B,isPossibleEndHandle:z,connectionInProcess:_,valid:A}=x(((e,t,n)=>o=>{var{connectionClickStartHandle:r,connectionMode:i,connection:l}=o,{fromHandle:c,toHandle:s,isValid:d}=l,u=(null==s?void 0:s.nodeId)===e&&(null==s?void 0:s.id)===t&&(null==s?void 0:s.type)===n;return{connectingFrom:(null==c?void 0:c.nodeId)===e&&(null==c?void 0:c.id)===t&&(null==c?void 0:c.type)===n,connectingTo:u,clickConnecting:(null==r?void 0:r.nodeId)===e&&(null==r?void 0:r.id)===t&&(null==r?void 0:r.type)===n,isPossibleEndHandle:i===a.b.Strict?(null==c?void 0:c.type)!==n:e!==(null==c?void 0:c.nodeId)||t!==(null==c?void 0:c.id),connectionInProcess:!!c,valid:u&&d}})(M,w,l),c.shallow);M||null===(n=(i=N.getState()).onError)||void 0===n||n.call(i,"010",a.w.error010());var V=e=>{var{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=N.getState(),r=O(O({},t),e);if(o){var{edges:i,setEdges:l}=N.getState();l(Object(a.o)(r,i))}null==n||n(r),null==m||m(r)},Z=e=>{if(M){var t=Object(a.cb)(e.nativeEvent);if(v&&(t&&0===e.button||!t)){var n=N.getState();a.i.onPointerDown(e.nativeEvent,{autoPanOnConnect:n.autoPanOnConnect,connectionMode:n.connectionMode,connectionRadius:n.connectionRadius,domNode:n.domNode,nodeLookup:n.nodeLookup,lib:n.lib,isTarget:k,handleId:w,nodeId:M,flowId:n.rfId,panBy:n.panBy,cancelConnection:n.cancelConnection,onConnectStart:n.onConnectStart,onConnectEnd:n.onConnectEnd,updateConnection:n.updateConnection,onConnect:V,isValidConnection:d||n.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:n.autoPanSpeed})}t?null==S||S(e):null==C||C(e)}};return Object(o.jsx)("div",O(O({"data-handleid":w,"data-nodeid":M,"data-handlepos":s,"data-id":"".concat(R,"-").concat(M,"-").concat(w,"-").concat(l),className:Object(r.a)(["react-flow__handle","react-flow__handle-".concat(s),"nodrag",D,h,{source:!k,target:k,connectable:g,connectablestart:v,connectableend:b,clickconnecting:B,connectingfrom:I,connectingto:L,valid:A,connectionindicator:g&&(!_||z)&&(_?b:v)}]),onMouseDown:Z,onTouchStart:Z,onClick:P?e=>{var{onClickConnectStart:t,onClickConnectEnd:n,connectionClickStartHandle:o,connectionMode:r,isValidConnection:i,lib:c,rfId:s}=N.getState();if(M&&(o||v)){if(!o)return null==t||t(e.nativeEvent,{nodeId:M,handleId:w,handleType:l}),void N.setState({connectionClickStartHandle:{nodeId:M,type:l,id:w}});var u=Object(a.K)(e.target),g=d||i,{connection:b,isValid:p}=a.i.isValid(e.nativeEvent,{handle:{nodeId:M,id:w,type:l},connectionMode:r,fromNodeId:o.nodeId,fromHandleId:o.id||null,fromType:o.type,isValidConnection:g,flowId:s,doc:u,lib:c});p&&b&&V(b),null==n||n(e),N.setState({connectionClickStartHandle:null})}}:void 0,ref:t},j),{},{children:f}))})));var Be={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},ze={input:function(e){var{data:t,isConnectable:n,sourcePosition:r=a.e.Bottom}=e;return Object(o.jsxs)(o.Fragment,{children:[null==t?void 0:t.label,Object(o.jsx)(Le,{type:"source",position:r,isConnectable:n})]})},default:function(e){var{data:t,isConnectable:n,targetPosition:r=a.e.Top,sourcePosition:i=a.e.Bottom}=e;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Le,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label,Object(o.jsx)(Le,{type:"source",position:i,isConnectable:n})]})},output:function(e){var{data:t,isConnectable:n,targetPosition:r=a.e.Top}=e;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Le,{type:"target",position:r,isConnectable:n}),null==t?void 0:t.label]})},group:function(){return null}};var _e=e=>{var{width:t,height:n,x:o,y:r}=Object(a.L)(e.nodeLookup,{filter:e=>!!e.selected});return{width:Object(a.eb)(t)?t:null,height:Object(a.eb)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(o,"px,").concat(r,"px)")}};function Ae(e){var{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:a}=e,l=E(),{width:s,height:d,transformString:u,userSelectionActive:g}=x(_e,c.shallow),v=Me(),b=Object(i.useRef)(null);if(Object(i.useEffect)(()=>{var e;a||(null===(e=b.current)||void 0===e||e.focus({preventScroll:!0}))},[a]),Ne({nodeRef:b}),g||!s||!d)return null;var p=t?e=>{var n=l.getState().nodes.filter(e=>e.selected);t(e,n)}:void 0;return Object(o.jsx)("div",{className:Object(r.a)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u},children:Object(o.jsx)("div",{ref:b,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:a?void 0:-1,onKeyDown:a?void 0:e=>{Object.prototype.hasOwnProperty.call(Be,e.key)&&v({direction:Be[e.key],factor:e.shiftKey?4:1})},style:{width:s,height:d}})})}var Ve="undefined"!=typeof window?window:void 0,Ze=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Te(e){var{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:s,paneClickDistance:d,deleteKeyCode:u,selectionKeyCode:g,selectionOnDrag:v,selectionMode:b,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:f,panActivationKeyCode:h,zoomActivationKeyCode:O,elementsSelectable:S,zoomOnScroll:y,zoomOnPinch:C,panOnScroll:j,panOnScrollSpeed:w,panOnScrollMode:k,zoomOnDoubleClick:N,panOnDrag:M,defaultViewport:P,translateExtent:D,minZoom:R,maxZoom:I,preventScrolling:L,onSelectionContextMenu:B,noWheelClassName:z,noPanClassName:_,disableKeyboardA11y:A,onViewportChange:V,isControlledViewport:Z}=e,{nodesSelectionActive:T,userSelectionActive:K}=x(Ze),H=U(g,{target:Ve}),W=U(h,{target:Ve}),F=W||M,Y=W||j,X=v&&!0!==F,G=H||K||X;return function(e){var{deleteKeyCode:t,multiSelectionKeyCode:n}=e,o=E(),{deleteElements:r}=pe(),a=U(t,fe),l=U(n,{target:he});Object(i.useEffect)(()=>{if(a){var{edges:e,nodes:t}=o.getState();r({nodes:t.filter(me),edges:e.filter(me)}),o.setState({nodesSelectionActive:!1})}},[a]),Object(i.useEffect)(()=>{o.setState({multiSelectionActive:l})},[l])}({deleteKeyCode:u,multiSelectionKeyCode:f}),Object(o.jsx)(ye,{onPaneContextMenu:c,elementsSelectable:S,zoomOnScroll:y,zoomOnPinch:C,panOnScroll:Y,panOnScrollSpeed:w,panOnScrollMode:k,zoomOnDoubleClick:N,panOnDrag:!H&&F,defaultViewport:P,translateExtent:D,minZoom:R,maxZoom:I,zoomActivationKeyCode:O,preventScrolling:L,noWheelClassName:z,noPanClassName:_,onViewportChange:V,isControlledViewport:Z,paneClickDistance:d,children:Object(o.jsxs)(Ee,{onSelectionStart:p,onSelectionEnd:m,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:s,panOnDrag:F,isSelecting:!!G,selectionMode:b,selectionKeyPressed:H,selectionOnDrag:X,children:[t,T&&Object(o.jsx)(Ae,{onSelectionContextMenu:B,noPanClassName:_,disableKeyboardA11y:A})]})})}Te.displayName="FlowRenderer";var Ke=Object(i.memo)(Te);function He(e){return x(Object(i.useCallback)((e=>t=>e?Object(a.P)(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()))(e),[e]),c.shallow)}var We=e=>e.updateNodeInternals;function Fe(e){var t,{id:n,onClick:l,onMouseEnter:s,onMouseMove:d,onMouseLeave:u,onContextMenu:g,onDoubleClick:v,nodesDraggable:b,elementsSelectable:p,nodesConnectable:m,nodesFocusable:f,resizeObserver:h,noDragClassName:S,noPanClassName:y,disableKeyboardA11y:C,rfId:j,nodeTypes:w,nodeExtent:k,nodeClickDistance:N,onError:M}=e,{node:P,internals:D,isParent:R}=x(e=>{var t=e.nodeLookup.get(n),o=e.parentLookup.has(n);return{node:t,internals:t.internals,isParent:o}},c.shallow),I=P.type||"default",L=(null==w?void 0:w[I])||ze[I];void 0===L&&(null==M||M("003",a.w.error003(I)),I="default",L=ze.default);var B=!!(P.draggable||b&&void 0===P.draggable),z=!!(P.selectable||p&&void 0===P.selectable),_=!!(P.connectable||m&&void 0===P.connectable),A=!!(P.focusable||f&&void 0===P.focusable),V=E(),Z=Object(a.gb)(P),T=function(e){var{node:t,nodeType:n,hasDimensions:o,resizeObserver:r}=e,a=E(),l=Object(i.useRef)(null),c=Object(i.useRef)(null),s=Object(i.useRef)(t.sourcePosition),d=Object(i.useRef)(t.targetPosition),u=Object(i.useRef)(n),g=o&&!!t.internals.handleBounds;return Object(i.useEffect)(()=>{!l.current||t.hidden||g&&c.current===l.current||(c.current&&(null==r||r.unobserve(c.current)),null==r||r.observe(l.current),c.current=l.current)},[g,t.hidden]),Object(i.useEffect)(()=>()=>{c.current&&(null==r||r.unobserve(c.current),c.current=null)},[]),Object(i.useEffect)(()=>{if(l.current){var e=u.current!==n,o=s.current!==t.sourcePosition,r=d.current!==t.targetPosition;(e||o||r)&&(u.current=n,s.current=t.sourcePosition,d.current=t.targetPosition,a.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:l.current,force:!0}]])))}},[t.id,n,t.sourcePosition,t.targetPosition]),l}({node:P,nodeType:I,hasDimensions:Z,resizeObserver:h}),K=Ne({nodeRef:T,disabled:P.hidden||!B,noDragClassName:S,handleSelector:P.dragHandle,nodeId:n,isSelectable:z,nodeClickDistance:N}),H=Me();if(P.hidden)return null;var W=Object(a.N)(P),F=function(e){var t,n,o,r,a,i,l,c,s,d;return void 0===e.internals.handleBounds?{width:null!==(a=null!==(i=e.width)&&void 0!==i?i:e.initialWidth)&&void 0!==a?a:null===(l=e.style)||void 0===l?void 0:l.width,height:null!==(c=null!==(s=e.height)&&void 0!==s?s:e.initialHeight)&&void 0!==c?c:null===(d=e.style)||void 0===d?void 0:d.height}:{width:null!==(t=e.width)&&void 0!==t?t:null===(n=e.style)||void 0===n?void 0:n.width,height:null!==(o=e.height)&&void 0!==o?o:null===(r=e.style)||void 0===r?void 0:r.height}}(P),Y=k?Object(a.s)(D.positionAbsolute,k):D.positionAbsolute,X=z||B||l||s||d||u,G=s?e=>s(e,O({},D.userNode)):void 0,U=d?e=>d(e,O({},D.userNode)):void 0,Q=u?e=>u(e,O({},D.userNode)):void 0,q=g?e=>g(e,O({},D.userNode)):void 0,J=v?e=>v(e,O({},D.userNode)):void 0;return Object(o.jsx)("div",{className:Object(r.a)(["react-flow__node","react-flow__node-".concat(I),{[y]:B},P.className,{selected:P.selected,selectable:z,parent:R,draggable:B,dragging:K}]),ref:T,style:O(O({zIndex:D.z,transform:"translate(".concat(Y.x,"px,").concat(Y.y,"px)"),pointerEvents:X?"all":"none",visibility:Z?"visible":"hidden"},P.style),F),"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:G,onMouseMove:U,onMouseLeave:Q,onContextMenu:q,onClick:e=>{var{selectNodesOnDrag:t,nodeDragThreshold:o}=V.getState();z&&(!t||!B||o>0)&&ke({id:n,store:V,nodeRef:T}),l&&l(e,O({},D.userNode))},onDoubleClick:J,onKeyDown:A?e=>{if(!Object(a.ab)(e.nativeEvent)&&!C)if(a.v.includes(e.key)&&z){var t="Escape"===e.key;ke({id:n,store:V,unselect:t,nodeRef:T})}else B&&P.selected&&Object.prototype.hasOwnProperty.call(Be,e.key)&&(V.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~Y.x,", y: ").concat(~~Y.y)}),H({direction:Be[e.key],factor:e.shiftKey?4:1}))}:void 0,tabIndex:A?0:void 0,role:A?"button":void 0,"aria-describedby":C?void 0:"".concat("react-flow__node-desc","-").concat(j),"aria-label":P.ariaLabel,children:Object(o.jsx)(De,{value:n,children:Object(o.jsx)(L,O({id:n,data:P.data,type:I,positionAbsoluteX:Y.x,positionAbsoluteY:Y.y,selected:P.selected,selectable:z,draggable:B,deletable:null===(t=P.deletable)||void 0===t||t,isConnectable:_,sourcePosition:P.sourcePosition,targetPosition:P.targetPosition,dragging:K,dragHandle:P.dragHandle,zIndex:D.z,parentId:P.parentId},W))})})}var Ye=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Xe(e){var{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,onError:l}=x(Ye,c.shallow),s=He(e.onlyRenderVisibleElements),d=function(){var e=x(We),[t]=Object(i.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{var n=new Map;t.forEach(e=>{var t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return Object(i.useEffect)(()=>()=>{null==t||t.disconnect()},[t]),t}();return Object(o.jsx)("div",{className:"react-flow__nodes",style:Oe,children:s.map(i=>Object(o.jsx)(Fe,{id:i,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:l},i))})}Xe.displayName="NodeRenderer";var Ge=Object(i.memo)(Xe);var Ue={[a.c.Arrow]:e=>{var{color:t="none",strokeWidth:n=1}=e;return Object(o.jsx)("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[a.c.ArrowClosed]:e=>{var{color:t="none",strokeWidth:n=1}=e;return Object(o.jsx)("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};var Qe=e=>{var{id:t,type:n,color:r,width:l=12.5,height:c=12.5,markerUnits:s="strokeWidth",strokeWidth:d,orient:u="auto-start-reverse"}=e,g=function(e){var t=E();return Object(i.useMemo)(()=>{var n,o;return Object.prototype.hasOwnProperty.call(Ue,e)?Ue[e]:(null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",a.w.error009(e)),null)},[e])}(n);return g?Object(o.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(l),markerHeight:"".concat(c),viewBox:"-10 -10 20 20",markerUnits:s,orient:u,refX:"0",refY:"0",children:Object(o.jsx)(g,{color:r,strokeWidth:d})}):null},qe=e=>{var{defaultColor:t,rfId:n}=e,r=x(e=>e.edges),l=x(e=>e.defaultEdgeOptions),c=Object(i.useMemo)(()=>Object(a.t)(r,{id:n,defaultColor:t,defaultMarkerStart:null==l?void 0:l.markerStart,defaultMarkerEnd:null==l?void 0:l.markerEnd}),[r,l,n,t]);return c.length?Object(o.jsx)("svg",{className:"react-flow__marker",children:Object(o.jsx)("defs",{children:c.map(e=>Object(o.jsx)(Qe,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};qe.displayName="MarkerDefinitions";var Je=Object(i.memo)(qe);function $e(e){var{x:t,y:n,label:a,labelStyle:l={},labelShowBg:c=!0,labelBgStyle:s={},labelBgPadding:d=[2,4],labelBgBorderRadius:u=2,children:v,className:b}=e,p=y(e,g),[m,f]=Object(i.useState)({x:1,y:0,width:0,height:0}),h=Object(r.a)(["react-flow__edge-textwrapper",b]),S=Object(i.useRef)(null);return Object(i.useEffect)(()=>{if(S.current){var e=S.current.getBBox();f({x:e.x,y:e.y,width:e.width,height:e.height})}},[a]),void 0!==a&&a?Object(o.jsxs)("g",O(O({transform:"translate(".concat(t-m.width/2," ").concat(n-m.height/2,")"),className:h,visibility:m.width?"visible":"hidden"},p),{},{children:[c&&Object(o.jsx)("rect",{width:m.width+2*d[0],x:-d[0],y:-d[1],height:m.height+2*d[1],className:"react-flow__edge-textbg",style:s,rx:u,ry:u}),Object(o.jsx)("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:S,style:l,children:a}),v]})):null}$e.displayName="EdgeText";var et=Object(i.memo)($e);function tt(e){var{id:t,path:n,labelX:i,labelY:l,label:c,labelStyle:s,labelShowBg:d,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:v,style:b,markerEnd:p,markerStart:m,className:f,interactionWidth:h=20}=e;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("path",{id:t,style:b,d:n,fill:"none",className:Object(r.a)(["react-flow__edge-path",f]),markerEnd:p,markerStart:m}),h&&Object(o.jsx)("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),c&&Object(a.eb)(i)&&Object(a.eb)(l)?Object(o.jsx)(et,{x:i,y:l,label:c,labelStyle:s,labelShowBg:d,labelBgStyle:u,labelBgPadding:g,labelBgBorderRadius:v}):null]})}function nt(e){var{pos:t,x1:n,y1:o,x2:r,y2:i}=e;return t===a.e.Left||t===a.e.Right?[.5*(n+r),o]:[n,.5*(o+i)]}function ot(e){var{sourceX:t,sourceY:n,sourcePosition:o=a.e.Bottom,targetX:r,targetY:i,targetPosition:l=a.e.Top}=e,[c,s]=nt({pos:o,x1:t,y1:n,x2:r,y2:i}),[d,u]=nt({pos:l,x1:r,y1:i,x2:t,y2:n}),[g,v,b,p]=Object(a.z)({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:c,sourceControlY:s,targetControlX:d,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(c,",").concat(s," ").concat(d,",").concat(u," ").concat(r,",").concat(i),g,v,b,p]}function rt(e){return Object(i.memo)(t=>{var{id:n,sourceX:r,sourceY:i,targetX:l,targetY:c,sourcePosition:s=a.e.Bottom,targetPosition:d=a.e.Top,label:u,labelStyle:g,labelShowBg:v,labelBgStyle:b,labelBgPadding:p,labelBgBorderRadius:m,style:f,markerEnd:h,markerStart:O,interactionWidth:S}=t,[y,C,j]=ot({sourceX:r,sourceY:i,sourcePosition:s,targetX:l,targetY:c,targetPosition:d}),w=e.isInternal?void 0:n;return Object(o.jsx)(tt,{id:w,path:y,labelX:C,labelY:j,label:u,labelStyle:g,labelShowBg:v,labelBgStyle:b,labelBgPadding:p,labelBgBorderRadius:m,style:f,markerEnd:h,markerStart:O,interactionWidth:S})})}var at=rt({isInternal:!1}),it=rt({isInternal:!0});function lt(e){return Object(i.memo)(t=>{var{id:n,sourceX:r,sourceY:i,targetX:l,targetY:c,label:s,labelStyle:d,labelShowBg:u,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:p,sourcePosition:m=a.e.Bottom,targetPosition:f=a.e.Top,markerEnd:h,markerStart:O,pathOptions:S,interactionWidth:y}=t,[C,j,w]=Object(a.R)({sourceX:r,sourceY:i,sourcePosition:m,targetX:l,targetY:c,targetPosition:f,borderRadius:null==S?void 0:S.borderRadius,offset:null==S?void 0:S.offset}),x=e.isInternal?void 0:n;return Object(o.jsx)(tt,{id:x,path:C,labelX:j,labelY:w,label:s,labelStyle:d,labelShowBg:u,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:p,markerEnd:h,markerStart:O,interactionWidth:y})})}at.displayName="SimpleBezierEdge",it.displayName="SimpleBezierEdgeInternal";var ct=lt({isInternal:!1}),st=lt({isInternal:!0});function dt(e){return Object(i.memo)(t=>{var n,{id:r}=t,a=y(t,v),l=e.isInternal?void 0:r;return Object(o.jsx)(ct,O(O({},a),{},{id:l,pathOptions:Object(i.useMemo)(()=>{var e;return{borderRadius:0,offset:null===(e=a.pathOptions)||void 0===e?void 0:e.offset}},[null===(n=a.pathOptions)||void 0===n?void 0:n.offset])}))})}ct.displayName="SmoothStepEdge",st.displayName="SmoothStepEdgeInternal";var ut=dt({isInternal:!1}),gt=dt({isInternal:!0});function vt(e){return Object(i.memo)(t=>{var{id:n,sourceX:r,sourceY:i,targetX:l,targetY:c,label:s,labelStyle:d,labelShowBg:u,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:p,markerEnd:m,markerStart:f,interactionWidth:h}=t,[O,S,y]=Object(a.S)({sourceX:r,sourceY:i,targetX:l,targetY:c}),C=e.isInternal?void 0:n;return Object(o.jsx)(tt,{id:C,path:O,labelX:S,labelY:y,label:s,labelStyle:d,labelShowBg:u,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:b,style:p,markerEnd:m,markerStart:f,interactionWidth:h})})}ut.displayName="StepEdge",gt.displayName="StepEdgeInternal";var bt=vt({isInternal:!1}),pt=vt({isInternal:!0});function mt(e){return Object(i.memo)(t=>{var{id:n,sourceX:r,sourceY:i,targetX:l,targetY:c,sourcePosition:s=a.e.Bottom,targetPosition:d=a.e.Top,label:u,labelStyle:g,labelShowBg:v,labelBgStyle:b,labelBgPadding:p,labelBgBorderRadius:m,style:f,markerEnd:h,markerStart:O,pathOptions:S,interactionWidth:y}=t,[C,j,w]=Object(a.A)({sourceX:r,sourceY:i,sourcePosition:s,targetX:l,targetY:c,targetPosition:d,curvature:null==S?void 0:S.curvature}),x=e.isInternal?void 0:n;return Object(o.jsx)(tt,{id:x,path:C,labelX:j,labelY:w,label:u,labelStyle:g,labelShowBg:v,labelBgStyle:b,labelBgPadding:p,labelBgBorderRadius:m,style:f,markerEnd:h,markerStart:O,interactionWidth:y})})}bt.displayName="StraightEdge",pt.displayName="StraightEdgeInternal";var ft=mt({isInternal:!1}),ht=mt({isInternal:!0});ft.displayName="BezierEdge",ht.displayName="BezierEdgeInternal";var Ot={default:ht,straight:pt,step:gt,smoothstep:st,simplebezier:it},St={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},yt=(e,t,n)=>n===a.e.Left?e-t:n===a.e.Right?e+t:e,Ct=(e,t,n)=>n===a.e.Top?e-t:n===a.e.Bottom?e+t:e;function jt(e){var{position:t,centerX:n,centerY:a,radius:i=10,onMouseDown:l,onMouseEnter:c,onMouseOut:s,type:d}=e;return Object(o.jsx)("circle",{onMouseDown:l,onMouseEnter:c,onMouseOut:s,className:Object(r.a)(["react-flow__edgeupdater","".concat("react-flow__edgeupdater","-").concat(d)]),cx:yt(n,i,t),cy:Ct(a,i,t),r:i,stroke:"transparent",fill:"transparent"})}function wt(e){var{isReconnectable:t,reconnectRadius:n,edge:r,targetHandleId:i,sourceHandleId:l,sourceX:c,sourceY:s,targetX:d,targetY:u,sourcePosition:g,targetPosition:v,onReconnect:b,onReconnectStart:p,onReconnectEnd:m,setReconnecting:f,setUpdateHover:h}=e,O=E(),S=(e,t)=>{if(0===e.button){var{autoPanOnConnect:n,domNode:o,isValidConnection:c,connectionMode:s,connectionRadius:d,lib:u,onConnectStart:g,onConnectEnd:v,cancelConnection:h,nodeLookup:S,rfId:y,panBy:C,updateConnection:j}=O.getState(),w=t?r.target:r.source,x=(t?i:l)||null,E=t?"target":"source",k=t;f(!0),null==p||p(e,r,E);a.i.onPointerDown(e.nativeEvent,{autoPanOnConnect:n,connectionMode:s,connectionRadius:d,domNode:o,handleId:x,nodeId:w,nodeLookup:S,isTarget:k,edgeUpdaterType:E,lib:u,flowId:y,cancelConnection:h,panBy:C,isValidConnection:c,onConnect:e=>null==b?void 0:b(r,e),onConnectStart:g,onConnectEnd:v,onReconnectEnd:e=>{f(!1),null==m||m(e,r,E)},updateConnection:j,getTransform:()=>O.getState().transform,getFromHandle:()=>O.getState().connection.fromHandle})}},y=()=>h(!0),C=()=>h(!1);return Object(o.jsxs)(o.Fragment,{children:[("source"===t||!0===t)&&Object(o.jsx)(jt,{position:g,centerX:c,centerY:s,radius:n,onMouseDown:e=>S(e,!0),onMouseEnter:y,onMouseOut:C,type:"source"}),("target"===t||!0===t)&&Object(o.jsx)(jt,{position:v,centerX:d,centerY:u,radius:n,onMouseDown:e=>S(e,!1),onMouseEnter:y,onMouseOut:C,type:"target"})]})}function xt(e){var t,{id:n,edgesFocusable:l,edgesReconnectable:s,elementsSelectable:d,onClick:u,onDoubleClick:g,onContextMenu:v,onMouseEnter:b,onMouseMove:p,onMouseLeave:m,reconnectRadius:f,onReconnect:h,onReconnectStart:S,onReconnectEnd:y,rfId:C,edgeTypes:j,noPanClassName:w,onError:k,disableKeyboardA11y:N}=e,M=x(e=>e.edgeLookup.get(n)),P=x(e=>e.defaultEdgeOptions),D=(M=P?O(O({},P),M):M).type||"default",R=(null==j?void 0:j[D])||Ot[D];void 0===R&&(null==k||k("011",a.w.error011(D)),D="default",R=Ot.default);var I=!!(M.focusable||l&&void 0===M.focusable),L=void 0!==h&&(M.reconnectable||s&&void 0===M.reconnectable),B=!!(M.selectable||d&&void 0===M.selectable),z=Object(i.useRef)(null),[_,A]=Object(i.useState)(!1),[V,Z]=Object(i.useState)(!1),T=E(),{zIndex:K,sourceX:H,sourceY:W,targetX:F,targetY:Y,sourcePosition:X,targetPosition:G}=x(Object(i.useCallback)(e=>{var t=e.nodeLookup.get(M.source),o=e.nodeLookup.get(M.target);if(!t||!o)return O({zIndex:M.zIndex},St);var r=Object(a.F)({id:n,sourceNode:t,targetNode:o,sourceHandle:M.sourceHandle||null,targetHandle:M.targetHandle||null,connectionMode:e.connectionMode,onError:k});return O({zIndex:Object(a.H)({selected:M.selected,zIndex:M.zIndex,sourceNode:t,targetNode:o,elevateOnSelect:e.elevateEdgesOnSelect})},r||St)},[M.source,M.target,M.sourceHandle,M.targetHandle,M.selected,M.zIndex]),c.shallow),U=Object(i.useMemo)(()=>M.markerStart?"url('#".concat(Object(a.M)(M.markerStart,C),"')"):void 0,[M.markerStart,C]),Q=Object(i.useMemo)(()=>M.markerEnd?"url('#".concat(Object(a.M)(M.markerEnd,C),"')"):void 0,[M.markerEnd,C]);if(M.hidden||null===H||null===W||null===F||null===Y)return null;var q=g?e=>{g(e,O({},M))}:void 0,J=v?e=>{v(e,O({},M))}:void 0,$=b?e=>{b(e,O({},M))}:void 0,ee=p?e=>{p(e,O({},M))}:void 0,te=m?e=>{m(e,O({},M))}:void 0;return Object(o.jsx)("svg",{style:{zIndex:K},children:Object(o.jsxs)("g",{className:Object(r.a)(["react-flow__edge","react-flow__edge-".concat(D),M.className,w,{selected:M.selected,animated:M.animated,inactive:!B&&!u,updating:_,selectable:B}]),onClick:e=>{var t,{addSelectedEdges:o,unselectNodesAndEdges:r,multiSelectionActive:a}=T.getState();B&&(T.setState({nodesSelectionActive:!1}),M.selected&&a?(r({nodes:[],edges:[M]}),null===(t=z.current)||void 0===t||t.blur()):o([n]));u&&u(e,M)},onDoubleClick:q,onContextMenu:J,onMouseEnter:$,onMouseMove:ee,onMouseLeave:te,onKeyDown:I?e=>{if(!N&&a.v.includes(e.key)&&B){var t,{unselectNodesAndEdges:o,addSelectedEdges:r}=T.getState();if("Escape"===e.key)null===(t=z.current)||void 0===t||t.blur(),o({edges:[M]});else r([n])}}:void 0,tabIndex:I?0:void 0,role:I?"button":"img","data-id":n,"data-testid":"rf__edge-".concat(n),"aria-label":null===M.ariaLabel?void 0:M.ariaLabel||"Edge from ".concat(M.source," to ").concat(M.target),"aria-describedby":I?"".concat("react-flow__edge-desc","-").concat(C):void 0,ref:z,children:[!V&&Object(o.jsx)(R,{id:n,source:M.source,target:M.target,type:M.type,selected:M.selected,animated:M.animated,selectable:B,deletable:null===(t=M.deletable)||void 0===t||t,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,sourceX:H,sourceY:W,targetX:F,targetY:Y,sourcePosition:X,targetPosition:G,data:M.data,style:M.style,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerStart:U,markerEnd:Q,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth}),L&&Object(o.jsx)(wt,{edge:M,isReconnectable:L,reconnectRadius:f,onReconnect:h,onReconnectStart:S,onReconnectEnd:y,sourceX:H,sourceY:W,targetX:F,targetY:Y,sourcePosition:X,targetPosition:G,setUpdateHover:A,setReconnecting:Z,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle})]})})}var Et=e=>({width:e.width,height:e.height,edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function kt(e){var t,{defaultMarkerColor:n,onlyRenderVisibleElements:r,rfId:l,edgeTypes:s,noPanClassName:d,onReconnect:u,onEdgeContextMenu:g,onEdgeMouseEnter:v,onEdgeMouseMove:b,onEdgeMouseLeave:p,onEdgeClick:m,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:O,onReconnectEnd:S,disableKeyboardA11y:y}=e,{edgesFocusable:C,edgesReconnectable:j,elementsSelectable:w,onError:E}=x(Et,c.shallow),k=(t=r,x(Object(i.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);var n=[];if(e.width&&e.height)for(var o of e.edges){var r=e.nodeLookup.get(o.source),i=e.nodeLookup.get(o.target);r&&i&&Object(a.Z)({sourceNode:r,targetNode:i,width:e.width,height:e.height,transform:e.transform})&&n.push(o.id)}return n},[t]),c.shallow));return Object(o.jsxs)("div",{className:"react-flow__edges",children:[Object(o.jsx)(Je,{defaultColor:n,rfId:l}),k.map(e=>Object(o.jsx)(xt,{id:e,edgesFocusable:C,edgesReconnectable:j,elementsSelectable:w,noPanClassName:d,onReconnect:u,onContextMenu:g,onMouseEnter:v,onMouseMove:b,onMouseLeave:p,onClick:m,reconnectRadius:f,onDoubleClick:h,onReconnectStart:O,onReconnectEnd:S,rfId:l,onError:E,edgeTypes:s,disableKeyboardA11y:y},e))]})}kt.displayName="EdgeRenderer";var Nt=Object(i.memo)(kt),Mt=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function Pt(e){var{children:t}=e,n=x(Mt);return Object(o.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:t})}var Dt=e=>{var t;return null===(t=e.panZoom)||void 0===t?void 0:t.syncViewport};var Rt=e=>e.connection.inProgress?O(O({},e.connection),{},{to:Object(a.jb)(e.connection.to,e.transform)}):O({},e.connection);var It=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Lt(e){var{containerStyle:t,style:n,type:i,component:l}=e,{nodesConnectable:s,width:d,height:u,isValid:g,inProgress:v}=x(It,c.shallow);return!!(d&&s&&v)?Object(o.jsx)("svg",{style:t,width:d,height:u,className:"react-flow__connectionline react-flow__container",children:Object(o.jsx)("g",{className:Object(r.a)(["react-flow__connection",Object(a.D)(g)]),children:Object(o.jsx)(Bt,{style:n,type:i,CustomComponent:l,isValid:g})})}):null}var Bt=e=>{var{style:t,type:n=a.a.Bezier,CustomComponent:r,isValid:i}=e,{inProgress:l,from:s,fromNode:d,fromHandle:u,fromPosition:g,to:v,toNode:b,toHandle:p,toPosition:m}=x(Rt,c.shallow);if(l){if(r)return Object(o.jsx)(r,{connectionLineType:n,connectionLineStyle:t,fromNode:d,fromHandle:u,fromX:s.x,fromY:s.y,toX:v.x,toY:v.y,fromPosition:g,toPosition:m,connectionStatus:Object(a.D)(i),toNode:b,toHandle:p});var f="",h={sourceX:s.x,sourceY:s.y,sourcePosition:g,targetX:v.x,targetY:v.y,targetPosition:m};switch(n){case a.a.Bezier:[f]=Object(a.A)(h);break;case a.a.SimpleBezier:[f]=ot(h);break;case a.a.Step:[f]=Object(a.R)(O(O({},h),{},{borderRadius:0}));break;case a.a.SmoothStep:[f]=Object(a.R)(h);break;default:[f]=Object(a.S)(h)}return Object(o.jsx)("path",{d:f,fill:"none",className:"react-flow__connection-path",style:t})}};Bt.displayName="ConnectionLine";var zt={};function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;Object(i.useRef)(e),E();Object(i.useEffect)(()=>{},[e])}function At(e){var{nodeTypes:t,edgeTypes:n,onInit:r,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:s,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:g,onNodeContextMenu:v,onSelectionContextMenu:b,onSelectionStart:p,onSelectionEnd:m,connectionLineType:f,connectionLineStyle:h,connectionLineComponent:O,connectionLineContainerStyle:S,selectionKeyCode:y,selectionOnDrag:C,selectionMode:j,multiSelectionKeyCode:w,panActivationKeyCode:k,zoomActivationKeyCode:N,deleteKeyCode:M,onlyRenderVisibleElements:P,elementsSelectable:D,defaultViewport:R,translateExtent:I,minZoom:L,maxZoom:B,preventScrolling:z,defaultMarkerColor:_,zoomOnScroll:A,zoomOnPinch:V,panOnScroll:Z,panOnScrollSpeed:T,panOnScrollMode:K,zoomOnDoubleClick:H,panOnDrag:W,onPaneClick:F,onPaneMouseEnter:Y,onPaneMouseMove:X,onPaneMouseLeave:G,onPaneScroll:U,onPaneContextMenu:Q,paneClickDistance:q,nodeClickDistance:J,onEdgeContextMenu:$,onEdgeMouseEnter:ee,onEdgeMouseMove:te,onEdgeMouseLeave:ne,reconnectRadius:oe,onReconnect:re,onReconnectStart:ae,onReconnectEnd:ie,noDragClassName:le,noWheelClassName:ce,noPanClassName:se,disableKeyboardA11y:de,nodeExtent:ue,rfId:ge,viewport:ve,onViewportChange:be}=e;return _t(t),_t(n),E(),Object(i.useRef)(!1),Object(i.useEffect)(()=>{},[]),function(e){var t=pe(),n=Object(i.useRef)(!1);Object(i.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(r),function(e){var t=x(Dt),n=E();Object(i.useEffect)(()=>{e&&(null==t||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(ve),Object(o.jsx)(Ke,{onPaneClick:F,onPaneMouseEnter:Y,onPaneMouseMove:X,onPaneMouseLeave:G,onPaneContextMenu:Q,onPaneScroll:U,paneClickDistance:q,deleteKeyCode:M,selectionKeyCode:y,selectionOnDrag:C,selectionMode:j,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:w,panActivationKeyCode:k,zoomActivationKeyCode:N,elementsSelectable:D,zoomOnScroll:A,zoomOnPinch:V,zoomOnDoubleClick:H,panOnScroll:Z,panOnScrollSpeed:T,panOnScrollMode:K,panOnDrag:W,defaultViewport:R,translateExtent:I,minZoom:L,maxZoom:B,onSelectionContextMenu:b,preventScrolling:z,noDragClassName:le,noWheelClassName:ce,noPanClassName:se,disableKeyboardA11y:de,onViewportChange:be,isControlledViewport:!!ve,children:Object(o.jsxs)(Pt,{children:[Object(o.jsx)(Nt,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:s,onReconnect:re,onReconnectStart:ae,onReconnectEnd:ie,onlyRenderVisibleElements:P,onEdgeContextMenu:$,onEdgeMouseEnter:ee,onEdgeMouseMove:te,onEdgeMouseLeave:ne,reconnectRadius:oe,defaultMarkerColor:_,noPanClassName:se,disableKeyboardA11y:de,rfId:ge}),Object(o.jsx)(Lt,{style:h,type:f,component:O,containerStyle:S}),Object(o.jsx)("div",{className:"react-flow__edgelabel-renderer"}),Object(o.jsx)(Ge,{nodeTypes:t,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:u,onNodeMouseLeave:g,onNodeContextMenu:v,nodeClickDistance:J,onlyRenderVisibleElements:P,noPanClassName:se,noDragClassName:le,disableKeyboardA11y:de,nodeExtent:ue,rfId:ge}),Object(o.jsx)("div",{className:"react-flow__viewport-portal"})]})})}At.displayName="GraphView";var Vt=Object(i.memo)(At),Zt=function(){var e,t,{nodes:n,edges:o,defaultNodes:r,defaultEdges:i,width:l,height:c,fitView:s,nodeOrigin:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=new Map,g=new Map,v=new Map,b=new Map,p=null!==(e=null!=i?i:o)&&void 0!==e?e:[],m=null!==(t=null!=r?r:n)&&void 0!==t?t:[],f=null!=d?d:[0,0];Object(a.ob)(v,b,p),Object(a.p)(m,u,g,{nodeOrigin:f,elevateNodesOnSelect:!1});var h=[0,0,1];if(s&&l&&c){var S=Object(a.L)(u,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:y,y:C,zoom:j}=Object(a.T)(S,l,c,.5,2,.1);h=[y,C,j]}return{rfId:"1",width:0,height:0,transform:h,nodes:m,nodeLookup:u,parentLookup:g,edges:p,edgeLookup:b,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==r,hasDefaultEdges:void 0!==i,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:a.W,nodeExtent:a.W,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:a.b.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:f,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:O({},a.X),connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:a.u,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}};function Tt(e){var{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:c,initialWidth:s,initialHeight:d,fitView:u,nodeOrigin:g,children:v}=e,[b]=Object(i.useState)(()=>(e=>{var{nodes:t,edges:n,defaultNodes:o,defaultEdges:r,width:i,height:c,fitView:s,nodeOrigin:d}=e;return Object(l.createWithEqualityFn)((e,l)=>O(O({},Zt({nodes:t,edges:n,width:i,height:c,fitView:s,nodeOrigin:d,defaultNodes:o,defaultEdges:r})),{},{setNodes:t=>{var{nodeLookup:n,parentLookup:o,nodeOrigin:r,elevateNodesOnSelect:i}=l();Object(a.p)(t,n,o,{nodeOrigin:r,elevateNodesOnSelect:i,checkEquality:!0}),e({nodes:t})},setEdges:t=>{var{connectionLookup:n,edgeLookup:o}=l();Object(a.ob)(n,o,t),e({edges:t})},setDefaultNodesAndEdges:(t,n)=>{if(t){var{setNodes:o}=l();o(t),e({hasDefaultNodes:!0})}if(n){var{setEdges:r}=l();r(n),e({hasDefaultEdges:!0})}},updateNodeInternals:t=>{var{triggerNodeChanges:n,nodeLookup:o,parentLookup:r,fitViewOnInit:i,fitViewDone:c,fitViewOnInitOptions:s,domNode:d,nodeOrigin:u,debug:g,fitViewSync:v}=l(),{changes:b,updatedInternals:p}=Object(a.pb)(t,o,r,d,u);if(p){Object(a.nb)(o,r,{nodeOrigin:u});var m=c;!c&&i&&(m=v(O(O({},s),{},{nodes:null==s?void 0:s.nodes}))),e({fitViewDone:m}),(null==b?void 0:b.length)>0&&(g&&console.log("React Flow: trigger node changes",b),null==n||n(b))}},updateNodePositions:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];for(var[r,i]of e){var c={id:r,type:"position",position:i.position,dragging:t};null!=i&&i.expandParent&&null!=i&&i.parentId&&c.position&&(n.push({id:r,parentId:i.parentId,rect:O(O({},i.internals.positionAbsolute),{},{width:i.measured.width,height:i.measured.height})}),c.position.x=Math.max(0,c.position.x),c.position.y=Math.max(0,c.position.y)),o.push(c)}if(n.length>0){var{nodeLookup:s,parentLookup:d,nodeOrigin:u}=l(),g=Object(a.V)(n,s,d,u);o.push(...g)}l().triggerNodeChanges(o)},triggerNodeChanges:e=>{var{onNodesChange:t,setNodes:n,nodes:o,hasDefaultNodes:r,debug:a}=l();if(null!=e&&e.length){if(r)n(te(e,o));a&&console.log("React Flow: trigger node changes",e),null==t||t(e)}},triggerEdgeChanges:e=>{var{onEdgesChange:t,setEdges:n,edges:o,hasDefaultEdges:r,debug:a}=l();if(null!=e&&e.length){if(r)n(ne(e,o));a&&console.log("React Flow: trigger edge changes",e),null==t||t(e)}},addSelectedNodes:e=>{var{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:r,triggerEdgeChanges:a}=l();t?r(e.map(e=>oe(e,!0))):(r(re(o,new Set([...e]),!0)),a(re(n)))},addSelectedEdges:e=>{var{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:r,triggerEdgeChanges:a}=l();t?a(e.map(e=>oe(e,!0))):(a(re(n,new Set([...e]))),r(re(o,new Set,!0)))},unselectNodesAndEdges:function(){var{nodes:e,edges:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{edges:n,nodes:o,triggerNodeChanges:r,triggerEdgeChanges:a}=l(),i=e||o,c=t||n,s=i.map(e=>(e.selected=!1,oe(e.id,!1))),d=c.map(e=>oe(e.id,!1));r(s),a(d)},setMinZoom:t=>{var{panZoom:n,maxZoom:o}=l();null==n||n.setScaleExtent([t,o]),e({minZoom:t})},setMaxZoom:t=>{var{panZoom:n,minZoom:o}=l();null==n||n.setScaleExtent([o,t]),e({maxZoom:t})},setTranslateExtent:t=>{var n;null===(n=l().panZoom)||void 0===n||n.setTranslateExtent(t),e({translateExtent:t})},setPaneClickDistance:e=>{var t;null===(t=l().panZoom)||void 0===t||t.setClickDistance(e)},resetSelectedElements:()=>{var{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:o}=l(),r=t.reduce((e,t)=>t.selected?[...e,oe(t.id,!1)]:e,[]),a=e.reduce((e,t)=>t.selected?[...e,oe(t.id,!1)]:e,[]);n(r),o(a)},setNodeExtent:t=>{var{nodeLookup:n}=l();for(var[,o]of n){var r=Object(a.s)(o.position,t);n.set(o.id,O(O({},o),{},{internals:O(O({},o.internals),{},{positionAbsolute:r})}))}e({nodeExtent:t})},panBy:e=>{var{transform:t,width:n,height:o,panZoom:r,translateExtent:i}=l();return Object(a.ib)({delta:e,panZoom:r,transform:t,translateExtent:i,width:n,height:o})},fitView:e=>{var{panZoom:t,width:n,height:o,minZoom:r,maxZoom:i,nodeLookup:c}=l();if(!t)return Promise.resolve(!1);var s=Object(a.J)(c,e);return Object(a.y)({nodes:s,width:n,height:o,panZoom:t,minZoom:r,maxZoom:i},e)},fitViewSync:e=>{var{panZoom:t,width:n,height:o,minZoom:r,maxZoom:i,nodeLookup:c}=l();if(!t)return!1;var s=Object(a.J)(c,e);return Object(a.y)({nodes:s,width:n,height:o,panZoom:t,minZoom:r,maxZoom:i},e),s.size>0},cancelConnection:()=>{e({connection:O({},a.X)})},updateConnection:t=>{e({connection:t})},reset:()=>e(O({},Zt()))}),Object.is)})({nodes:t,edges:n,defaultNodes:r,defaultEdges:c,width:s,height:d,fitView:u,nodeOrigin:g}));return Object(o.jsx)(j,{value:b,children:Object(o.jsx)(ve,{children:v})})}function Kt(e){var{children:t,nodes:n,edges:r,defaultNodes:a,defaultEdges:l,width:c,height:s,fitView:d,nodeOrigin:u}=e;return Object(i.useContext)(C)?Object(o.jsx)(o.Fragment,{children:t}):Object(o.jsx)(Tt,{initialNodes:n,initialEdges:r,defaultNodes:a,defaultEdges:l,initialWidth:c,initialHeight:s,fitView:d,nodeOrigin:u,children:t})}var Ht={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var Wt=se((function(e,t){var{nodes:n,edges:l,defaultNodes:c,defaultEdges:s,className:d,nodeTypes:u,edgeTypes:g,onNodeClick:v,onEdgeClick:p,onInit:m,onMove:f,onMoveStart:h,onMoveEnd:S,onConnect:C,onConnectStart:j,onConnectEnd:w,onClickConnectStart:x,onClickConnectEnd:E,onNodeMouseEnter:k,onNodeMouseMove:N,onNodeMouseLeave:M,onNodeContextMenu:P,onNodeDoubleClick:R,onNodeDragStart:I,onNodeDrag:B,onNodeDragStop:z,onNodesDelete:_,onEdgesDelete:A,onDelete:V,onSelectionChange:H,onSelectionDragStart:W,onSelectionDrag:F,onSelectionDragStop:G,onSelectionContextMenu:U,onSelectionStart:Q,onSelectionEnd:q,onBeforeDelete:J,connectionMode:$,connectionLineType:ee=a.a.Bezier,connectionLineStyle:te,connectionLineComponent:ne,connectionLineContainerStyle:oe,deleteKeyCode:re="Backspace",selectionKeyCode:ae="Shift",selectionOnDrag:ie=!1,selectionMode:le=a.g.Full,panActivationKeyCode:ce="Space",multiSelectionKeyCode:se=(Object(a.bb)()?"Meta":"Control"),zoomActivationKeyCode:de=(Object(a.bb)()?"Meta":"Control"),snapToGrid:ue,snapGrid:ge,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:be,nodesDraggable:pe,nodesConnectable:me,nodesFocusable:fe,nodeOrigin:he=T,edgesFocusable:Oe,edgesReconnectable:Se,elementsSelectable:ye=!0,defaultViewport:Ce=K,minZoom:je=.5,maxZoom:we=2,translateExtent:xe=a.W,preventScrolling:Ee=!0,nodeExtent:ke,defaultMarkerColor:Ne="#b1b1b7",zoomOnScroll:Me=!0,zoomOnPinch:Pe=!0,panOnScroll:De=!1,panOnScrollSpeed:Re=.5,panOnScrollMode:Ie=a.d.Free,zoomOnDoubleClick:Le=!0,panOnDrag:Be=!0,onPaneClick:ze,onPaneMouseEnter:_e,onPaneMouseMove:Ae,onPaneMouseLeave:Ve,onPaneScroll:Ze,onPaneContextMenu:Te,paneClickDistance:Ke=0,nodeClickDistance:He=0,children:We,onReconnect:Fe,onReconnectStart:Ye,onReconnectEnd:Xe,onEdgeContextMenu:Ge,onEdgeDoubleClick:Ue,onEdgeMouseEnter:Qe,onEdgeMouseMove:qe,onEdgeMouseLeave:Je,reconnectRadius:$e=10,onNodesChange:et,onEdgesChange:tt,noDragClassName:nt="nodrag",noWheelClassName:ot="nowheel",noPanClassName:rt="nopan",fitView:at,fitViewOptions:it,connectOnClick:lt,attributionPosition:ct,proOptions:st,defaultEdgeOptions:dt,elevateNodesOnSelect:ut,elevateEdgesOnSelect:gt,disableKeyboardA11y:vt=!1,autoPanOnConnect:bt,autoPanOnNodeDrag:pt,autoPanSpeed:mt,connectionRadius:ft,isValidConnection:ht,onError:Ot,style:St,id:yt,nodeDragThreshold:Ct,viewport:jt,onViewportChange:wt,width:xt,height:Et,colorMode:kt="light",debug:Nt}=e,Mt=y(e,b),Pt=yt||"1",Dt=function(e){var t,[n,o]=Object(i.useState)("system"===e?null:e);return Object(i.useEffect)(()=>{if("system"===e){var t=X(),n=()=>o(null!=t&&t.matches?"dark":"light");return n(),null==t||t.addEventListener("change",n),()=>{null==t||t.removeEventListener("change",n)}}o(e)},[e]),null!==n?n:null!==(t=X())&&void 0!==t&&t.matches?"dark":"light"}(kt);return Object(o.jsx)("div",O(O({},Mt),{},{style:O(O({},St),Ht),ref:t,className:Object(r.a)(["react-flow",d,Dt]),"data-testid":"rf__wrapper",id:yt,children:Object(o.jsxs)(Kt,{nodes:n,edges:l,width:xt,height:Et,fitView:at,nodeOrigin:he,children:[Object(o.jsx)(Vt,{onInit:m,onNodeClick:v,onEdgeClick:p,onNodeMouseEnter:k,onNodeMouseMove:N,onNodeMouseLeave:M,onNodeContextMenu:P,onNodeDoubleClick:R,nodeTypes:u,edgeTypes:g,connectionLineType:ee,connectionLineStyle:te,connectionLineComponent:ne,connectionLineContainerStyle:oe,selectionKeyCode:ae,selectionOnDrag:ie,selectionMode:le,deleteKeyCode:re,multiSelectionKeyCode:se,panActivationKeyCode:ce,zoomActivationKeyCode:de,onlyRenderVisibleElements:ve,defaultViewport:Ce,translateExtent:xe,minZoom:je,maxZoom:we,preventScrolling:Ee,zoomOnScroll:Me,zoomOnPinch:Pe,zoomOnDoubleClick:Le,panOnScroll:De,panOnScrollSpeed:Re,panOnScrollMode:Ie,panOnDrag:Be,onPaneClick:ze,onPaneMouseEnter:_e,onPaneMouseMove:Ae,onPaneMouseLeave:Ve,onPaneScroll:Ze,onPaneContextMenu:Te,paneClickDistance:Ke,nodeClickDistance:He,onSelectionContextMenu:U,onSelectionStart:Q,onSelectionEnd:q,onReconnect:Fe,onReconnectStart:Ye,onReconnectEnd:Xe,onEdgeContextMenu:Ge,onEdgeDoubleClick:Ue,onEdgeMouseEnter:Qe,onEdgeMouseMove:qe,onEdgeMouseLeave:Je,reconnectRadius:$e,defaultMarkerColor:Ne,noDragClassName:nt,noWheelClassName:ot,noPanClassName:rt,rfId:Pt,disableKeyboardA11y:vt,nodeExtent:ke,viewport:jt,onViewportChange:wt}),Object(o.jsx)(Y,{nodes:n,edges:l,defaultNodes:c,defaultEdges:s,onConnect:C,onConnectStart:j,onConnectEnd:w,onClickConnectStart:x,onClickConnectEnd:E,nodesDraggable:pe,nodesConnectable:me,nodesFocusable:fe,edgesFocusable:Oe,edgesReconnectable:Se,elementsSelectable:ye,elevateNodesOnSelect:ut,elevateEdgesOnSelect:gt,minZoom:je,maxZoom:we,nodeExtent:ke,onNodesChange:et,onEdgesChange:tt,snapToGrid:ue,snapGrid:ge,connectionMode:$,translateExtent:xe,connectOnClick:lt,defaultEdgeOptions:dt,fitView:at,fitViewOptions:it,onNodesDelete:_,onEdgesDelete:A,onDelete:V,onNodeDragStart:I,onNodeDrag:B,onNodeDragStop:z,onSelectionDrag:F,onSelectionDragStart:W,onSelectionDragStop:G,onMove:f,onMoveStart:h,onMoveEnd:S,noPanClassName:rt,nodeOrigin:he,rfId:Pt,autoPanOnConnect:bt,autoPanOnNodeDrag:pt,autoPanSpeed:mt,onError:Ot,connectionRadius:ft,isValidConnection:ht,selectNodesOnDrag:be,nodeDragThreshold:Ct,onBeforeDelete:J,paneClickDistance:Ke,debug:Nt}),Object(o.jsx)(Z,{onSelectionChange:H}),We,Object(o.jsx)(L,{proOptions:st,position:ct}),Object(o.jsx)(D,{rfId:Pt,disableKeyboardA11y:vt})]})}))})),Ft=e=>{var t;return null===(t=e.domNode)||void 0===t?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function Yt(e){var{children:t}=e,n=x(Ft);return n?Object(s.createPortal)(t,n):null}var Xt;function Gt(e){var{dimensions:t,lineWidth:n,variant:a,className:i}=e;return Object(o.jsx)("path",{strokeWidth:n,d:"M".concat(t[0]/2," 0 V").concat(t[1]," M0 ").concat(t[1]/2," H").concat(t[0]),className:Object(r.a)(["react-flow__background-pattern",a,i])})}function Ut(e){var{radius:t,className:n}=e;return Object(o.jsx)("circle",{cx:t,cy:t,r:t,className:Object(r.a)(["react-flow__background-pattern","dots",n])})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Xt||(Xt={}));var Qt={[Xt.Dots]:1,[Xt.Lines]:1,[Xt.Cross]:6},qt=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function Jt(e){var{id:t,variant:n=Xt.Dots,gap:a=20,size:l,lineWidth:s=1,offset:d=2,color:u,bgColor:g,style:v,className:b,patternClassName:p}=e,m=Object(i.useRef)(null),{transform:f,patternId:h}=x(qt,c.shallow),S=l||Qt[n],y=n===Xt.Dots,C=n===Xt.Cross,j=Array.isArray(a)?a:[a,a],w=[j[0]*f[2]||1,j[1]*f[2]||1],E=S*f[2],k=C?[E,E]:w,N=y?[E/d,E/d]:[k[0]/d,k[1]/d],M="".concat(h).concat(t||"");return Object(o.jsxs)("svg",{className:Object(r.a)(["react-flow__background",b]),style:O(O(O({},v),Oe),{},{"--xy-background-color-props":g,"--xy-background-pattern-color-props":u}),ref:m,"data-testid":"rf__background",children:[Object(o.jsx)("pattern",{id:M,x:f[0]%w[0],y:f[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(N[0],",-").concat(N[1],")"),children:y?Object(o.jsx)(Ut,{radius:E/d,className:p}):Object(o.jsx)(Gt,{dimensions:k,lineWidth:s,variant:n,className:p})}),Object(o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(M,")")})]})}Jt.displayName="Background";function $t(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:Object(o.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function en(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:Object(o.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function tn(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:Object(o.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function nn(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:Object(o.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function on(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:Object(o.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function rn(e){var{children:t,className:n}=e,a=y(e,p);return Object(o.jsx)("button",O(O({type:"button",className:Object(r.a)(["react-flow__controls-button",n])},a),{},{children:t}))}var an=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function ln(e){var{style:t,showZoom:n=!0,showFitView:a=!0,showInteractive:i=!0,fitViewOptions:l,onZoomIn:s,onZoomOut:d,onFitView:u,onInteractiveChange:g,className:v,children:b,position:p="bottom-left",orientation:m="vertical","aria-label":f="React Flow controls"}=e,h=E(),{isInteractive:O,minZoomReached:S,maxZoomReached:y}=x(an,c.shallow),{zoomIn:C,zoomOut:j,fitView:w}=pe(),k="horizontal"===m?"horizontal":"vertical";return Object(o.jsxs)(I,{className:Object(r.a)(["react-flow__controls",k,v]),position:p,style:t,"data-testid":"rf__controls","aria-label":f,children:[n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(rn,{onClick:()=>{C(),null==s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:Object(o.jsx)($t,{})}),Object(o.jsx)(rn,{onClick:()=>{j(),null==d||d()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S,children:Object(o.jsx)(en,{})})]}),a&&Object(o.jsx)(rn,{className:"react-flow__controls-fitview",onClick:()=>{w(l),null==u||u()},title:"fit view","aria-label":"fit view",children:Object(o.jsx)(tn,{})}),i&&Object(o.jsx)(rn,{className:"react-flow__controls-interactive",onClick:()=>{h.setState({nodesDraggable:!O,nodesConnectable:!O,elementsSelectable:!O}),null==g||g(!O)},title:"toggle interactivity","aria-label":"toggle interactivity",children:O?Object(o.jsx)(on,{}):Object(o.jsx)(nn,{})}),b]})}ln.displayName="Controls";var cn=Object(i.memo)(ln);function sn(e){var{id:t,x:n,y:a,width:i,height:l,style:c,color:s,strokeColor:d,strokeWidth:u,className:g,borderRadius:v,shapeRendering:b,selected:p,onClick:m}=e,{background:f,backgroundColor:h}=c||{},O=s||f||h;return Object(o.jsx)("rect",{className:Object(r.a)(["react-flow__minimap-node",{selected:p},g]),x:n,y:a,rx:v,ry:v,width:i,height:l,style:{fill:O,stroke:d,strokeWidth:u},shapeRendering:b,onClick:m?e=>m(e,t):void 0})}var dn=Object(i.memo)(sn),un=e=>e.nodes.map(e=>e.id),gn=e=>e instanceof Function?e:()=>e;function vn(e){var{nodeStrokeColor:t,nodeColor:n,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:i,nodeComponent:l=dn,onClick:s}=e,d=x(un,c.shallow),u=gn(n),g=gn(t),v=gn(r),b="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return Object(o.jsx)(o.Fragment,{children:d.map(e=>Object(o.jsx)(pn,{id:e,nodeColorFunc:u,nodeStrokeColorFunc:g,nodeClassNameFunc:v,nodeBorderRadius:a,nodeStrokeWidth:i,NodeComponent:l,onClick:s,shapeRendering:b},e))})}function bn(e){var{id:t,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:i,nodeBorderRadius:l,nodeStrokeWidth:s,shapeRendering:d,NodeComponent:u,onClick:g}=e,{node:v,x:b,y:p}=x(e=>{var n=e.nodeLookup.get(t),{x:o,y:r}=n.internals.positionAbsolute;return{node:n,x:o,y:r}},c.shallow);if(!v||v.hidden||!Object(a.gb)(v))return null;var{width:m,height:f}=Object(a.N)(v);return Object(o.jsx)(u,{x:b,y:p,width:m,height:f,style:v.style,selected:!!v.selected,className:i(v),color:n(v),borderRadius:l,strokeColor:r(v),strokeWidth:s,shapeRendering:d,onClick:g,id:v.id})}var pn=Object(i.memo)(bn),mn=Object(i.memo)(vn),fn=e=>{var t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Object(a.B)(Object(a.L)(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function hn(e){var t,n,{style:l,className:s,nodeStrokeColor:d,nodeColor:u,nodeClassName:g="",nodeBorderRadius:v=5,nodeStrokeWidth:b,nodeComponent:p,bgColor:m,maskColor:f,maskStrokeColor:h,maskStrokeWidth:S,position:y="bottom-right",onClick:C,onNodeClick:j,pannable:w=!1,zoomable:k=!1,ariaLabel:N="React Flow mini map",inversePan:M,zoomStep:P=10,offsetScale:D=5}=e,R=E(),L=Object(i.useRef)(null),{boundingRect:B,viewBB:z,rfId:_,panZoom:A,translateExtent:V,flowWidth:Z,flowHeight:T}=x(fn,c.shallow),K=null!==(t=null==l?void 0:l.width)&&void 0!==t?t:200,H=null!==(n=null==l?void 0:l.height)&&void 0!==n?n:150,W=B.width/K,F=B.height/H,Y=Math.max(W,F),X=Y*K,G=Y*H,U=D*Y,Q=B.x-(X-B.width)/2-U,q=B.y-(G-B.height)/2-U,J=X+2*U,$=G+2*U,ee="".concat("react-flow__minimap-desc","-").concat(_),te=Object(i.useRef)(0),ne=Object(i.useRef)();te.current=Y,Object(i.useEffect)(()=>{if(L.current&&A)return ne.current=Object(a.j)({domNode:L.current,panZoom:A,getTransform:()=>R.getState().transform,getViewScale:()=>te.current}),()=>{var e;null===(e=ne.current)||void 0===e||e.destroy()}},[A]),Object(i.useEffect)(()=>{var e;null===(e=ne.current)||void 0===e||e.update({translateExtent:V,width:Z,height:T,inversePan:M,pannable:w,zoomStep:P,zoomable:k})},[w,k,M,P,V,Z,T]);var oe=C?e=>{var t,[n,o]=(null===(t=ne.current)||void 0===t?void 0:t.pointer(e))||[0,0];C(e,{x:n,y:o})}:void 0,re=j?Object(i.useCallback)((e,t)=>{var n=R.getState().nodeLookup.get(t);j(e,n)},[]):void 0;return Object(o.jsx)(I,{position:y,style:O(O({},l),{},{"--xy-minimap-background-color-props":"string"==typeof m?m:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof f?f:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof h?h:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof S?S*Y:void 0,"--xy-minimap-node-background-color-props":"string"==typeof u?u:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof d?d:void 0,"--xy-minimap-node-stroke-width-props":"string"==typeof b?b:void 0}),className:Object(r.a)(["react-flow__minimap",s]),"data-testid":"rf__minimap",children:Object(o.jsxs)("svg",{width:K,height:H,viewBox:"".concat(Q," ").concat(q," ").concat(J," ").concat($),className:"react-flow__minimap-svg",role:"img","aria-labelledby":ee,ref:L,onClick:oe,children:[N&&Object(o.jsx)("title",{id:ee,children:N}),Object(o.jsx)(mn,{onClick:re,nodeColor:u,nodeStrokeColor:d,nodeBorderRadius:v,nodeClassName:g,nodeStrokeWidth:b,nodeComponent:p}),Object(o.jsx)("path",{className:"react-flow__minimap-mask",d:"M".concat(Q-U,",").concat(q-U,"h").concat(J+2*U,"v").concat($+2*U,"h").concat(-J-2*U,"z\n        M").concat(z.x,",").concat(z.y,"h").concat(z.width,"v").concat(z.height,"h").concat(-z.width,"z"),fillRule:"evenodd",pointerEvents:"none"})]})})}hn.displayName="MiniMap";var On=Object(i.memo)(hn)}}]);